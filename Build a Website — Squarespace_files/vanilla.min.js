function LayoutObject(a){this._attrs=a||{},this._setElement(),this._sizeState=[],this._ratioState=[]}function Layout(a){this._attrs=a||{},this._init()}var ABTest=function(){function a(a,b){var c,d,e,f,g,h,i,j;for(c=3&a.length,d=a.length-c,e=b,g=3432918353,h=461845907,j=0;d>j;)i=255&a.charCodeAt(j)|(255&a.charCodeAt(++j))<<8|(255&a.charCodeAt(++j))<<16|(255&a.charCodeAt(++j))<<24,++j,i=(65535&i)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i,e=e<<13|e>>>19,f=5*(65535&e)+((5*(e>>>16)&65535)<<16)&4294967295,e=(65535&f)+27492+(((f>>>16)+58964&65535)<<16);switch(i=0,c){case 3:i^=(255&a.charCodeAt(j+2))<<16;case 2:i^=(255&a.charCodeAt(j+1))<<8;case 1:i^=255&a.charCodeAt(j),i=(65535&i)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i}return e^=a.length,e^=e>>>16,e=2246822507*(65535&e)+((2246822507*(e>>>16)&65535)<<16)&4294967295,e^=e>>>13,e=3266489909*(65535&e)+((3266489909*(e>>>16)&65535)<<16)&4294967295,e^=e>>>16}function b(a){var b=a.replace(/[\u0080-\u07ff]/g,function(a){var b=a.charCodeAt(0);return String.fromCharCode(192|b>>6,128|63&b)});return b=b.replace(/[\u0800-\uffff]/g,function(a){var b=a.charCodeAt(0);return String.fromCharCode(224|b>>12,128|b>>6&63,128|63&b)})}function c(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return null}function d(a){var b=new Date;b.setTime(b.getTime()+63072e6),document.cookie=m+"="+h.stringify(a)+"; expires="+b.toGMTString()+"; path=/"}function e(){var a=c(m);return null===a?{}:h.parse(a)}function f(a,b){function d(a){return null===a?null:a.toString()}function f(a){var b=JSON.stringify({name:a.name,totalFrequencyUnits:a.totalFrequencyUnits,variations:a.variations});return g.hash(b)}function h(a){for(var b={name:a.name,totalFrequencyUnits:a._total_units,variations:[],conversionGoal:a._conversion_goal},c=0;c<a._variations.length;c++){var e=a._variations[c];b.variations.push({name:e.name,frequency:e.units,item:d(e.item)})}return b.variations.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0}),b.hash=f(b),b}function m(a){if(!a._finalized){if(a._variations.length<2)throw"Must have at least two variations defined.";a._variations.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0});var b=0,c=[],d=[];if(a._variations.forEach(function(a){a.units!=r?(b+=a.units,c.push(a)):d.push(a)}),d.length>0){if(b>=a._total_units)throw"Total units for variations excluding the REMAINDER variations must be less than total units of "+a._total_units+", instead of "+b;var e=a._total_units-b,f=Math.floor(e/d.length),g=e%d.length;if(1>f)throw"Remaining "+e+" units cannot be distributed among "+d.length+" variations.";for(var i=0;i<d.length;i++){var j=d[i],k=i+1==d.length;j.units=k?f+g:f,b+=j.units,c.push(j)}}if(b!=a._total_units)throw"Total units for all variations must equal the specified total units of "+a._total_units+", instead of "+b;if(a._variations=c,null===a._conversion_goal)throw"Must define a conversionGoal for a test";a._description=h(a),a._finalized=!0}}function w(a,b,c){return(65535&Math.abs(g.hash(a+b,n)))%c}function x(a,b,c){for(var d=null,e=0,f=0,g=0;g<a.length&&(d=a[g],f=e+d.units,!(c>=e&&f>c));g++)e=f;if(!d)throw"No variation found for bucket id: "+c;return d}function y(a,b){for(var c=0;c<a.length;c++)if(a[c].name==b)return a[c];return null}function z(a,b,c,d){if(a._finalized)throw"Cannot add a variation to a test already finalized and used for selection";for(var e=0;e<a._variations.length;e++){var f=a._variations[e];if(b==f.name)throw"Already have a test variation with name: "+b}var g={name:b,units:c,item:d};a._variations.push(g)}function A(a,b){var c;for(c=0;c<q.length;c++)try{q[c](b)}catch(d){console.log("Global selection listener error: "+d)}for(c=0;c<a._selection_listeners.length;c++)try{a._selection_listeners[c](b)}catch(d){console.log("Selection listener error: "+d)}}if(!i.test(a))throw"Test name must match regex "+i;if(void 0===b)b=100;else if("number"!=typeof b||Math.floor(b)!==b||2>b)throw"Units must be an integer > 2, not: "+b;return this.name=a,this._variations=[],this._conversion_goal=null,this._total_units=b,this._selection_listeners=[],this._participation_filters=[],this._item_for_non_participant=null,this._finalized=!1,this.variation=function(a,b,c){var d;if(2==arguments.length)c=b,d=r;else if(d=parseInt(b,10),isNaN(d)||1>d)throw"Units must be a number > 0, not: "+b;if(!j.test(a))throw"Variation name must match regex "+j;return z(this,a,d,c),this},this.conversionGoal=function(a,b){if(null!==this._conversion_goal)throw"Already defined a conversion goal: "+this._conversion_goal;if(!k.test(a))throw"Conversion goal name must match regex "+k;if(void 0===b&&(b=o),isNaN(b))throw"percent_change_target for a conversion goal must be number";if(b>1||-1>b)throw"percent_change_target is a fraction, e.g. 0.10 for 10%. Cannot exceed 1 or be less than -1.";return this._conversion_goal={metric:a,targetPercentChange:b},this},this.filter=function(a,b){return this._participation_filters.push(a),arguments.length>1&&(this._item_for_non_participant=b),this},this.filterOutParticipantsInOtherTests=function(a,b){return arguments.length>1?this.filter(u(a),b):this.filter(u(a))},this.requireParticipationInOtherTests=function(a,b){return arguments.length>1?this.filter(v(a),b):this.filter(v(a))},this.itemForNonParticipant=function(a){return this._item_for_non_participant=a,this},this.addSelectionListener=function(a){return this._selection_listeners.push(a),this},this.removeSelectionListener=function(a){var b=this._selection_listeners.indexOf(a);return b>=0&&this._selection_listeners.splice(b,1),this},this.pastParticipationKey=function(){return m(this),this.name+":"+this._description.hash},this.select=function(){m(this);var a=e(),b=c(l)||"",d=null,f=null,g=!0;if(void 0!==a[this.pastParticipationKey()]&&(d=y(this._variations,a[this.pastParticipationKey()])),null===d){for(var h=!1,i=0;i<this._participation_filters.length;i++)if(!this._participation_filters[i](b,a)){h=!0;break}h?(d={name:t,units:s,item:this._item_for_non_participant},g=!1):(f=w(b,this.name,this._total_units),d=x(this._variations,this._total_units,f),a[this.pastParticipationKey()]=d.name)}var j={test:this,selected:d,bucket_id:f,user:b,participations:a};if(g)try{p(j)}catch(k){console.log("ABTest selection recording error: "+k)}return A(this,j),d.item},this}var g={hash:function(c,d){return a(b(c),d)}},h={parse:function(a){return"string"!=typeof a?{}:(a=a.trim().replace(/^(\?|#)/,""),a?a.trim().split("&").reduce(function(a,b){var c=b.replace(/\+/g," ").split("="),d=c[0],e=c[1];return d=decodeURIComponent(d),e=void 0===e?null:decodeURIComponent(e),a.hasOwnProperty(d)?Array.isArray(a[d])?a[d].push(e):a[d]=[a[d],e]:a[d]=e,a},{}):{})},stringify:function(a){return a?Object.keys(a).map(function(b){var c=a[b];return Array.isArray(c)?c.map(function(a){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&"):encodeURIComponent(b)+"="+encodeURIComponent(c)}).join("&"):""}},i=/^[a-zA-Z]\w{0,63}$/,j=/^[a-zA-Z0-9][\w ]{0,63}$/,k=/^[a-zA-Z0-9].{0,250}$/,l="SS_MID",m="SS_ABPP",n=42,o=.1,p=function(a){if(d(a.participations),"undefined"!=typeof XMLHttpRequest){var b=new XMLHttpRequest,e={variation:a.selected.name,selectionCriteria:a.user,description:JSON.stringify(a.test._description),crumb:c("crumb")},f=h.stringify(e);b.open("POST","/api/events/ABTest",!0),b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b.send(f)}},q=[],r=-1,s=0,t="__non_participant__",u=function(a){if("[object Array]"===Object.prototype.toString.call(a)||!a.length)throw"Must provide a non-empty array of test names";var b=a;return function(a,c){var d=!1;for(var e in c){var f=e.indexOf(":");if(!(0>f)){for(var g=e.substring(0,f),h=!1,i=0;i<b.length;i++)if(b[i]===g){h=!0;break}if(h){d=!0;break}}}return!d}},v=function(a){if("[object Array]"===Object.prototype.toString.call(a)||!a.length)throw"Must provide a non-empty array of test names";for(var b={},c=0;c<a.length;c++)b[a[c]]=!1;return function(a,c){var d;for(d in c){var e=d.indexOf(":");if(!(0>e)){var f=d.substring(0,e);f in b&&(b[f]=!0)}}var g=!1;for(d in b)if(!b[d]){g=!0;break}return!g}},w={newTest:function(a,b){return new f(a,b)},addSelectionListener:function(a){q.push(a)},removeSelectionListener:function(a){var b=q.indexOf(a);b>=0&&q.splice(b,1)}};return w}(),JS={resizeEvent:void 0!==window.orientation?"orientationchange":"resize",_customEvents:{},isIE:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1},isAndroid:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("android")?!0:!1},isAppleMobile:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("iphone")||-1!=a.indexOf("ipad")},isMobile:function(){return void 0===window.orientation?!1:!0},one:function(a,b){var b=b||document;return b.querySelector(a)},all:function(a,b){var b=b||document;return b.querySelectorAll(a)},on:function(a,b,c,d){var c=d?c.bind(d):c;return a.addEventListener(b,c),c},off:function(a,b,c){a.removeEventListener(b,c,!1)},onCustom:function(a,b){JS._customEvents[a]=b},fireCustom:function(a,b){var c=b||this;JS._customEvents[a]&&JS._customEvents[a](c)},addClass:function(a,b){var c=a.length||1;for(ee=0;ee<c;ee++){var d=a[ee]||a;if(!JS.hasClass(d,b)){var e=d.className;e+=" "+b,d.className=e.trim()}}},removeClass:function(a,b){var c=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g"),d=a.length||1;for(ee=0;ee<d;ee++){var e=a[ee]||a,f=e.className;f=f.replace(c,""),e.className=f.trim()}},hasClass:function(a,b){var c=a.className,d=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g");return d.test(c)},toggleClass:function(a,b){JS.hasClass(a,b)?JS.removeClass(a,b):JS.addClass(a,b)},requestFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},fire:function(a,b){if(!document.createEventObject){var c=document.createEvent("HTMLEvents");return c.initEvent(b,!0,!0),!a.dispatchEvent(c)}var c=document.createEventObject();a.fireEvent("on"+b,c)},percentagesOfPercentages:function(a,b,c,d,e){if(a instanceof Array&&2===a.length&&b instanceof Array&&2===b.length&&"number"==typeof c){var f=a[0],g=a[1],h=g>f?f:g,i=g>f?g:f,j=b[0],k=b[1],l=k>j?k:j;if(c>i||h>c)return null;if(cDiff=Math.abs(f-g),inDiff=Math.abs(j-k),f===i)if(j===l)var m=k;else var m=0-k;else if(j===l)var m=0-j;else var m=j;return Math.abs((c-h)/cDiff*inDiff+m).toFixed(e||0).toString()+(d||"")}},slope:function(a,b){var c=(a.y-b.y)/(a.x-b.x);return c},yIntercept:function(a,b){var c=a.y-b*a.x;return c},splineCurve:function(a,b,c,d){var e=d||.5,f=Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)),g=Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2)),h=e*f/(f+g),i=e*g/(f+g);return{inner:{x:b.x-h*(c.x-a.x),y:b.y-h*(c.y-a.y)},outer:{x:b.x+i*(c.x-a.x),y:b.y+i*(c.y-a.y)}}},getPointOnCurve:function(a,b,c,d,e){function f(a){return a*a*a}function g(a){return 3*a*a*(1-a)}function h(a){return 3*a*(1-a)*(1-a)}function i(a){return(1-a)*(1-a)*(1-a)}var j=function(a,b){if(!a)var a=0;if(!b)var b=0;return{x:a,y:b}},k=function(a,b,c,d,e){var k=new j;return k.x=b.x*f(a)+c.x*g(a)+d.x*h(a)+e.x*i(a),k.y=b.y*f(a)+c.y*g(a)+d.y*h(a)+e.y*i(a),k},l=function(){if(!Array.isArray(a)||!Array.isArray(b)||!Array.isArray(c))return console.warn("Points must be in Arrays"),{x:null,y:null};var f={x:a[0],y:a[1]},g={x:b[0],y:b[1]},h={x:c[0],y:c[1]},i=JS.splineCurve(f,g,h,e||.5),j=i.inner,l=i.outer;return k(d,f,j,l,h)},m=l();return console.log(m),m},interpolateY:function(a,b,c,d){if(d){var e=JS.getPointOnCurve([a.x,a.y],[d.x,d.y],[b.x,b.y],(c-a.x)/(b.x-a.x)).y;return e}var f=JS.slope(a,b),g=JS.yIntercept(a,f),e=f*c+g;return e},getStyle:function(a,b,c){var d="";return document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),d=a.currentStyle[b]),c===!0?parseFloat(d):d},simulateClick:function(a){var b=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});!a.dispatchEvent(b)},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},prepend:function(a,b){var c=b.querySelector("*:first-child");b.insertBefore(a,c)}};JS.isIE()!==!1&&JS.isIE()<9&&(document.documentElement.className+=" ie--old");var supportsWebP=function(){var a=new Image;JS.on(a,"load",function(){JS.addClass(JS.one("html"),"webp"),window.iswebp=!0,JS.fireCustom("webpsupportchecked")},this),JS.on(a,"error",function(){window.iswebp=!1,JS.fireCustom("webpsupportchecked")},this),a.src="//static.squarespace.com/universal/images-v6/www/test-pixel.webp"},EventsHandler=function(){this._events=[]};EventsHandler.prototype={registerEvent:function(a,b,c,d){var e=JS.on(a,b,c,d);this._events.push({target:a,eventname:b,listener:e})},detachEvents:function(a){for(var b,c=0;c<this._events.length;c++)if(b=this._events[c],a){if(a&&b.target===a.currentTarget){JS.off(b.target,b.eventname,b.listener);break}}else JS.off(b.target,b.eventname,b.listener)}};var DepLoader=function(){function init(){var a=document.getElementById("inline-deps");if(!a||JS.hasClass(document.body,"deps--loaded"))webfontsReady();else{var b=a.innerText||a.textContent;setTimeout(function(){JS.addClass(document.body,"deps--loaded")},100),processRaw(b)}}function isListed(a,b){for(var c=!1,d=0;d<b.length;d++)if(-1!==a.indexOf(b[d])){c=!0;break}return c}function webfontsReady(){setTimeout(function(){JS.fireCustom("webfontsReady")},250)}function processRaw(html){var el=document.createElement("div");el.innerHTML=html;for(var scripts=el.querySelectorAll("script"),styles=el.querySelectorAll("link"),common,signup,dialog,systemPage,commerce,others=[],inline=[],styleWhiteList=["site.css","dialog-","signup-","logomark"],scriptBlackList=["management-","ckeditor-"],script,src,s=0;s<scripts.length;s++)script=scripts[s],src=script.src,src||"dynamic-assets-loader"==script.getAttribute("data-sqs-type")||-1===script.innerHTML.indexOf("SQUARESPACE_ROLLUPS")||eval(script.innerHTML);if(window.SQUARESPACE_ROLLUPS)for(var key in SQUARESPACE_ROLLUPS){var rollup=SQUARESPACE_ROLLUPS[key],js=rollup.js,css=rollup.css;-1!==key.indexOf("common")?common=js:-1!==key.indexOf("commerce")?commerce=js:-1!==key.indexOf("signup")?signup=js:-1!==key.indexOf("dialog")?dialog=js:-1!==key.indexOf("system-page")||-1!==key.indexOf("system_page")?systemPage=js:key?others=others.concat(js):inline=inline.concat(js)}for(var style,l=0;l<styles.length;l++)style=styles[l],-1!==style.href.indexOf("fonts.css")&&load(style,webfontsReady),isListed(style.href,styleWhiteList)&&load(style);for(var ROLLUP_STYLES_TO_LOAD=["squarespace-dialog","squarespace-signup"],i=0;i<ROLLUP_STYLES_TO_LOAD.length;i++){var name=ROLLUP_STYLES_TO_LOAD[i],rollup=window.SQUARESPACE_ROLLUPS[name];rollup.css&&rollup.css.length>0&&rollup.css.forEach(function(a){load({href:a,nodeName:"LINK",rel:"stylesheet"})})}for(var _k=0,s=0;s<scripts.length;s++)script=scripts[s],src=script.src,isListed(src,scriptBlackList)||(-1!==src.indexOf("common-")?common=script:-1!==src.indexOf("commerce-")?commerce=script:-1!==src.indexOf("signup-")?signup=script:-1!==src.indexOf("dialog-")?dialog=script:-1!==src.indexOf("system-page-")||-1!==src.indexOf("system_page")?systemPage=script:src?others.push(script):inline.push(script));var loadOthers=function(){for(var a=0;a<inline.length;a++)"dynamic-assets-loader"!=inline[a].getAttribute("data-sqs-type")&&load(inline[a]);var b=0;load(others[b],loadNext(b,others))},loadSystemPage=load.bind(this,systemPage,loadOthers,"system page"),loadSignup=load.bind(this,signup,loadSystemPage,"signup"),loadCommerce=load.bind(this,commerce,loadSignup,"commerce"),loadDialog=load.bind(this,dialog,loadCommerce,"dialog"),loadCommon=load.bind(this,common,loadDialog,"common");loadCommon()}function loadNext(a,b){a++,a<b.length?"string"==typeof b[a]&&-1!==b[a].indexOf("squarespace.js")||"object"==typeof b[a]&&b[a].src&&-1!==b[a].src.indexOf("squarespace.js")?Y&&Y.later(1,b[a],function(){load(this,function(){"object"==typeof Y.Squarespace.FrontSite.Core&&Y.Squarespace.FrontSite.Core.domReady(!0),loadNext(a,b)})}):load(b[a],loadNext(a,b)):setTimeout(function(){JS.fireCustom("dependenciesLoaded")},500)}function load(tag,callback,label){function next(){if(0===tag.length)callback();else{var a=tag.shift();load({nodeName:".js"===a.substr(-3)?"SCRIPT":"LINK",src:a},next,label)}}var head=document.head;if(Array.isArray(tag))return void next();if(!tag)return void(callback&&callback());if(tag&&(tag.src||tag.href)){var child;"SCRIPT"===tag.nodeName?(child=document.createElement("script"),child.src=tag.src):"LINK"===tag.nodeName&&"stylesheet"===tag.rel&&(child=document.createElement("link"),child.href=tag.href,child.rel="stylesheet",child.tyle="text/css"),child&&(child.onload=callback,head.appendChild(child))}else try{eval(tag.innerHTML),callback&&callback()}catch(e){console.log(e)}}return{init:init,webfontsReady:webfontsReady}}();LayoutObject.prototype={_switch:function(a,b){var c,d=this[b];if(d)for(c=0;c<d.length;c++)JS.removeClass(this._el,d[c]);if(a)for(c=0;c<a.length;c++)JS.addClass(this._el,a[c]);this[b]=a},_setElement:function(){this._el=document.querySelector(this._attrs.el)},refreshElement:function(){this._setElement()},switchRatioClassName:function(a){this._switch(a,"_ratioState")},switchSizeClassName:function(a){this._switch(a,"_sizeState")},getCurrentSize:function(){return this._el.clientWidth}},Layout.prototype={getElement:function(){return this._el},_init:function(){this.events=new EventsHandler,this._attrs.ratios&&(this._sync(),this._bindEvents())},_destructor:function(){this.events.detachEvents()},_sync:function(){var a;if(this._attrs.ratios&&(a=this._syncRatios()),a&&a.ratio&&a.ratio.sizes)this._syncSizes(a);else{var b,c=this._attrs.children;for(var d in c)b=this._getChildById(d),b.switchSizeClassName(null)}},_syncRatios:function(){var a=this._getCurrentRatio(),b=this._getMatchingRatios(a);return b.ratio&&this._applyRatioClass(b.ratio,b.label),b},_syncSizes:function(a){var b,c,d,e=a.ratio.sizes;for(var f in e)b=this._getChildById(f),b&&(c=b.getCurrentSize(),d=this._getMatchingSize(c,e[f]),d.size?b.switchSizeClassName(d.size):b.switchSizeClassName(null))},_bindEvents:function(){this.events.registerEvent(window,"resize",this._sync,this)},_getMatchingSize:function(a,b){var c=null,d=0,e=document.documentElement.clientHeight;for(var f in b)if(d=parseInt(f),d>a){closestS=f;var g=b[f];for(var h in g)if(hsize=parseInt(h),e<=hsize){closestH=h;break}break}return{size:b[closestS][closestH],label:c}},_getMatchingRatios:function(a){var b,c,d=this._attrs.ratios||[],e=1/0,f=null;for(var g in d)c=parseFloat(g),(c>=1&&a>=1||1>c&&1>a)&&(b=Math.abs(c-a),e>b&&(e=b,f=g));return{ratio:d[f],label:f}},_applyRatioClass:function(a,b){var c,d;for(var e in a)c=this._getChildById(e),c&&(d=a[e],c.switchRatioClassName(d))},_getCurrentSize:function(){return window.innerWidth},_getCurrentRatio:function(){var a=window.innerWidth,b=window.innerHeight;return a/b},_getChildById:function(a){var b=this._attrs.children;return b[a]}};var Parallax=function(a){this._foreground=a.foreground,this._background=a.background,this._events=new EventsHandler,this._extra={x:2,y:3,orientation:{x:10,y:8}},this._currentPos={x:null,y:null},this._firstTransition=!0,this._cache(),this._bindEvents(),this._stretchCanvas()};Parallax.prototype={destructor:function(){this._events.detachEvents()},_cache:function(){this._midpoint={x:window.innerWidth/2,y:window.innerHeight/2},this._range={x:window.innerWidth-this._midpoint.x,y:window.innerHeight-this._midpoint.y}},_stretchCanvas:function(){this._background.style.position="absolute",this._background.style.width=100+this._extra.x+"%",this._background.style.height=100+this._extra.y+"%",this._updateCoords(0,0,!0)},_bindEvents:function(){window.DeviceOrientationEvent&&void 0!==window.orientation?(this._extra.x=this._extra.orientation.x,this._extra.y=this._extra.orientation.y,this._isIOS()&&this._events.registerEvent(window,"deviceorientation",this._moveWithOrientation,this)):void 0===window.ontouchstart&&this._events.registerEvent(document,"mousemove",this._mouseMove,this),this._events.registerEvent(window,JS.resizeEvent,this._cache,this)},_isIOS:function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1},_moveWithOrientation:function(a){var b=window.orientation,c=90===b||-90===b,d=c?a.beta:a.gamma;d*=180===b||-90===b?-1:1;var e=60,f=(c?a.gamma:a.beta)+(b>0?e:-e);f*=0>=b?1:-1;var g=d/20,h=f/30;this._updateCoords(g,h)},_displaceBackground:function(a,b){this._background.style.left=a+"%",this._background.style.top=b+"%"},_updateCoords:function(a,b,c){a=Math.max(-1,Math.min(1,a)),b=Math.max(-1,Math.min(1,b));var d=-a*(this._extra.x/2)-this._extra.x/2,e=-b*(this._extra.y/2)-this._extra.y/2;return e=e.toFixed(2),d=d.toFixed(2),c?void this._displaceBackground(d,e):void((this._currentPos.x!==d||this._currentPos.y!==e)&&(this._currentPos.x=d,this._currentPos.y=e,JS.requestFrame.call(window,function(){this._firstTransition===!0?(this._firstTransition="translating",this._displaceBackground(this._currentPos.x,this._currentPos.y),JS.addClass(this._background,"first-transition"),setTimeout(function(){JS.removeClass(this._background,"first-transition"),this._firstTransition=!1}.bind(this),600)):"translating"!==this._firstTransition&&this._displaceBackground(this._currentPos.x,this._currentPos.y)}.bind(this))))},_mouseMove:function(a){var b=a.x||a.pageX,c=a.y||a.pageY,d={x:b,y:c},e=(d.x-this._midpoint.x)/this._range.x,f=(d.y-this._midpoint.y)/this._range.y;this._updateCoords(e,f)}};var DetailsGallery={scenes:new Array,active:0,nav:{left:".slider-arrow--left",right:".slider-arrow--right"},init:function(a){-1!=document.location.pathname.indexOf("/details")&&(document.location=document.location.toLocaleString().replace("details","")),this.events=new EventsHandler,this.layout=JS.one(".layout"),this.autoplay=a.autoplay||!1,this.playlists=new Array(["stlucia","alex","designers","startups","smallbusiness","stores","artists","musicians","architects","photographers","performers","weddings","inventors","bloggers","restaurants","writers","publications","directors"],["alex","stlucia","smallbusiness","bloggers","architects","artists","stores","photographers","publications","musicians","writers","inventors","directors","startups","designers","restaurants","performers","weddings"],["photographers","stlucia","stores","alex","inventors","directors","publications","architects","startups","performers","smallbusiness","bloggers","weddings","restaurants","writers","artists","designers","musicians"]),this.plist=this.playlists[a.playlist]||this.playlists[Math.floor(Math.random()*this.playlists.length)],this.totalScenes=this.plist.length,this.landingInfo={plistIndex:this.playlists.indexOf(this.plist),plistFirstPersona:this.plist[0]},this.scenes[0]=new Details({index:0}),JS.onCustom("backgroundloaded",function(a){}.bind(this)),JS.isMobile()&&this.events.registerEvent(JS.one(".layout"),"touchend",function(a){JS.hasClass(a.target,"cta")||JS.hasClass(a.target,"icon")||JS.hasClass(a.target,"navigation-trigger")||JS.hasClass(a.target,"button")||(a.changedTouches[0].pageX>=document.documentElement.clientWidth/2?this.navScene("next"):this.navScene("prev"))},this),this.events.registerEvent(document,"click",function(a){this.autoplay===!0&&this.stopAutoplay()},this)}};DetailsGallery.newScene=function(a){this.scenes.push(new Details({preload:!0,persona:a,index:this.scenes.length}))},DetailsGallery.preload=function(){clearTimeout(this.preloadTimer),this.preloadTimer=null,this.scenes.length<this.plist.length&&this.newScene(this.plist[this.scenes.length]),this.autoplay===!0&&JS.onCustom("uicompleted",function(a){clearTimeout(this.autoplayTimer),this.autoplay===!0&&(this.autoplayTimer=setTimeout(function(){this.navScene("next")}.bind(this),5e3))}.bind(this))},DetailsGallery.getActive=function(){for(var a=document.location.hash.substring(1),b=0;b<this.scenes.length;b++)if(a==this.scenes[b].sceneName)return b},DetailsGallery.stopAutoplay=function(){this.autoplay=!1,clearTimeout(this.autoplayTimer),this.autoplayTimer=null},DetailsGallery.navScene=function(a){if(a){if(!DetailsGallery.precached&&0==DetailsGallery.autoplay&&!JS.isMobile()){for(var b=0;6>b;b++)DetailsGallery.preload();DetailsGallery.precached=!0}if("next"===a&&this.scenes[this.active+1]&&JS.hasClass(this.scenes[this.active+1].scene,"preloading"))return Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls(),!1;if(this.active=DetailsGallery.getActive(),this.lastActive=this.scenes[this.active],"next"===a){if(this.preloadTimer&&(clearTimeout(this.preloadTimer),this.preloadTimer=null),this.active>=this.totalScenes-1)return Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls(),JS.addClass(JS.one(".viz"),"slider--bounce-right"),void setTimeout(function(){JS.removeClass(JS.one(".viz"),"slider--bounce-right")},500);this.active<this.totalScenes-1&&!this.scenes[this.active+1]?(this.newScene(this.plist[this.active+1]),JS.onCustom("backgroundloaded",function(a){this.scenes[this.active+1]===a&&(this.finishSceneSetup({obj:this.scenes[this.active+1]}),this.updateUI())}.bind(this))):(this.active+=1,this.active>=this.scenes.length&&(this.active=0),this.scenes[this.active].rebindUI(),this.transitionScenes(this.lastActive.scene,this.scenes[this.active]),this.scenes[this.active].windowResize(),this.updateUI()),this.active<this.scenes.length&&(this.preloadTimer=setTimeout(function(){this.preload()}.bind(this),DetailsGallery.preloadInterval))}else if("prev"===a){if(this.active-=1,this.active<0)return this.active=0,Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls(),JS.addClass(JS.one(".viz"),"slider--bounce-left"),void setTimeout(function(){JS.removeClass(JS.one(".viz"),"slider--bounce-left")},500);this.scenes[this.active].rebindUI(),this.transitionScenes(this.lastActive.scene,this.scenes[this.active]),this.scenes[this.active].windowResize(),this.updateUI()}this.lastActive&&this.lastActive.destructor()}},DetailsGallery.finishSceneSetup=function(a){this.lastActive=this.scenes[this.active].scene,this.scenes[this.active].destructor(),this.active=DetailsGallery.getActive(),JS.hasClass(a.obj.scene,"loaded")||(JS.onCustom("uicompleted",function(){this.scenes[this.active].rebindUI(),this.scenes[this.active].layoutObj._sync(),this.transitionScenes(this.lastActive,this.scenes[this.active])}.bind(this,this.lastActive)),this.scenes[this.active].completeUI())},DetailsGallery.transitionScenes=function(a,b){return a&&b&&a.style?(a.style.display="block",b.scene.style.display="block",setTimeout(function(){JS.addClass(b.scene,"viz"),JS.removeClass(a,"viz"),b.setUIColors(b.scene),b.windowResize(),Y.Squarespace.FrontSite.Core.currentPage&&Y.Squarespace.FrontSite.Core.currentPage._navigationControls()}.bind(this),1),void setTimeout(function(){a.style.display="",b.scene.style.display=""}.bind(this),500)):!1},DetailsGallery.updateUI=function(){0==this.active?(JS.addClass(JS.one(this.nav.left),"slider-arrow--disabled"),JS.removeClass(JS.one(this.nav.right),"slider-arrow--disabled")):this.active>=this.totalScenes-1?(JS.removeClass(JS.one(this.nav.left),"slider-arrow--disabled"),JS.addClass(JS.one(this.nav.right),"slider-arrow--disabled")):(JS.removeClass(JS.one(this.nav.left),"slider-arrow--disabled"),JS.removeClass(JS.one(this.nav.right),"slider-arrow--disabled")),this.updateHash()},DetailsGallery.updateHash=function(){"undefined"==typeof YUI?document.location.hash=this.scenes[this.active].sceneName:void 0!==this.scenes[this.active]&&Y.Squarespace.FrontSite.Core.router.save("#"+this.scenes[this.active].sceneName)};var Details=function(a){this.defaults={preload:!1},this.config=this.merge(this.defaults,a),this.init()};Details.prototype={init:function(){return this.getSceneDeviceConfigs(),this.scenes=JS.all(".scene"),this.scene=this.selectScene(),null===this.scene?!1:(this.sceneName=this.scene.getAttribute("data-scene"),this.deviceType=this.personaInfo[this.sceneName].device,this.config.preload?JS.addClass(this.scene,"preloading"):JS.addClass(this.scene,"viz"),this.layout=JS.one(".layout"),this.events=new EventsHandler,this.imageVersion=1,this.imageBasePath="http://cf.squarespace.com/details-062614/",this.resizeEventInfo={},JS.addClass(this.layout,"details--loading"),void("undefined"==typeof DetailsGallery.iswebp?(DetailsGallery.iswebp=this.supportsWebP(),JS.onCustom("webpsupportchecked",function(a){this.renderUI(),this.bindUI(),this.buildImg(this.backgroundImg,this.backgrnd)}.bind(this))):(this.renderUI(),this.bindUI(),this.buildImg(this.backgroundImg,this.backgrnd))))},destructor:function(){this.detailsParallax&&this.detailsParallax.destructor(),this.events.detachEvents(),this.layoutObj&&this.layoutObj._destructor()},merge:function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},renderUI:function(){this.winWidth=document.documentElement.clientWidth,this.winHeight=document.documentElement.clientHeight,this.backgrnd=this.scene.querySelector(".background"),this.device=this.scene.querySelector(".device"),this.deviceImageEl=null,this.detailstextwrapper=JS.one(".details-text-wrapper"),this.websiteContentLoaded=0,this.deviceContentArray=[],this.setDeviceAttrs(),this.personaInfo[this.sceneName].tall===!0&&JS.addClass(this.device,"laptop--tall"),this.backgroundImg=new Image,this.deviceImgLowres=new Image,this.deviceImg=new Image},bindUI:function(){this.events.registerEvent(window,JS.resizeEvent,this.windowResize,this),JS.onCustom("webfontsReady",function(){setTimeout(function(){JS.addClass(JS.one("body"),"webfonts--ready")},500)}),JS.onCustom("dependenciesLoaded",function(){JS.isAndroid()&&!JS.hasClass(JS.one("body"),"webfonts--ready")&&DepLoader.webfontsReady()}),this.events.registerEvent(this.backgroundImg,"load",function(a){this.loadTimer.stop=(new Date).getTime(),this.loadTimer.start&&this.loadTimer(),this.backgrnd.style.backgroundImage="url("+this.backgroundImg.getAttribute("src")+")",this.buildImg(this.deviceImgLowres,this.device,"lowres"),JS.fireCustom("backgroundloaded",this),this.events.detachEvents(a)},this),this.events.registerEvent(this.deviceImgLowres,"load",function(a){this.device.appendChild(this.deviceImgLowres),this.deviceImageEl=this.device.querySelector("img"),this.config.preload||this.setUIColors(this.scene),this.layoutImg=new LayoutObject({el:"."+this.sceneName+" .device > img"}),this.layoutObj=new Layout({children:{text:new LayoutObject({el:".details-text-wrapper"}),device:new LayoutObject({el:"."+this.sceneName+" .device"}),img:this.layoutImg,button:new LayoutObject({el:".button"}),background:new LayoutObject({el:".viz .background"})},ratios:this.getRatioConfigs(this.sceneName)}),this.scaleDeviceImage(),JS.addClass(JS.one("body"),"ready"),DepLoader.init(),this.setLoaded(this.scene),JS.fireCustom("uicompleted",this.scene),JS.isMobile()&&(this.detailsParallax=new Parallax({foreground:this.device,background:this.backgrnd})),this.deviceImg.className=this.deviceImgLowres.className,this.buildImg(this.deviceImg,this.device),this.events.detachEvents(a)},this),this.events.registerEvent(this.deviceImg,"load",function(a){this.swapHighres(this.device,this.deviceImgLowres,this.deviceImg),JS.removeClass(this.deviceImg,"loading"),this.layoutImg.refreshElement(),this.config.preload&&JS.removeClass(this.scene,"preloading"),this.events.detachEvents(a)},this),this.events.registerEvent(window,"mousemove",function(a){var b=a.x||a.pageX;b>.7*this.winWidth?(JS.one(DetailsGallery.nav.left).style.opacity="",JS.one(DetailsGallery.nav.right).style.opacity=.7):b<.3*this.winWidth?(JS.one(DetailsGallery.nav.left).style.opacity=.7,
JS.one(DetailsGallery.nav.right).style.opacity=""):(JS.one(DetailsGallery.nav.left).style.opacity="",JS.one(DetailsGallery.nav.right).style.opacity="")},this)},rebindUI:function(){this.events&&(this.events.detachEvents(),this.events._events=[]),this.bindUI(),JS.isMobile()&&(this.detailsParallax=new Parallax({foreground:this.device,background:this.backgrnd})),this.layoutObj._bindEvents(),JS.one(".details-text-wrapper").style.opacity=1},completeUI:function(){this.buildImg(this.deviceImgLowres,this.device,"lowres")},setUIColors:function(a){"dark"===a.getAttribute("data-color")?(JS.addClass(this.detailstextwrapper,"details-text-wrapper--dark"),JS.addClass(JS.one(".details-text-wrapper .button"),"button--dark"),setTimeout(function(){JS.addClass(JS.one(".cta"),"cta--dark"),JS.addClass(JS.one(".slider-arrow--left"),"dark"),JS.addClass(JS.one(".slider-arrow--right"),"dark"),JS.removeClass(JS.one(".header .logo"),"logo--light"),JS.removeClass(JS.one(".navigation-actions"),"navigation-actions--light")},250)):(JS.removeClass(this.detailstextwrapper,"details-text-wrapper--dark"),JS.removeClass(JS.one(".details-text-wrapper .button"),"button--dark"),setTimeout(function(){JS.removeClass(JS.one(".cta"),"cta--dark"),JS.removeClass(JS.one(".slider-arrow--left"),"dark"),JS.removeClass(JS.one(".slider-arrow--right"),"dark"),JS.addClass(JS.one(".header .logo"),"logo--light"),JS.addClass(JS.one(".navigation-actions"),"navigation-actions--light")},250))},selectScene:function(){var a=this.config.persona||this.getAllowedHash();if(a&&!this.config.persona){if(-1!=DetailsGallery.plist.indexOf(a))var b=DetailsGallery.plist.splice(DetailsGallery.plist.indexOf(a),1);else var b=new Array(a);DetailsGallery.plist.splice(0,0,b[0])}return a&&JS.one(".scene."+a)&&!JS.hasClass(JS.one(".scene."+a),"loaded")?JS.one(".scene."+a):JS.one(".scene."+DetailsGallery.plist[this.config.index])},getAllowedHash:function(){for(var a=document.location.hash&&document.location.hash.toString().substring(1),b=null,c=0;c<this.scenes.length;c++)if(a===this.scenes[c].getAttribute("data-scene")){b=a;break}return"video"===a?this.popVideo=!0:this.popVideo=!1,b},setLoaded:function(a){JS.addClass(a,"loaded")},setDeviceAttrs:function(){JS.addClass(this.device,this.deviceType),this.device.setAttribute("data-image",this.deviceType),this.device.setAttribute("data-image-extension","png"),this.device.setAttribute("data-image-size",this.deviceSizes[this.deviceType].size),this.device.setAttribute("data-resolutions",this.deviceSizes[this.deviceType].res)},selectImg:function(a,b){var c,d=a.getAttribute("data-image-size").toString().split("x"),e=a.getAttribute("data-resolutions").toString().split(", "),f=[JS.getStyle(a,"width",!0),JS.getStyle(a,"height",!0)],g=d[0];(0==f[0]||isNaN(f[0])||0==f[1]||isNaN(f[1]))&&(f=[window.innerWidth,window.innerHeight]),null!==a.querySelector("img")?(c=JS.getStyle(a.querySelector("img"),"width",!0),c*=window.devicePixelRatio&&this.winWidth>1800?devicePixelRatio>1?devicePixelRatio-1:devicePixelRatio:window.devicePixelRatio||1):(c=f[0],JS.hasClass(a,"background")||(c*=window.devicePixelRatio||1));for(var h=0;h<e.length-1;h++)if(c<=e[h]){g=e[h];break}if(b){if("laptop"===this.deviceType)var i=parseInt(Math.floor(h/2));else var i=parseInt(Math.floor(h/2))-1>=0?parseInt(Math.floor(h/2))-1:0;return e[i]}return this.loadTimer.mbps&&(this.loadTimer.mbps<.5?g=e[h-2]||e[0]:this.loadTimer.mbps<1&&(g=e[h-1]||e[0])),g=Math.min(g,d[0])},buildImg:function(a,b,c){if(c)var d=this.selectImg(b,"lowres");else var d=this.selectImg(b);if(b.getAttribute("data-image-webp")&&"true"===b.getAttribute("data-image-webp").toString()&&DetailsGallery.iswebp)var e="webp";else var e=b.getAttribute("data-image-extension").toString();if(null!==a.getAttribute("src")&&-1!=a.getAttribute("src").indexOf(d+"."+e))return!1;if(JS.hasClass(b,"background"))var f="background";else if(JS.hasClass(b,"device"))var f=this.deviceType;a.setAttribute("src",this.imageBasePath+this.sceneName+"/"+f+"-"+d+"."+e+"?v="+this.imageVersion),"background"!==f||DetailsGallery.iswebp||(this.loadTimer.fileKB=this.personaInfo[this.sceneName].bgWeight[d],this.loadTimer.start=(new Date).getTime())},swapHighres:function(a,b,c){for(var d in a.children)if("object"==typeof a.children[d]&&a.children[d].isEqualNode(b)){var e=a.children[d];break}e&&(e.src=c.src)},loadTimer:function(){this.loadTimer.totalTime=this.loadTimer.stop-this.loadTimer.start,this.loadTimer.kBps=this.loadTimer.fileKB/(this.loadTimer.totalTime/1e3),this.loadTimer.mbps=this.loadTimer.kBps/1024*8},scaleDeviceImage:function(){switch(this.deviceType){case"laptop":this.scaleLaptop();break;default:this.scaleHandheld()}},scaleLaptop:function(){this.deviceImageEl.style.width=(1.94/(this.winWidth/this.winHeight)*100).toFixed(2)+"%"},scaleHandheld:function(){var a=this.winWidth/this.winHeight;a>=1.94?this.deviceImageEl.style.height=(114*a/1.94).toFixed(2)+"%":1.94>a&&a>=1?this.deviceImageEl.style.height=JS.percentagesOfPercentages([1,1.94],[100,114],a,"%",2):this.deviceImageEl.style.height=""},getSceneDeviceConfigs:function(){this.personaInfo={alex:{bgWeight:{640:25,1280:64,1680:104,1920:137},device:"laptop",tall:!1},stlucia:{bgWeight:{640:20,1280:54,1680:88,1920:113},device:"laptop",tall:!1},architects:{bgWeight:{640:24,1280:56,1680:82,1920:100},device:"laptop",tall:!1},artists:{bgWeight:{640:49,1280:109,1680:171,1920:217},device:"phone"},bloggers:{bgWeight:{640:29,1280:59,1680:98,1920:129},device:"tablet"},designers:{bgWeight:{640:28,1280:52,1680:75,1920:92},device:"tablet"},directors:{bgWeight:{640:9,1280:27,1680:46,1920:62},device:"laptop",tall:!0},inventors:{bgWeight:{640:34,1280:70,1680:99,1920:120},device:"phone"},musicians:{bgWeight:{640:29,1280:64,1680:86,1920:141},device:"tablet"},performers:{bgWeight:{640:44,1280:82,1680:136,1920:177},device:"phone"},photographers:{bgWeight:{640:17,1280:42,1680:84,1920:119},device:"laptop"},publications:{bgWeight:{640:23,1280:62,1680:91,1920:112},device:"tablet"},restaurants:{bgWeight:{640:38,1280:88,1680:136,1920:170},device:"tablet"},smallbusiness:{bgWeight:{640:36,1280:65,1680:98,1920:123},device:"laptop"},startups:{bgWeight:{640:32,1280:64,1680:93,1920:111},device:"tablet"},stores:{bgWeight:{640:26,1280:58,1680:86,1920:105},device:"tablet"},weddings:{bgWeight:{640:12,1280:31,1680:46,1920:56},device:"laptop",tall:!0},writers:{bgWeight:{640:7,1280:21,1680:50,1920:75},device:"laptop",tall:!0}},this.deviceSizes={phone:{res:"300, 500, 700, 900, 1100, 1300, 1500",size:"1500x1222"},tablet:{res:"200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400",size:"2400x1505"},laptop:{res:"500, 700, 900, 1100, 1300, 1500, 1700, 1900, 2100, 2300, 2500, 2700, 2900, 3100",size:"3100x973"}}},getRatioConfigs:function(a){var b={text:{321:{3e4:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],1100:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],900:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],600:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],440:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--hide-tagline"]},480:{3e4:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],1100:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],900:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],600:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],480:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--hide-tagline"]},700:{3e4:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],1100:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],900:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],600:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--break-tagline"],480:["details-text-wrapper--mini","details-text-wrapper--stacked-button","details-text-wrapper--hide-tagline"]},900:{3e4:["details-text-wrapper--small","details-text-wrapper--stacked-button"],1100:["details-text-wrapper--small","details-text-wrapper--stacked-button"],900:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"],600:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"]},1024:{3e4:["details-text-wrapper--medium"],1100:["details-text-wrapper--small","details-text-wrapper--stacked-button"],900:["details-text-wrapper--small"],600:["details-text-wrapper--extrasmall","details-text-wrapper--stacked-button"]},1319:{3e4:["details-text-wrapper--large"],1100:["details-text-wrapper--medium"],900:["details-text-wrapper--small"],600:["details-text-wrapper--small"]},3e4:{3e4:["details-text-wrapper--extralarge"],1100:["details-text-wrapper--large"],900:["details-text-wrapper--medium"],700:["details-text-wrapper--small"]}}},c={"0.0":{text:["details-ratio-0_0","details-text-wrapper--top","details-text-wrapper--forty"],device:["device--bottom","device--sixty","device--stretched"],img:[""],background:["background--normal"],sizes:b},"0.60":{text:["details-ratio-0_60","details-text-wrapper--top","details-text-wrapper--fifty"],device:["device--bottom","device--fifty","device--stretched"],img:[""],background:["background--normal"],sizes:b},"2.0":{text:["details-ratio-2_0","details-text-wrapper--top","details-text-wrapper--forty"],device:["device--bottom","device--sixty","device--stretched"],img:[""],background:["background--normal"],sizes:b},2.33333:{text:["details-ratio-2_33333","details-text-wrapper--top","details-text-wrapper--forty"],device:["device--bottom","device--sixty","device--stretched"],img:[""],background:["background--normal"],sizes:b}};return c},windowResize:function(){return JS.hasClass(this.scene,"viz")?(clearTimeout(this.resizeEventInfo.tx),this.winWidth=document.documentElement.clientWidth,this.winHeight=document.documentElement.clientHeight,JS.addClass(JS.one("body"),"no-transition"),this.scaleDeviceImage(),this.resizeEventInfo.tx=setTimeout(function(){void 0!==this.resizeEventInfo.width&&this.winWidth>this.resizeEventInfo.width&&this.buildImg(JS.one(".viz .device > img"),this.device),this.resizeEventInfo.width=this.winWidth}.bind(this),100),void setTimeout(function(){JS.removeClass(JS.one("body"),"no-transition")},250)):!1},supportsWebP:function(){var a=new Image;JS.on(a,"load",function(){JS.addClass(JS.one("html"),"webp"),DetailsGallery.iswebp=!0,JS.fireCustom("webpsupportchecked")},this),JS.on(a,"error",function(){DetailsGallery.iswebp=!1,JS.fireCustom("webpsupportchecked")},this),a.src="//static.squarespace.com/universal/images-v6/www/test-pixel.webp"}};var DetailsCommercial=function(){function a(){var a=JS.one(".layout");JS.hasClass(a,"detailsCommercial--loading")||(JS.addClass(a,"detailsCommercial--loading"),e(),d())}function b(){l.detachEvents()}function c(){j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,f(),JS.one(".layout.details")&&(g.style.height=JS.getStyle(JS.one(".details"),"height")),640>=j?JS.addClass(JS.one(".detailsCommercial .button"),"button--mini"):JS.removeClass(JS.one(".detailsCommercial .button"),"button--mini")}function d(){l.registerEvent(window,JS.resizeEvent,c),JS.onCustom("webfontsReady",function(){setTimeout(function(){JS.addClass(document.body,"webfonts--ready")},1e3)}),JS.onCustom("dependenciesLoaded",function(){JS.isAndroid()&&!JS.hasClass(JS.one("body"),"webfonts--ready")&&DepLoader.webfontsReady()}),l.registerEvent(JS.one(".detailsCommercial .close"),"click",function(){i.setAttribute("src",i.getAttribute("data-src")),JS.removeClass(JS.one(".header"),"transparent"),JS.removeClass(JS.one(".navigation-actions"),"transparent"),JS.removeClass(JS.one(".cta"),"transparent"),JS.one(".cta-text").innerHTML=JS.one(".cta-text").getAttribute("data-text"),JS.addClass(JS.one(".detailsCommercial"),"transparent");setTimeout(function(){JS.removeClass(JS.one("body"),"detailsCommercial-ready"),JS.addClass(JS.one(".detailsCommercial"),"hidden")},300)},this)}function e(){h=1,g=JS.one(".detailsCommercial"),i=JS.one(".video-player iframe"),j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,setTimeout(function(){this.setAttribute("src",this.getAttribute("data-src"))}.bind(i),10),DepLoader.init(),setTimeout(function(){f()},500),setTimeout(function(){JS.addClass(JS.one("body"),"detailsCommercial-ready")},1e3)}function f(){i.style.display="block";var a=9*JS.getStyle(i,"width",!0)/16;i.style.height=a+"px"}var g,h,i,j,k,l=new EventsHandler;return{init:a,destructor:b,renderUI:e}}(),Betterweb=function(){function a(){var a=JS.one(".layout");JS.hasClass(a,"betterweb--loading")||(JS.addClass(a,"betterweb--loading"),e(),d())}function b(){n.detachEvents()}function c(){l=document.documentElement.clientWidth,m=document.documentElement.clientHeight,g(),JS.one(".layout.details")&&(h.style.height=JS.getStyle(JS.one(".details"),"height")),640>=l?JS.addClass(JS.one(".betterweb .button"),"button--mini"):JS.removeClass(JS.one(".betterweb .button"),"button--mini")}function d(){n.registerEvent(window,JS.resizeEvent,c),JS.onCustom("webfontsReady",function(){setTimeout(function(){JS.addClass(document.body,"webfonts--ready")},1e3)}),JS.onCustom("dependenciesLoaded",function(){JS.isAndroid()&&!JS.hasClass(JS.one("body"),"webfonts--ready")&&DepLoader.webfontsReady()}),n.registerEvent(JS.one(".betterweb .close"),"click",function(){k.setAttribute("src",k.getAttribute("data-src")),JS.removeClass(JS.one(".header"),"transparent"),JS.removeClass(JS.one(".navigation-actions"),"transparent"),JS.removeClass(JS.one(".cta"),"transparent"),JS.addClass(JS.one(".betterweb"),"transparent");setTimeout(function(){JS.addClass(JS.one(".betterweb"),"hidden")},300)},this)}function e(){j=11,h=JS.one(".betterweb"),i=JS.one(".posterimage"),k=JS.one(".video-player iframe"),l=document.documentElement.clientWidth,m=document.documentElement.clientHeight;var a=new Image;JS.on(a,"load",function(){h.style.backgroundImage="url("+a.getAttribute("src")+")",g(),DepLoader.init(),JS.addClass(JS.one("body"),"betterweb-ready")},this),a.setAttribute("src",h.getAttribute("data-custom-src")+"-"+f(h)+"."+h.getAttribute("data-image-extension")+"?v="+j)}function f(a){var b,c=a.getAttribute("data-image-size").toString().split("x"),d=a.getAttribute("data-resolutions").toString().split("x"),e=[document.documentElement.clientWidth,document.documentElement.clientHeight],f=e[1],g=c[0];b=Math.floor(f/c[1]*c[0]);for(var h=0;h<d.length;h++)if(b<=d[h]){g=d[h];break}return window.devicePixelRatio&&(g*=window.devicePixelRatio),g=Math.min(g,c[0])}function g(){var a=9*JS.getStyle(k,"width",!0)/16;k.setAttribute("style","height: "+a+"px;")}var h,i,j,k,l,m,n=new EventsHandler;return{init:a,destructor:b}}(),StaticPage=function(a){this.init(a)};StaticPage.prototype={init:function(a){this.index=a,this.section=JS.one("section"),this.setSectionLayout()},destroy:function(){},completeUI:function(){Y.one(".footer")&&Y.one(".footer").removeClass("is--invisible")},setSectionLayout:function(){}};var ParallaxScroll=function(a){this.init(a)};ParallaxScroll.prototype={init:function(a){if(this.index=a,this.section=JS.all("section")[a],this.events=[],this.galleries=[],this.skrollr=null,LandingSlider.mobile){var b=JS.one(".layout");JS.removeClass(b,"layout--fixed"),JS.addClass(b,"layout--scroll")}this.setSectionLayout()},destroy:function(){for(var a=0;a<this.events.length;a++)this.events[a].detach();this.events=[];for(var b=0;b<this.galleries.length;b++)this.galleries[b]&&this.galleries[b].destroy();this.galleries=[],Y.one(".inject-point > div").setStyle("height",null),Y.one(".layout")&&Y.one(".layout").removeClass("is--loaded"),Y.one(".footer")&&Y.one(".footer").addClass("is--invisible"),this.destroySkrollr()},bindEvents:function(){this.events.push(Y.one("window").on(JS.resizeEvent,function(){this.resizeTimer&&this.resizeTimer.cancel()&&(this.resizeTimer=null),this.resizeTimer=Y.later(350,this,function(){this.setSectionLayout(),window.innerWidth<=1024||window.innerHeight<600?this.removeSkrollr():!LandingSlider.mobile&&this.setupSkrollr();var a=Y.one(".button-constant");for(a&&(window.innerWidth<=1440?a.removeClass("button-square-large"):a.addClass("button-square-large")),g=0;g<this.galleries.length;g++)this.galleries[g].reset(),Y.later(1e3*g,this.galleries[g],function(){this.set("autoplay",!0)});Y.all(".slideshow-slides img[data-src]").each(function(a){a.fire("refresh")})})},this))},completeUI:function(){this.bindEvents(),JS.hasClass(this.section,"active")&&Y.later(150,this,function(){this.setSectionLayout(),window.innerWidth<=1024||window.innerHeight<600?this.removeSkrollr():!LandingSlider.mobile&&this.setupSkrollr()});for(var a=Y.all(".three-devices .gallery"),b=0;b<a.size();b++){if(0===b)var c=.289;else if(1===b)var c=.801;else var c=1;this.setupGallery(a.item(b).one(".slideshow-slides"),!1,"scroll",6e3,2*c,!1),Y.later(b*(2e3*c),this.galleries[b],function(){"create"===this.get("name")?this.set("autoplay",!1):this.set("autoplay",!0)})}Y.one(".three-devices")&&Y.one(".three-devices").removeClass("is--transparent"),Y.one(".device-wrapper")&&Y.one(".device-wrapper").removeClass("is--invisible"),Y.one(".build .slideshow-slides")&&this.setupGallery(Y.one(".build .slideshow-slides"),!0,"fade",4e3,1,!0),Y.one(".footer")&&Y.one(".footer").removeClass("is--invisible")},setSectionLayout:function(){var a=this.section.clientHeight+"px";JS.one(".skrollr-body").style.height=a,JS.one(".inject-point > div").style.height=a;var b=JS.one(".create .device.fixed");if(b)if(window.innerWidth>1024){if(JS.hasClass(b,"cinema"))var c=.44;else if(JS.hasClass(b,"macbook"))var c=.381;else if(JS.hasClass(b,"iphone"))var c=.254;else var c=1;var d=window.innerHeight,e=window.innerWidth*c,f=(d-e)/2/d*100+"vh",g="bottom: "+f+";";b.style.bottom=f,b.setAttribute("data--10p-top-top",g),b.setAttribute("data-0-bottom-bottom",g)}else b.style.bottom="0"},setupSkrollr:function(){var a=Y.UA.ie>0&&Y.UA.ie<10?!0:!1;a||(this.skrollr?this.skrollr.refresh():this.skrollr=skrollr.init({forceHeight:!1,precision:2,keyframe:function(a,b,c){var d=Y.one(a);d.hasClass("overview-coverpages")&&("dataTopTop"===b||"dataTopCenter"===b&&("down"===c?(Y.one(".navigation-actions").setStyles({top:"-100px","pointer-events":"none"}),Y.one(".button-constant").removeClass("is--transparent")):"up"===c&&(Y.one(".navigation-actions").setStyles({top:null,"pointer-events":null}),Y.one(".button-constant").addClass("is--transparent"))))},render:function(a){this.updateScrollInfo(a)}.bind(this)}))},removeSkrollr:function(){this.skrollr&&this.skrollr.destroy(),this.skrollr=null,Y.all(".skrollable").each(function(a){a.setAttribute("style",null),a.removeClass("skrollable-after"),a.removeClass("skrollable-before")})},setupGallery:function(a,b,c,d,e,f){var g=new Y.Squarespace.Gallery2({autoplay:b||!1,autoplayOptions:{timeout:d||6e3},container:a,loop:f||!1,design:"stacked",designOptions:{transition:c||"scroll",speed:e||2},loaderOptions:{fill:!0,fit:!1}});return this.galleries.push(g),g},destroySkrollr:function(){Y.one(".skrollr-body").setStyle("height",null),this.skrollr&&this.skrollr.destroy(),this.skrollr=null},updateScrollInfo:function(a){a?this.scrollInfo=a:(this.scrollInfo={},this.scrollInfo.curTop=document.body.scrollTop),this.scrollInfo.vp={},this.scrollInfo.vp.top=this.scrollInfo.curTop,this.scrollInfo.vp.mid=this.scrollInfo.curTop+window.innerHeight/2,this.scrollInfo.vp.bottom=this.scrollInfo.curTop+window.innerHeight,Y.Squarespace.FrontSite.Core.currentPage.scrollInfo&&(Y.Squarespace.FrontSite.Core.currentPage.scrollInfo=this.scrollInfo),Y.one("window").fire("scroll")}};var FullScreenVideo=function(a){this.init(a)};FullScreenVideo.prototype={init:function(a){this.index=a,this.section=JS.all("section")[a],this.video=null,this.videoWrapper=this.section.querySelector(".video-wrapper"),this.events=[],this.bindEvents(),this.videoData=[]},destroy:function(){this.video.destructor();for(var a=0;a<this.events.length;a++)this.events[a].detach();this.events=[]},bindEvents:function(){},completeUI:function(){var a=Y.one(this.videoWrapper);null===this.video&&(this.video=new Y.Squarespace.FrontSite.HTML5Video({container:a,pauseDelay:a.getAttribute("data-slide-pauses")?3e3:0,callback:Y.bind(this.videoCallback,this),progress:a.one(".video-progress"),toggle:a.one(".video-toggle"),controls:a.one(".video-controls")})),this.video.HTML5VideoSupport&&(this.parseVideoData(a),this.playLoop(a),Y.one(this.section).one(".video-play-wrapper")?this.events.push(Y.one(this.section).one(".video-play-wrapper").on("click",function(){this.video.videoPlayer.setStyle("opacity",0),this.video.videoPlayer.setStyle("transition","opacity 0.2s ease"),this.videoWrapper.style.backgroundImage="",this.playVideo(Y.one(this.videoWrapper))},this),Y.one(this.section).one(".video-close").on("click",function(){this.closeVideo(Y.one(this.videoWrapper))},this)):Y.one(this.section).one(".video-play")&&this.events.push(Y.one(this.section).one(".video-play").on("click",function(){this.video.videoPlayer.setStyle("opacity",0),this.video.videoPlayer.setStyle("transition","opacity 0.2s ease"),this.videoWrapper.style.backgroundImage="",this.playVideo(Y.one(this.videoWrapper))},this),Y.one(this.section).one(".video-close").on("click",function(){this.closeVideo(Y.one(this.videoWrapper))},this)))},parseVideoData:function(a){this.videoData.push({mp4:{loop:a.getAttribute("data-slide-loop-mp4"),video:a.getAttribute("data-slide-video-mp4"),videoSD:a.getAttribute("data-slide-video-mp4-sd")},webm:{loop:a.getAttribute("data-slide-loop-webm"),video:a.getAttribute("data-slide-video-webm"),videoSD:a.getAttribute("data-slide-video-webm-sd")},pauses:this.parsePauses(a.getAttribute("data-slide-pauses"))})},parsePauses:function(a){if(a){a=a.split(",");for(var b=0;b<a.length;b++)a[b]=parseFloat(a[b])}return a},closeVideo:function(a){if(a)var b=a;else var b=this.videoWrapper;b.ancestor("section")&&b.ancestor("section").removeClass("video-playing"),this.video.haltPlayback=!1,b.removeClass("video-wrapper--visible"),b.one(".video-scrim")&&b.one(".video-scrim").setStyle("opacity",null),b.setStyle("zIndex",null),Y.one(".header").removeClass("is--invisible"),Y.one(".navigation-actions").removeClass("is--invisible"),Y.one(".section-navigation-wrapper")&&Y.one(".section-navigation-wrapper").removeClass("is--invisible"),Y.all(".slider-arrow").removeClass("is--invisible"),Y.one(".section-navigation-mobile-trigger")&&Y.one(".section-navigation-mobile-trigger").removeClass("is--hidden"),this.video.pause(),this.video.videoPlayer.setStyle("opacity",0),b.hasClass("loop")&&Y.later(300,this,function(){this.playLoop(b)})},playVideo:function(a,b){a.ancestor("section").addClass("video-playing"),a.addClass("video-wrapper--visible"),a.one(".video-scrim")&&a.one(".video-scrim").setStyle("opacity",0),a.setStyle("zIndex",1e3),a.all(".is--hidden").each(function(a){a.removeClass("is--hidden")}),a.all(".is-hidden").each(function(a){a.removeClass("is-hidden")}),a.removeClass("video-wrapper--loop").addClass("video-wrapper--video"),Y.one(".header").addClass("is--invisible"),Y.one(".navigation-actions").addClass("is--invisible"),Y.one(".section-navigation-wrapper")&&Y.one(".section-navigation-wrapper").addClass("is--invisible"),Y.all(".slider-arrow").addClass("is--invisible"),Y.one(".section-navigation-mobile-trigger")&&Y.one(".section-navigation-mobile-trigger").addClass("is--hidden"),this.video.set("loop",!1),this.video.set("volume",.7),Y.later(300,this,function(){this.video.loadVideo({mp4:{loop:this.videoData[0].mp4.loop,hd:this.videoData[0].mp4.video,sd:this.videoData[0].mp4.videoSD},webm:{hd:this.videoData[0].webm.video,sd:this.videoData[0].webm.video}},null,!0)})},playLoop:function(a){var a=Y.one(a);a.removeClass("video-wrapper--video").addClass("video-wrapper--loop"),a.one(".video-controls").addClass("is-hidden"),a.one(".video-close").addClass("is-hidden"),Y.UA.ios||Y.UA.android?(this.videoCallback("play",null),this.video.emptyVideoWrapper()):(a.addClass("video-wrapper--visible"),this.video.haltPlayback=!1,this.video.set("loop",!0),this.video.set("volume",0),this.video.loadVideo({mp4:this.videoData[0].mp4.loop,webm:this.videoData[0].webm.loop},this.videoData[0].pauses,!1,!0))},pauseLoop:function(){this.video.pause()},resumeLoop:function(){this.video.play()},gotoAndPause:function(a,b){this.video.videoPlayer.get("currentTime")>0&&this.video.videoPlayer.set("currentTime",a),b!==!1&&(this.video.pause(),this.video.haltPlayback=!0)},alignVideo:function(){},videoCallback:function(a,b){console.log(a,b),"play"===a&&this.video.videoPlayer.setStyle("opacity",1),"end"===a&&this.closeVideo()}};var LandingSlider={init:function(){this.initialized=!0,this.supportsVH(),this.whiff(),this.layout=JS.one(".layout"),this.slider=JS.one(".section-slider"),this.section=JS.one("section"),this.active={},this.rootPath="/home",this.pages=[],this.pages.push({displayTitle:"Overview",subpath:"/overview/",main:!0}),this.pages.push({displayTitle:"Commerce",subpath:"/commerce/"}),this.pages.push({displayTitle:"Cover Pages",subpath:"/coverpages/"}),this.pages.push({displayTitle:"Build it Beautiful",subpath:"/build-it-beautiful/"});var url=document.location.pathname.replace(this.rootPath,"");url=0===url.length?url+"/":url,url=url.lastIndexOf("/")===url.length-1?url:url+"/";for(var p=0;p<this.pages.length;p++)"/"===url?this.pages[p].main&&(this.active.index=p,this.active.element=this.section):url===this.pages[p].subpath&&(this.active.index=p,this.active.element=this.section);!this.active.element&&(this.active.element=this.section),this.active.element&&JS.addClass(this.active.element,"active"),this.buildUI(),this.bindUI(),this.active.module=eval("new "+this.section.getAttribute("data-type")+"(0)")},buildUI:function(){this.layout.getAttribute("data-page-type")&&document.body.setAttribute("data-page-type",this.layout.getAttribute("data-page-type")),this.setSectionLayout(),this.marryWidows(),this.firstLetterOffset();var a=JS.one(".layout").querySelectorAll("[data-background]");a.length>0?(this.loadBackground(a[0]),setTimeout(function(){for(var b=1;b<a.length;b++)this.loadBackground(a[b])}.bind(this),500)):(JS.removeClass(this.section,"is--invisible"),JS.removeClass(JS.one(".navigation-actions"),"no-transition"))},bindUI:function(){JS.onCustom("webfontsReady",function(){window.setTimeout(function(){var a=LandingSlider.active.module.section.querySelector(".text-wrapper");a&&JS.removeClass(a,"is--invisible"),LandingSlider.active.module.section.querySelector(".video-play-wrapper")&&JS.removeClass(LandingSlider.active.module.section.querySelector(".video-play-wrapper"),"is--invisible")},500)})},setSectionLayout:function(){document.body.style.width=window.innerWidth+"px";var a=window.innerWidth,b=a>1024?"desktop":"mobile";JS.one("section h1.headline:not(.noscale)")&&("desktop"===b?JS.one('section[data-name="dreamingwithjeff"]')?JS.one("section h1.headline").style.fontSize=JS.interpolateY({x:2560,y:105},{x:1025,y:75},a).toFixed(0)+"px":JS.one("section.overview")?JS.one("section h1.headline").style.fontSize=JS.interpolateY({x:2560,y:105},{x:1025,y:80},a).toFixed(0)+"px":JS.one("section h1.headline").style.fontSize=JS.interpolateY({x:2560,y:105},{x:1025,y:75},a).toFixed(0)+"px":JS.one('section[data-name="dreamingwithjeff"]')?JS.one("section h1.headline").style.fontSize=JS.interpolateY({x:1024,y:75},{x:320,y:40},a).toFixed(0)+"px":JS.one("section.overview")?JS.one("section h1.headline").style.fontSize=JS.interpolateY({x:1024,y:80},{x:320,y:55},a).toFixed(0)+"px":JS.one("section h1.headline").style.fontSize=JS.interpolateY({x:1024,y:75},{x:320,y:44},a).toFixed(0)+"px");for(var c=JS.all("section .text-tagline"),d=c.length,e=0;d>e;e++)"desktop"===b?c[e].style.fontSize=JS.interpolateY({x:2560,y:12},{x:1025,y:10},a).toFixed(0)+"px":c[e].style.fontSize=JS.interpolateY({x:1024,y:10},{x:320,y:9},a).toFixed(0)+"px";for(var f=JS.all("section .lede:not(.noscale)"),g=f.length,e=0;g>e;e++)"desktop"===b?f[e].style.fontSize=JS.interpolateY({x:2560,y:15},{x:1025,y:13},a).toFixed(0)+"px":f[e].style.fontSize=JS.interpolateY({x:1024,y:13},{x:320,y:12},a).toFixed(0)+"px";for(var h=JS.all("section h2.subheadline:not(.noscale)"),i=h.length,j=0;i>j;j++)"desktop"===b?h[j].style.fontSize=JS.interpolateY({x:2560,y:83},{x:1025,y:52},a).toFixed(0)+"px":h[j].style.fontSize=JS.interpolateY({x:1024,y:52},{x:320,y:29},a).toFixed(0)+"px";for(var k=JS.all("section h3.subheadline:not(.noscale)"),l=k.length,j=0;l>j;j++)"desktop"===b?k[j].style.fontSize=JS.interpolateY({x:2560,y:20},{x:1025,y:18},a).toFixed(0)+"px":k[j].style.fontSize=JS.interpolateY({x:1024,y:18},{x:320,y:15},a).toFixed(0)+"px";for(var m=JS.all(".grid-item-name"),n=m.length,o=0;n>o;o++)"desktop"===b?m[o].style.fontSize=JS.interpolateY({x:2560,y:14},{x:1025,y:12},a).toFixed(0)+"px":m[o].style.fontSize=JS.interpolateY({x:1024,y:12},{x:320,y:11},a).toFixed(0)+"px";for(var p=JS.all(".grid-item-content"),q=p.length,o=0;q>o;o++)"desktop"===b?p[o].style.fontSize=JS.interpolateY({x:2560,y:15},{x:1025,y:13},a).toFixed(0)+"px":p[o].style.fontSize=JS.interpolateY({x:1024,y:13},{x:320,y:12},a).toFixed(0)+"px";for(var r=JS.all(".feature-name"),s=r.length,t=0;s>t;t++)"desktop"===b?r[t].style.fontSize=JS.interpolateY({x:2560,y:14},{x:1025,y:12},a).toFixed(0)+"px":r[t].style.fontSize=JS.interpolateY({x:1024,y:12},{x:320,y:11},a).toFixed(0)+"px";for(var u=JS.all(".feature-content"),v=u.length,t=0;v>t;t++)"desktop"===b?u[t].style.fontSize=JS.interpolateY({x:2560,y:15},{x:1025,y:13},a).toFixed(0)+"px":u[t].style.fontSize=JS.interpolateY({x:1024,y:13},{x:320,y:12},a).toFixed(0)+"px";for(var w=JS.all(".superheadline"),x=w.length,j=0;x>j;j++)"desktop"===b?w[j].style.fontSize=JS.interpolateY({x:2560,y:15},{x:1025,y:13},a).toFixed(0)+"px":w[j].style.fontSize=JS.interpolateY({x:1024,y:13},{x:320,y:12},a).toFixed(0)+"px";var y=JS.all(".price .amt.annual:not(.noscale)"),z=y.length;if("desktop"===b)for(var A=0;z>A;A++)y[A].style.fontSize=JS.interpolateY({x:2560,y:155},{x:1025,y:85},a).toFixed(0)+"px",y[A].style.lineHeight="0.8em";else for(var A=0;z>A;A++)y[A].style.fontSize="",y[A].style.lineHeight="";var B=JS.all(".plan-name:not(.noscale)"),C=B.length;if("desktop"===b)for(var A=0;C>A;A++)B[A].style.fontSize=JS.interpolateY({x:2560,y:70},{x:1025,y:28},a).toFixed(0)+"px",B[A].style.lineHeight=JS.interpolateY({x:2560,y:1.7},{x:1025,y:.8},a)+"em";else for(var A=0;C>A;A++)B[A].style.fontSize="",B[A].style.lineHeight="";var D=JS.one(".button-constant");D&&(window.innerWidth<=1440?JS.removeClass(D,"button-square-large"):JS.addClass(D,"button-square-large"));var E=JS.all(".layout .button-square");if(window.innerWidth<=1440)for(var F=0;F<E.length;F++)JS.removeClass(E[F],"button-square-large");else for(var F=0;F<E.length;F++)JS.addClass(E[F],"button-square-large");if(LandingSlider.mobile){for(var G=JS.all("section article"),H=G.length,I=window.innerHeight,J=0;H>J;J++){var K=G[J].getAttribute("data-height-factor");K?(G[J].style.minHeight=parseFloat(K)*I+"px",G[J].style.height=parseFloat(K)*I+"px"):G[J].style.minHeight=I+"px"}var L=JS.one("section .hero-content-wrapper");L&&(L.style.height=I+"px")}},marryWidows:function(){function a(a){for(var b=0;b<a.length;b++){var c=a[b].innerHTML,d=c.lastIndexOf(" ");d>0&&d!==c.length-1&&(c=c.substr(0,d)+"&nbsp;"+c.substr(d+1),a[b].innerHTML=c)}}var b=JS.all(".headline");a(b);var c=JS.all(".lede");a(c);var d=JS.all(".lede-mobile");a(d)},firstLetterOffset:function(){function a(a){for(var b=0;b<a.length;b++){for(var c=a[b].innerHTML,d=c.split("<br>"),e="",f=0;f<d.length;f++){var g=d[f];"T"===g.substr(0,1)?g=g.replace(g.substr(0,1),'<span class="t-offset">T</span>'):"W"===g.substr(0,1)?g=g.replace(g.substr(0,1),'<span class="w-offset">W</span>'):"D"===g.substr(0,1)?g=g.replace(g.substr(0,1),'<span class="d-offset">D</span>'):"C"===g.substr(0,1)?g=g.replace(g.substr(0,1),'<span class="c-offset">C</span>'):"+"===g.substr(0,1)&&(g=g.replace(g.substr(0,1),'<span class="plus-offset">+</span>')),
e+=g,f<d.length-1&&(e+="<br>")}a[b].innerHTML=e}}var b=JS.all(".headline");a(b)},loadBackground:function(a){var b=this.getImageSource(a),c=new Image;JS.on(c,"load",function(c){a.style.backgroundImage="url("+b+")",JS.removeClass(a,"is--invisible"),JS.removeClass(JS.one(".layout"),"is--invisible"),JS.removeClass(this.section,"is--invisible"),JS.off(c.currentTarget,"load"),a.setAttribute("data-loaded","true")},this),c.src=b},getImageSource:function(a){if(a.getAttribute("data-image-webp")&&"true"===a.getAttribute("data-image-webp").toString()&&window.iswebp)var b="webp";else var b=a.getAttribute("data-image-extension").toString();return a.getAttribute("data-background")+"."+b},whiff:function(){-1!==navigator.userAgent.indexOf("Firefox")&&JS.addClass(JS.one("html"),"firefox"),(JS.isMobile()||JS.isAndroid()||JS.isAppleMobile())&&(JS.addClass(JS.one("html"),"mobile"),LandingSlider.mobile=!0)},supportsVH:function(){var a=document.createElement("div");a.style.height="100vh",a.style.visibility="hidden",document.body.appendChild(a),a.clientHeight===window.innerHeight&&(window.supportsVH=!0,JS.addClass(JS.one("html"),"unit-vh")),document.body.removeChild(a)}};