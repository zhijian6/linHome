/*!
 * logomark 1.7.3 (2014-08-04, 08:05)
 *
 * Copyright (C) 2014 Squarespace
 */
function RGBColor(a){this.ok=!1,"#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase();var b={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var c in b)a==c&&(a=b[c]);for(var d=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],e=0;e<d.length;e++){var f=d[e].re,g=d[e].process,h=f.exec(a);h&&(channels=g(h),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),"#"+a+b+c},this.getHelpXML=function(){for(var a=new Array,c=0;c<d.length;c++)for(var e=d[c].example,f=0;f<e.length;f++)a[a.length]=e[f];for(var g in b)a[a.length]=g;var h=document.createElement("ul");h.setAttribute("id","rgbcolor-examples");for(var c=0;c<a.length;c++)try{var i=document.createElement("li"),j=new RGBColor(a[c]),k=document.createElement("div");k.style.cssText="margin: 3px; border: 1px solid black; background:"+j.toHex()+"; color:"+j.toHex(),k.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+a[c]+" -> "+j.toRGB()+" -> "+j.toHex());i.appendChild(k),i.appendChild(l),h.appendChild(i)}catch(m){}return h}}!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",n.cssRules.length),m[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<l.length;d++)if(c=l[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a,b){return"string"==typeof a?a:a[b%a.length]}function i(a){return"undefined"==typeof this?new i(a):void(this.opts=f(a||{},i.defaults,o))}function j(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}n.addRule(".spin-vml","behavior:url(#default#VML)"),i.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function g(a,g,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:h(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)g(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)g(i);return b(a,m)},i.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};i.defaults={},f(i.prototype,{spin:function(b){this.stop();var c,d,f=this,h=f.opts,i=f.el=e(a(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),j=h.radius+h.length+h.width;if(b&&(b.insertBefore(i,b.firstChild||null),d=g(b),c=g(i),e(i,{left:("auto"==h.left?d.x-c.x+(b.offsetWidth>>1):parseInt(h.left,10)+j)+"px",top:("auto"==h.top?d.y-c.y+(b.offsetHeight>>1):parseInt(h.top,10)+j)+"px"})),i.setAttribute("role","progressbar"),f.lines(i,f.opts),!k){var l,m=0,n=(h.lines-1)*(1-h.direction)/2,o=h.fps,p=o/h.speed,q=(1-h.opacity)/(p*h.trail/100),r=p/h.lines;!function s(){m++;for(var a=0;a<h.lines;a++)l=Math.max(1-(m+(h.lines-a)*r)%p*q,h.opacity),f.opacity(i,a*h.direction+n,l,h);f.timeout=f.el&&setTimeout(s,~~(1e3/o))}()}return f},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*j+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,j=0,l=(f.lines-1)*(1-f.direction)/2;j<f.lines;j++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:k&&c(f.opacity,f.trail,l+j*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,g(h(f.color,j),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var p=e(a("group"),{behavior:"url(#default#VML)"});return!d(p,"transform")&&p.adj?j():k=d(p,"animation"),i}),function(){function a(){var a={};return a.FRAMERATE=30,a.MAX_VIRTUAL_PIXELS=3e4,a.init=function(b){a.Definitions={},a.Styles={},a.Animations=[],a.Images=[],a.ctx=b,a.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(a,b){this.viewPorts.push({width:a,height:b})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(a){return null!=a&&"number"==typeof a?a:"x"==a?this.width():"y"==a?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},a.init(),a.ImagesLoaded=function(){for(var b=0;b<a.Images.length;b++)if(!a.Images[b].loaded)return!1;return!0},a.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},a.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")},a.ajax=function(a){var b;return b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),b?(b.open("GET",a,!1),b.send(null),b.responseText):null},a.parseXml=function(a){if(window.DOMParser){var b=new DOMParser;return b.parseFromString(a,"text/xml")}a=a.replace(/<!DOCTYPE svg[^>]*>/,"");var c=new ActiveXObject("Microsoft.XMLDOM");return c.async="false",c.loadXML(a),c},a.Property=function(a,b){this.name=a,this.value=b},a.Property.prototype.getValue=function(){return this.value},a.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},a.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);return(this.value+"").match(/%$/)&&(a/=100),a},a.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a},a.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a},a.Property.prototype.addOpacity=function(b){var c=this.value;if(null!=b&&""!=b&&"string"==typeof this.value){var d=new RGBColor(this.value);d.ok&&(c="rgba("+d.r+", "+d.g+", "+d.b+", "+b+")")}return new a.Property(this.name,c)},a.Property.prototype.getDefinition=function(){var b=this.value.replace(/^(url\()?#([^\)]+)\)?$/,"$2");return a.Definitions[b]},a.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},a.Property.prototype.getFillStyleDefinition=function(b){var c=this.getDefinition();return null!=c&&c.createGradient?c.createGradient(a.ctx,b):null!=c&&c.createPattern?c.createPattern(a.ctx,b):null},a.Property.prototype.getDPI=function(){return 96},a.Property.prototype.getEM=function(b){var c=12,d=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);return d.hasValue()&&(c=d.toPixels(b)),c},a.Property.prototype.getUnits=function(){var a=this.value+"";return a.replace(/[0-9\.\-]/g,"")},a.Property.prototype.toPixels=function(b){if(!this.hasValue())return 0;var c=this.value+"";return c.match(/em$/)?this.numValue()*this.getEM(b):c.match(/ex$/)?this.numValue()*this.getEM(b)/2:c.match(/px$/)?this.numValue():c.match(/pt$/)?this.numValue()*this.getDPI(b)*(1/72):c.match(/pc$/)?15*this.numValue():c.match(/cm$/)?this.numValue()*this.getDPI(b)/2.54:c.match(/mm$/)?this.numValue()*this.getDPI(b)/25.4:c.match(/in$/)?this.numValue()*this.getDPI(b):c.match(/%$/)?this.numValue()*a.ViewPort.ComputeSize(b):this.numValue()},a.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/s$/)?1e3*this.numValue():(a.match(/ms$/),this.numValue())},a.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},a.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(b,c,d,e,f,g){var h=null!=g?this.Parse(g):this.CreateFont("","","","","",a.ctx.font);return{fontFamily:f||h.fontFamily,fontSize:e||h.fontSize,fontStyle:b||h.fontStyle,fontWeight:d||h.fontWeight,fontVariant:c||h.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var b=this;this.Parse=function(c){for(var d={},e=a.trim(a.compressSpaces(c||"")).split(" "),f={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},g="",h=0;h<e.length;h++)f.fontStyle||-1==b.Styles.indexOf(e[h])?f.fontVariant||-1==b.Variants.indexOf(e[h])?f.fontWeight||-1==b.Weights.indexOf(e[h])?f.fontSize?"inherit"!=e[h]&&(g+=e[h]):("inherit"!=e[h]&&(d.fontSize=e[h].split("/")[0]),f.fontStyle=f.fontVariant=f.fontWeight=f.fontSize=!0):("inherit"!=e[h]&&(d.fontWeight=e[h]),f.fontStyle=f.fontVariant=f.fontWeight=!0):("inherit"!=e[h]&&(d.fontVariant=e[h]),f.fontStyle=f.fontVariant=!0):("inherit"!=e[h]&&(d.fontStyle=e[h]),f.fontStyle=!0);return""!=g&&(d.fontFamily=g),d}},a.ToNumberArray=function(b){for(var c=a.trim(a.compressSpaces((b||"").replace(/,/g," "))).split(" "),d=0;d<c.length;d++)c[d]=parseFloat(c[d]);return c},a.Point=function(a,b){this.x=a,this.y=b},a.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)},a.Point.prototype.applyTransform=function(a){var b=this.x*a[0]+this.y*a[2]+a[4],c=this.x*a[1]+this.y*a[3]+a[5];this.x=b,this.y=c},a.CreatePoint=function(b){var c=a.ToNumberArray(b);return new a.Point(c[0],c[1])},a.CreatePath=function(b){for(var c=a.ToNumberArray(b),d=[],e=0;e<c.length;e+=2)d.push(new a.Point(c[e],c[e+1]));return d},a.BoundingBox=function(a,b,c,d){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(a,b){null!=a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),null!=b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},this.addX=function(a){this.addPoint(a,null)},this.addY=function(a){this.addPoint(null,a)},this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1),this.addPoint(a.x2,a.y2)},this.addQuadraticCurve=function(a,b,c,d,e,f){var g=a+2/3*(c-a),h=b+2/3*(d-b),i=g+1/3*(e-a),j=h+1/3*(f-b);this.addBezierCurve(a,b,g,i,h,j,e,f)},this.addBezierCurve=function(a,b,c,d,e,f,g,h){var j=[a,b],k=[c,d],l=[e,f],m=[g,h];for(this.addPoint(j[0],j[1]),this.addPoint(m[0],m[1]),i=0;1>=i;i++){var n=function(a){return Math.pow(1-a,3)*j[i]+3*Math.pow(1-a,2)*a*k[i]+3*(1-a)*Math.pow(a,2)*l[i]+Math.pow(a,3)*m[i]},o=6*j[i]-12*k[i]+6*l[i],p=-3*j[i]+9*k[i]-9*l[i]+3*m[i],q=3*k[i]-3*j[i];if(0!=p){var r=Math.pow(o,2)-4*q*p;if(!(0>r)){var s=(-o+Math.sqrt(r))/(2*p);s>0&&1>s&&(0==i&&this.addX(n(s)),1==i&&this.addY(n(s)));var t=(-o-Math.sqrt(r))/(2*p);t>0&&1>t&&(0==i&&this.addX(n(t)),1==i&&this.addY(n(t)))}}else{if(0==o)continue;var u=-q/o;u>0&&1>u&&(0==i&&this.addX(n(u)),1==i&&this.addY(n(u)))}}},this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2},this.addPoint(a,b),this.addPoint(c,d)},a.Transform=function(b){var c=this;this.Type={},this.Type.translate=function(b){this.p=a.CreatePoint(b),this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(b){var c=a.ToNumberArray(b);this.angle=new a.Property("angle",c[0]),this.cx=c[1]||0,this.cy=c[2]||0,this.apply=function(a){a.translate(this.cx,this.cy),a.rotate(this.angle.toRadians()),a.translate(-this.cx,-this.cy)},this.applyToPoint=function(a){var b=this.angle.toRadians();a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),a.applyTransform([Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0]),a.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(b){this.p=a.CreatePoint(b),this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(b){this.m=a.ToNumberArray(b),this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(a){a.applyTransform(this.m)}},this.Type.SkewBase=function(b){this.base=c.Type.matrix,this.base(b),this.angle=new a.Property("angle",b)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(a){this.base=c.Type.SkewBase,this.base(a),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(a){this.base=c.Type.SkewBase,this.base(a),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].apply(a)},this.applyToPoint=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].applyToPoint(a)};for(var d=a.trim(a.compressSpaces(b)).split(/\s(?=[a-z])/),e=0;e<d.length;e++){var f=d[e].split("(")[0],g=d[e].split("(")[1].replace(")",""),h=new this.Type[f](g);this.transforms.push(h)}},a.AspectRatio=function(b,c,d,e,f,g,h,i,j,k){c=a.compressSpaces(c),c=c.replace(/^defer\s/,"");var l=c.split(" ")[0]||"xMidYMid",m=c.split(" ")[1]||"meet",n=d/e,o=f/g,p=Math.min(n,o),q=Math.max(n,o);"meet"==m&&(e*=p,g*=p),"slice"==m&&(e*=q,g*=q),j=new a.Property("refX",j),k=new a.Property("refY",k),j.hasValue()&&k.hasValue()?b.translate(-p*j.toPixels("x"),-p*k.toPixels("y")):(l.match(/^xMid/)&&("meet"==m&&p==o||"slice"==m&&q==o)&&b.translate(d/2-e/2,0),l.match(/YMid$/)&&("meet"==m&&p==n||"slice"==m&&q==n)&&b.translate(0,f/2-g/2),l.match(/^xMax/)&&("meet"==m&&p==o||"slice"==m&&q==o)&&b.translate(d-e,0),l.match(/YMax$/)&&("meet"==m&&p==n||"slice"==m&&q==n)&&b.translate(0,f-g)),"none"==l?b.scale(n,o):"meet"==m?b.scale(p,p):"slice"==m&&b.scale(q,q),b.translate(null==h?0:-h,null==i?0:-i)},a.Element={},a.EmptyProperty=new a.Property("EMPTY",""),a.Element.ElementBase=function(b){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(b,c){var d=this.attributes[b];return null!=d?d:(1==c&&(d=new a.Property(b,""),this.attributes[b]=d),d||a.EmptyProperty)},this.style=function(b,c){var d=this.styles[b];if(null!=d)return d;var e=this.attribute(b);if(null!=e&&e.hasValue())return this.styles[b]=e,e;var f=this.parent;if(null!=f){var g=f.style(b);if(null!=g&&g.hasValue())return g}return 1==c&&(d=new a.Property(b,""),this.styles[b]=d),d||a.EmptyProperty},this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(a.save(),this.setContext(a),this.attribute("mask").hasValue()){var b=this.attribute("mask").getDefinition();null!=b&&b.apply(a,this)}else if(this.style("filter").hasValue()){var c=this.style("filter").getDefinition();null!=c&&c.apply(a,this)}else this.renderChildren(a);this.clearContext(a),a.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(a){for(var b=0;b<this.children.length;b++)this.children[b].render(a)},this.addChild=function(b,c){var d=b;c&&(d=a.CreateElement(b)),d.parent=this,this.children.push(d)},null!=b&&1==b.nodeType){for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];1==d.nodeType&&this.addChild(d,!0)}for(var c=0;c<b.attributes.length;c++){var e=b.attributes[c];this.attributes[e.nodeName]=new a.Property(e.nodeName,e.nodeValue)}var f=a.Styles[b.nodeName];if(null!=f)for(var g in f)this.styles[g]=f[g];if(this.attribute("class").hasValue())for(var h=a.compressSpaces(this.attribute("class").value).split(" "),i=0;i<h.length;i++){if(f=a.Styles["."+h[i]],null!=f)for(var g in f)this.styles[g]=f[g];if(f=a.Styles[b.nodeName+"."+h[i]],null!=f)for(var g in f)this.styles[g]=f[g]}if(this.attribute("id").hasValue()){var f=a.Styles["#"+this.attribute("id").value];if(null!=f)for(var g in f)this.styles[g]=f[g]}if(this.attribute("style").hasValue())for(var f=this.attribute("style").value.split(";"),c=0;c<f.length;c++)if(""!=a.trim(f[c])){var j=f[c].split(":"),g=a.trim(j[0]),k=a.trim(j[1]);this.styles[g]=new a.Property(g,k)}this.attribute("id").hasValue()&&null==a.Definitions[this.attribute("id").value]&&(a.Definitions[this.attribute("id").value]=this)}},a.Element.RenderedElementBase=function(b){this.base=a.Element.ElementBase,this.base(b),this.setContext=function(b){if(this.style("fill").isUrlDefinition()){var c=this.style("fill").getFillStyleDefinition(this);null!=c&&(b.fillStyle=c)}else if(this.style("fill").hasValue()){var d=this.style("fill");"currentColor"==d.value&&(d.value=this.style("color").value),b.fillStyle="none"==d.value?"rgba(0,0,0,0)":d.value}if(this.style("fill-opacity").hasValue()){var d=new a.Property("fill",b.fillStyle);d=d.addOpacity(this.style("fill-opacity").value),b.fillStyle=d.value}if(this.style("stroke").isUrlDefinition()){var c=this.style("stroke").getFillStyleDefinition(this);null!=c&&(b.strokeStyle=c)}else if(this.style("stroke").hasValue()){var e=this.style("stroke");"currentColor"==e.value&&(e.value=this.style("color").value),b.strokeStyle="none"==e.value?"rgba(0,0,0,0)":e.value}if(this.style("stroke-opacity").hasValue()){var e=new a.Property("stroke",b.strokeStyle);e=e.addOpacity(this.style("stroke-opacity").value),b.strokeStyle=e.value}if(this.style("stroke-width").hasValue()&&(b.lineWidth=this.style("stroke-width").toPixels()),this.style("stroke-linecap").hasValue()&&(b.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(b.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(b.miterLimit=this.style("stroke-miterlimit").value),"undefined"!=typeof b.font&&(b.font=a.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var f=new a.Transform(this.attribute("transform").value);f.apply(b)}if(this.attribute("clip-path").hasValue()){var g=this.attribute("clip-path").getDefinition();null!=g&&g.apply(b)}this.style("opacity").hasValue()&&(b.globalAlpha=this.style("opacity").numValue())}},a.Element.RenderedElementBase.prototype=new a.Element.ElementBase,a.Element.PathElementBase=function(b){this.base=a.Element.RenderedElementBase,this.base(b),this.path=function(b){return null!=b&&b.beginPath(),new a.BoundingBox},this.renderChildren=function(b){this.path(b),a.Mouse.checkPath(this,b),""!=b.fillStyle&&b.fill(),""!=b.strokeStyle&&b.stroke();var c=this.getMarkers();if(null!=c){if(this.style("marker-start").isUrlDefinition()){var d=this.style("marker-start").getDefinition();d.render(b,c[0][0],c[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var d=this.style("marker-mid").getDefinition(),e=1;e<c.length-1;e++)d.render(b,c[e][0],c[e][1]);if(this.style("marker-end").isUrlDefinition()){var d=this.style("marker-end").getDefinition();d.render(b,c[c.length-1][0],c[c.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},a.Element.PathElementBase.prototype=new a.Element.RenderedElementBase,a.Element.svg=function(b){this.base=a.Element.RenderedElementBase,this.base(b),this.baseClearContext=this.clearContext,this.clearContext=function(b){this.baseClearContext(b),a.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(b){b.strokeStyle="rgba(0,0,0,0)",b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,this.baseSetContext(b),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),b.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var c=a.ViewPort.width(),d=a.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){c=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y");var e=0,f=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(e=-this.attribute("refX").toPixels("x"),f=-this.attribute("refY").toPixels("y")),b.beginPath(),b.moveTo(e,f),b.lineTo(c,f),b.lineTo(c,d),b.lineTo(e,d),b.closePath(),b.clip()}if(a.ViewPort.SetCurrent(c,d),this.attribute("viewBox").hasValue()){var g=a.ToNumberArray(this.attribute("viewBox").value),h=g[0],i=g[1];c=g[2],d=g[3],a.AspectRatio(b,this.attribute("preserveAspectRatio").value,a.ViewPort.width(),c,a.ViewPort.height(),d,h,i,this.attribute("refX").value,this.attribute("refY").value),a.ViewPort.RemoveCurrent(),a.ViewPort.SetCurrent(g[2],g[3])}}},a.Element.svg.prototype=new a.Element.RenderedElementBase,a.Element.rect=function(b){this.base=a.Element.PathElementBase,this.base(b),this.path=function(b){var c=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),e=this.attribute("width").toPixels("x"),f=this.attribute("height").toPixels("y"),g=this.attribute("rx").toPixels("x"),h=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(h=g),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(g=h),null!=b&&(b.beginPath(),b.moveTo(c+g,d),b.lineTo(c+e-g,d),b.quadraticCurveTo(c+e,d,c+e,d+h),b.lineTo(c+e,d+f-h),b.quadraticCurveTo(c+e,d+f,c+e-g,d+f),b.lineTo(c+g,d+f),b.quadraticCurveTo(c,d+f,c,d+f-h),b.lineTo(c,d+h),b.quadraticCurveTo(c,d,c+g,d),b.closePath()),new a.BoundingBox(c,d,c+e,d+f)}},a.Element.rect.prototype=new a.Element.PathElementBase,a.Element.circle=function(b){this.base=a.Element.PathElementBase,this.base(b),this.path=function(b){var c=this.attribute("cx").toPixels("x"),d=this.attribute("cy").toPixels("y"),e=this.attribute("r").toPixels();return null!=b&&(b.beginPath(),b.arc(c,d,e,0,2*Math.PI,!0),b.closePath()),new a.BoundingBox(c-e,d-e,c+e,d+e)}},a.Element.circle.prototype=new a.Element.PathElementBase,a.Element.ellipse=function(b){this.base=a.Element.PathElementBase,this.base(b),this.path=function(b){var c=4*((Math.sqrt(2)-1)/3),d=this.attribute("rx").toPixels("x"),e=this.attribute("ry").toPixels("y"),f=this.attribute("cx").toPixels("x"),g=this.attribute("cy").toPixels("y");return null!=b&&(b.beginPath(),b.moveTo(f,g-e),b.bezierCurveTo(f+c*d,g-e,f+d,g-c*e,f+d,g),b.bezierCurveTo(f+d,g+c*e,f+c*d,g+e,f,g+e),b.bezierCurveTo(f-c*d,g+e,f-d,g+c*e,f-d,g),b.bezierCurveTo(f-d,g-c*e,f-c*d,g-e,f,g-e),b.closePath()),new a.BoundingBox(f-d,g-e,f+d,g+e)}},a.Element.ellipse.prototype=new a.Element.PathElementBase,a.Element.line=function(b){this.base=a.Element.PathElementBase,this.base(b),this.getPoints=function(){return[new a.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new a.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(b){var c=this.getPoints();return null!=b&&(b.beginPath(),b.moveTo(c[0].x,c[0].y),b.lineTo(c[1].x,c[1].y)),new a.BoundingBox(c[0].x,c[0].y,c[1].x,c[1].y)},this.getMarkers=function(){var a=this.getPoints(),b=a[0].angleTo(a[1]);return[[a[0],b],[a[1],b]]}},a.Element.line.prototype=new a.Element.PathElementBase,a.Element.polyline=function(b){this.base=a.Element.PathElementBase,this.base(b),this.points=a.CreatePath(this.attribute("points").value),this.path=function(b){var c=new a.BoundingBox(this.points[0].x,this.points[0].y);null!=b&&(b.beginPath(),b.moveTo(this.points[0].x,this.points[0].y));for(var d=1;d<this.points.length;d++)c.addPoint(this.points[d].x,this.points[d].y),null!=b&&b.lineTo(this.points[d].x,this.points[d].y);return c},this.getMarkers=function(){for(var a=[],b=0;b<this.points.length-1;b++)a.push([this.points[b],this.points[b].angleTo(this.points[b+1])]);return a.push([this.points[this.points.length-1],a[a.length-1][1]]),a}},a.Element.polyline.prototype=new a.Element.PathElementBase,a.Element.polygon=function(b){this.base=a.Element.polyline,this.base(b),this.basePath=this.path,this.path=function(a){var b=this.basePath(a);return null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath()),b}},a.Element.polygon.prototype=new a.Element.polyline,a.Element.path=function(b){this.base=a.Element.PathElementBase,this.base(b);var c=this.attribute("d").value;c=c.replace(/,/gm," "),c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),c=c.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),c=c.replace(/([0-9])([+\-])/gm,"$1 $2"),c=c.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),c=c.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),c=a.compressSpaces(c),c=a.trim(c),this.PathParser=new function(b){this.tokens=b.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new a.Point(0,0),this.control=new a.Point(0,0),this.current=new a.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var b=new a.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(b)},this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a,a},this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a,a},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase())return this.current;var b=new a.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return b},this.makeAbsolute=function(a){return this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y),a},this.addMarker=function(a,b,c){null!=c&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(c)),this.addMarkerAngle(a,null==b?null:b.angleTo(a))},this.addMarkerAngle=function(a,b){this.points.push(a),this.angles.push(b)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var b=a+1;b<this.angles.length;b++)if(null!=this.angles[b]){this.angles[a]=this.angles[b];break}return this.angles}}(c),this.path=function(b){var c=this.PathParser;c.reset();var d=new a.BoundingBox;for(null!=b&&b.beginPath();!c.isEnd();)switch(c.nextCommand(),c.command){case"M":case"m":var e=c.getAsCurrentPoint();
for(c.addMarker(e),d.addPoint(e.x,e.y),null!=b&&b.moveTo(e.x,e.y),c.start=c.current;!c.isCommandOrEnd();){var e=c.getAsCurrentPoint();c.addMarker(e,c.start),d.addPoint(e.x,e.y),null!=b&&b.lineTo(e.x,e.y)}break;case"L":case"l":for(;!c.isCommandOrEnd();){var f=c.current,e=c.getAsCurrentPoint();c.addMarker(e,f),d.addPoint(e.x,e.y),null!=b&&b.lineTo(e.x,e.y)}break;case"H":case"h":for(;!c.isCommandOrEnd();){var g=new a.Point((c.isRelativeCommand()?c.current.x:0)+c.getScalar(),c.current.y);c.addMarker(g,c.current),c.current=g,d.addPoint(c.current.x,c.current.y),null!=b&&b.lineTo(c.current.x,c.current.y)}break;case"V":case"v":for(;!c.isCommandOrEnd();){var g=new a.Point(c.current.x,(c.isRelativeCommand()?c.current.y:0)+c.getScalar());c.addMarker(g,c.current),c.current=g,d.addPoint(c.current.x,c.current.y),null!=b&&b.lineTo(c.current.x,c.current.y)}break;case"C":case"c":for(;!c.isCommandOrEnd();){var h=c.current,i=c.getPoint(),j=c.getAsControlPoint(),k=c.getAsCurrentPoint();c.addMarker(k,j,i),d.addBezierCurve(h.x,h.y,i.x,i.y,j.x,j.y,k.x,k.y),null!=b&&b.bezierCurveTo(i.x,i.y,j.x,j.y,k.x,k.y)}break;case"S":case"s":for(;!c.isCommandOrEnd();){var h=c.current,i=c.getReflectedControlPoint(),j=c.getAsControlPoint(),k=c.getAsCurrentPoint();c.addMarker(k,j,i),d.addBezierCurve(h.x,h.y,i.x,i.y,j.x,j.y,k.x,k.y),null!=b&&b.bezierCurveTo(i.x,i.y,j.x,j.y,k.x,k.y)}break;case"Q":case"q":for(;!c.isCommandOrEnd();){var h=c.current,j=c.getAsControlPoint(),k=c.getAsCurrentPoint();c.addMarker(k,j,j),d.addQuadraticCurve(h.x,h.y,j.x,j.y,k.x,k.y),null!=b&&b.quadraticCurveTo(j.x,j.y,k.x,k.y)}break;case"T":case"t":for(;!c.isCommandOrEnd();){var h=c.current,j=c.getReflectedControlPoint();c.control=j;var k=c.getAsCurrentPoint();c.addMarker(k,j,j),d.addQuadraticCurve(h.x,h.y,j.x,j.y,k.x,k.y),null!=b&&b.quadraticCurveTo(j.x,j.y,k.x,k.y)}break;case"A":case"a":for(;!c.isCommandOrEnd();){var h=c.current,l=c.getScalar(),m=c.getScalar(),n=c.getScalar()*(Math.PI/180),o=c.getScalar(),p=c.getScalar(),k=c.getAsCurrentPoint(),q=new a.Point(Math.cos(n)*(h.x-k.x)/2+Math.sin(n)*(h.y-k.y)/2,-Math.sin(n)*(h.x-k.x)/2+Math.cos(n)*(h.y-k.y)/2),r=Math.pow(q.x,2)/Math.pow(l,2)+Math.pow(q.y,2)/Math.pow(m,2);r>1&&(l*=Math.sqrt(r),m*=Math.sqrt(r));var s=(o==p?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(m,2)-Math.pow(l,2)*Math.pow(q.y,2)-Math.pow(m,2)*Math.pow(q.x,2))/(Math.pow(l,2)*Math.pow(q.y,2)+Math.pow(m,2)*Math.pow(q.x,2)));isNaN(s)&&(s=0);var t=new a.Point(s*l*q.y/m,s*-m*q.x/l),u=new a.Point((h.x+k.x)/2+Math.cos(n)*t.x-Math.sin(n)*t.y,(h.y+k.y)/2+Math.sin(n)*t.x+Math.cos(n)*t.y),v=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},w=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(v(a)*v(b))},x=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(w(a,b))},y=x([1,0],[(q.x-t.x)/l,(q.y-t.y)/m]),z=[(q.x-t.x)/l,(q.y-t.y)/m],A=[(-q.x-t.x)/l,(-q.y-t.y)/m],B=x(z,A);w(z,A)<=-1&&(B=Math.PI),w(z,A)>=1&&(B=0),0==p&&B>0&&(B-=2*Math.PI),1==p&&0>B&&(B+=2*Math.PI);var C=new a.Point(u.x+l*Math.cos((y+(y+B))/2),u.y+m*Math.sin((y+(y+B))/2));if(c.addMarkerAngle(C,(y+(y+B))/2+(0==p?-1:1)*Math.PI/2),c.addMarkerAngle(k,y+B+(0==p?-1:1)*Math.PI/2),d.addPoint(k.x,k.y),null!=b){var w=l>m?l:m,D=l>m?1:l/m,E=l>m?m/l:1;b.translate(u.x,u.y),b.rotate(n),b.scale(D,E),b.arc(0,0,w,y,y+B,1-p),b.scale(1/D,1/E),b.rotate(-n),b.translate(-u.x,-u.y)}}break;case"Z":case"z":null!=b&&b.closePath(),c.current=c.start}return d},this.getMarkers=function(){for(var a=this.PathParser.getMarkerPoints(),b=this.PathParser.getMarkerAngles(),c=[],d=0;d<a.length;d++)c.push([a[d],b[d]]);return c}},a.Element.path.prototype=new a.Element.PathElementBase,a.Element.pattern=function(b){this.base=a.Element.ElementBase,this.base(b),this.createPattern=function(b){var c=new a.Element.svg;c.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value),c.attributes.x=new a.Property("x",this.attribute("x").value),c.attributes.y=new a.Property("y",this.attribute("y").value),c.attributes.width=new a.Property("width",this.attribute("width").value),c.attributes.height=new a.Property("height",this.attribute("height").value),c.children=this.children;var d=document.createElement("canvas");return document.body.appendChild(d),d.width=this.attribute("width").toPixels("x")+this.attribute("x").toPixels("x"),d.height=this.attribute("height").toPixels("y")+this.attribute("y").toPixels("y"),c.render(d.getContext("2d")),b.createPattern(d,"repeat")}},a.Element.pattern.prototype=new a.Element.ElementBase,a.Element.marker=function(b){this.base=a.Element.ElementBase,this.base(b),this.baseRender=this.render,this.render=function(b,c,d){b.translate(c.x,c.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&b.rotate(d),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&b.scale(b.lineWidth,b.lineWidth),b.save();var e=new a.Element.svg;e.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value),e.attributes.refX=new a.Property("refX",this.attribute("refX").value),e.attributes.refY=new a.Property("refY",this.attribute("refY").value),e.attributes.width=new a.Property("width",this.attribute("markerWidth").value),e.attributes.height=new a.Property("height",this.attribute("markerHeight").value),e.attributes.fill=new a.Property("fill",this.attribute("fill").valueOrDefault("black")),e.attributes.stroke=new a.Property("stroke",this.attribute("stroke").valueOrDefault("none")),e.children=this.children,e.render(b),b.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&b.scale(1/b.lineWidth,1/b.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&b.rotate(-d),b.translate(-c.x,-c.y)}},a.Element.marker.prototype=new a.Element.ElementBase,a.Element.defs=function(b){this.base=a.Element.ElementBase,this.base(b),this.render=function(){}},a.Element.defs.prototype=new a.Element.ElementBase,a.Element.GradientBase=function(b){this.base=a.Element.ElementBase,this.base(b),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var c=0;c<this.children.length;c++){var d=this.children[c];this.stops.push(d)}this.getGradient=function(){},this.createGradient=function(b,c){var d=this;this.attribute("xlink:href").hasValue()&&(d=this.attribute("xlink:href").getDefinition());var e=this.getGradient(b,c);if(null==e)return d.stops[d.stops.length-1].color;for(var f=0;f<d.stops.length;f++)e.addColorStop(d.stops[f].offset,d.stops[f].color);if(this.attribute("gradientTransform").hasValue()){var g=a.ViewPort.viewPorts[0],h=new a.Element.rect;h.attributes.x=new a.Property("x",-a.MAX_VIRTUAL_PIXELS/3),h.attributes.y=new a.Property("y",-a.MAX_VIRTUAL_PIXELS/3),h.attributes.width=new a.Property("width",a.MAX_VIRTUAL_PIXELS),h.attributes.height=new a.Property("height",a.MAX_VIRTUAL_PIXELS);var i=new a.Element.g;i.attributes.transform=new a.Property("transform",this.attribute("gradientTransform").value),i.children=[h];var j=new a.Element.svg;j.attributes.x=new a.Property("x",0),j.attributes.y=new a.Property("y",0),j.attributes.width=new a.Property("width",g.width),j.attributes.height=new a.Property("height",g.height),j.children=[i];var k=document.createElement("canvas");k.width=g.width,k.height=g.height;var l=k.getContext("2d");return l.fillStyle=e,j.render(l),l.createPattern(k,"no-repeat")}return e}},a.Element.GradientBase.prototype=new a.Element.ElementBase,a.Element.linearGradient=function(b){this.base=a.Element.GradientBase,this.base(b),this.getGradient=function(a,b){var c=b.getBoundingBox(),d="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),e="objectBoundingBox"==this.gradientUnits?c.y()+c.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),f="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),g="objectBoundingBox"==this.gradientUnits?c.y()+c.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return d==f&&e==g?null:a.createLinearGradient(d,e,f,g)}},a.Element.linearGradient.prototype=new a.Element.GradientBase,a.Element.radialGradient=function(b){this.base=a.Element.GradientBase,this.base(b),this.getGradient=function(a,b){var c=b.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var d="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),e="objectBoundingBox"==this.gradientUnits?c.y()+c.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),f=d,g=e;this.attribute("fx").hasValue()&&(f="objectBoundingBox"==this.gradientUnits?c.x()+c.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(g="objectBoundingBox"==this.gradientUnits?c.y()+c.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var h="objectBoundingBox"==this.gradientUnits?(c.width()+c.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return a.createRadialGradient(f,g,0,d,e,h)}},a.Element.radialGradient.prototype=new a.Element.GradientBase,a.Element.stop=function(b){this.base=a.Element.ElementBase,this.base(b),this.offset=this.attribute("offset").numValue();var c=this.style("stop-color");this.style("stop-opacity").hasValue()&&(c=c.addOpacity(this.style("stop-opacity").value)),this.color=c.value},a.Element.stop.prototype=new a.Element.ElementBase,a.Element.AnimateBase=function(b){this.base=a.Element.ElementBase,this.base(b),a.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var a=this.attribute("attributeType").value,b=this.attribute("attributeName").value;return"CSS"==a?this.parent.style(b,!0):this.parent.attribute(b,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(a){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+a;var b=!1;if(this.begin<this.duration){var c=this.calcValue();if(this.attribute("type").hasValue()){var d=this.attribute("type").value;c=d+"("+c+")"}this.getProperty().value=c,b=!0}return b},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var b={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var c=b.progress*(this.values.value.length-1),d=Math.floor(c),e=Math.ceil(c);b.from=new a.Property("from",parseFloat(this.values.value[d])),b.to=new a.Property("to",parseFloat(this.values.value[e])),b.progress=(c-d)/(e-d)}else b.from=this.from,b.to=this.to;return b}},a.Element.AnimateBase.prototype=new a.Element.ElementBase,a.Element.animate=function(b){this.base=a.Element.AnimateBase,this.base(b),this.calcValue=function(){var a=this.progress(),b=a.from.numValue()+(a.to.numValue()-a.from.numValue())*a.progress;return b+this.initialUnits}},a.Element.animate.prototype=new a.Element.AnimateBase,a.Element.animateColor=function(b){this.base=a.Element.AnimateBase,this.base(b),this.calcValue=function(){var a=this.progress(),b=new RGBColor(a.from.value),c=new RGBColor(a.to.value);if(b.ok&&c.ok){var d=b.r+(c.r-b.r)*a.progress,e=b.g+(c.g-b.g)*a.progress,f=b.b+(c.b-b.b)*a.progress;return"rgb("+parseInt(d,10)+","+parseInt(e,10)+","+parseInt(f,10)+")"}return this.attribute("from").value}},a.Element.animateColor.prototype=new a.Element.AnimateBase,a.Element.animateTransform=function(b){this.base=a.Element.animate,this.base(b)},a.Element.animateTransform.prototype=new a.Element.animate,a.Element.font=function(b){this.base=a.Element.ElementBase,this.base(b),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var c=0;c<this.children.length;c++){var d=this.children[c];"font-face"==d.type?(this.fontFace=d,d.style("font-family").hasValue()&&(a.Definitions[d.style("font-family").value]=this)):"missing-glyph"==d.type?this.missingGlyph=d:"glyph"==d.type&&(""!=d.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[d.unicode]&&(this.glyphs[d.unicode]=[]),this.glyphs[d.unicode][d.arabicForm]=d):this.glyphs[d.unicode]=d)}},a.Element.font.prototype=new a.Element.ElementBase,a.Element.fontface=function(b){this.base=a.Element.ElementBase,this.base(b),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},a.Element.fontface.prototype=new a.Element.ElementBase,a.Element.missingglyph=function(b){this.base=a.Element.path,this.base(b),this.horizAdvX=0},a.Element.missingglyph.prototype=new a.Element.path,a.Element.glyph=function(b){this.base=a.Element.path,this.base(b),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},a.Element.glyph.prototype=new a.Element.path,a.Element.text=function(b){if(this.base=a.Element.RenderedElementBase,this.base(b),null!=b){this.children=[];for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];1==d.nodeType?this.addChild(d,!0):3==d.nodeType&&this.addChild(new a.Element.tspan(d),!1)}}this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.style("dominant-baseline").hasValue()&&(a.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(a.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(a){for(var b=this.style("text-anchor").valueOrDefault("start"),c=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),e=0;e<this.children.length;e++){var f=this.children[e];f.attribute("x").hasValue()?f.x=f.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(d+=this.attribute("dx").toPixels("x")),f.attribute("dx").hasValue()&&(c+=f.attribute("dx").toPixels("x")),f.x=c);var g=f.measureText(a);if("start"!=b&&(0==e||f.attribute("x").hasValue())){for(var h=g,i=e+1;i<this.children.length;i++){var j=this.children[i];if(j.attribute("x").hasValue())break;h+=j.measureText(a)}f.x-="end"==b?h:h/2}c=f.x+g,f.attribute("y").hasValue()?f.y=f.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(d+=this.attribute("dy").toPixels("y")),f.attribute("dy").hasValue()&&(d+=f.attribute("dy").toPixels("y")),f.y=d),d=f.y,f.render(a)}}},a.Element.text.prototype=new a.Element.RenderedElementBase,a.Element.TextElementBase=function(b){this.base=a.Element.RenderedElementBase,this.base(b),this.getGlyph=function(a,b,c){var d=b[c],e=null;if(a.isArabic){var f="isolated";(0==c||" "==b[c-1])&&c<b.length-2&&" "!=b[c+1]&&(f="terminal"),c>0&&" "!=b[c-1]&&c<b.length-2&&" "!=b[c+1]&&(f="medial"),c>0&&" "!=b[c-1]&&(c==b.length-1||" "==b[c+1])&&(f="initial"),"undefined"!=typeof a.glyphs[d]&&(e=a.glyphs[d][f],null==e&&"glyph"==a.glyphs[d].type&&(e=a.glyphs[d]))}else e=a.glyphs[d];return null==e&&(e=a.missingGlyph),e},this.renderChildren=function(b){var c=this.parent.style("font-family").getDefinition();if(null==c)""!=b.strokeStyle&&b.strokeText(a.compressSpaces(this.getText()),this.x,this.y),""!=b.fillStyle&&b.fillText(a.compressSpaces(this.getText()),this.x,this.y);else{var d=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),e=this.parent.style("font-style").valueOrDefault(a.Font.Parse(a.ctx.font).fontStyle),f=this.getText();c.isRTL&&(f=f.split("").reverse().join(""));for(var g=a.ToNumberArray(this.parent.attribute("dx").value),h=0;h<f.length;h++){var i=this.getGlyph(c,f,h),j=d/c.fontFace.unitsPerEm;b.translate(this.x,this.y),b.scale(j,-j);var k=b.lineWidth;b.lineWidth=b.lineWidth*c.fontFace.unitsPerEm/d,"italic"==e&&b.transform(1,0,.4,1,0,0),i.render(b),"italic"==e&&b.transform(1,0,-.4,1,0,0),b.lineWidth=k,b.scale(1/j,-1/j),b.translate(-this.x,-this.y),this.x+=d*(i.horizAdvX||c.horizAdvX)/c.fontFace.unitsPerEm,"undefined"==typeof g[h]||isNaN(g[h])||(this.x+=g[h])}}},this.getText=function(){},this.measureText=function(b){var c=this.parent.style("font-family").getDefinition();if(null!=c){var d=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),e=0,f=this.getText();c.isRTL&&(f=f.split("").reverse().join(""));for(var g=a.ToNumberArray(this.parent.attribute("dx").value),h=0;h<f.length;h++){var i=this.getGlyph(c,f,h);e+=(i.horizAdvX||c.horizAdvX)*d/c.fontFace.unitsPerEm,"undefined"==typeof g[h]||isNaN(g[h])||(e+=g[h])}return e}var j=a.compressSpaces(this.getText());if(!b.measureText)return 10*j.length;b.save(),this.setContext(b);var k=b.measureText(j).width;return b.restore(),k}},a.Element.TextElementBase.prototype=new a.Element.RenderedElementBase,a.Element.tspan=function(b){this.base=a.Element.TextElementBase,this.base(b),this.text=3==b.nodeType?b.nodeValue:b.childNodes.length>0?b.childNodes[0].nodeValue:b.text,this.getText=function(){return this.text}},a.Element.tspan.prototype=new a.Element.TextElementBase,a.Element.tref=function(b){this.base=a.Element.TextElementBase,this.base(b),this.getText=function(){var a=this.attribute("xlink:href").getDefinition();return null!=a?a.children[0].getText():void 0}},a.Element.tref.prototype=new a.Element.TextElementBase,a.Element.a=function(b){this.base=a.Element.TextElementBase,this.base(b),this.hasText=!0;for(var c=0;c<b.childNodes.length;c++)3!=b.childNodes[c].nodeType&&(this.hasText=!1);this.text=this.hasText?b.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(b){if(this.hasText){this.baseRenderChildren(b);var c=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);a.Mouse.checkBoundingBox(this,new a.BoundingBox(this.x,this.y-c.toPixels("y"),this.x+this.measureText(b),this.y))}else{var d=new a.Element.g;d.children=this.children,d.parent=this,d.render(b)}},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){a.ctx.canvas.style.cursor="pointer"}},a.Element.a.prototype=new a.Element.TextElementBase,a.Element.image=function(b){this.base=a.Element.RenderedElementBase,this.base(b);var c=this.attribute("xlink:href").value,d=c.match(/\.svg$/);if(a.Images.push(this),this.loaded=!1,d)this.img=a.ajax(c),this.loaded=!0;else{this.img=document.createElement("img");var e=this;this.img.onload=function(){e.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+c+'" not found'),e.loaded=!0},this.img.src=c}this.renderChildren=function(b){var c=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");0!=f&&0!=g&&(b.save(),d?b.drawSvg(this.img,c,e,f,g):(b.translate(c,e),a.AspectRatio(b,this.attribute("preserveAspectRatio").value,f,this.img.width,g,this.img.height,0,0),b.drawImage(this.img,0,0)),b.restore())}},a.Element.image.prototype=new a.Element.RenderedElementBase,a.Element.g=function(b){this.base=a.Element.RenderedElementBase,this.base(b),this.getBoundingBox=function(){for(var b=new a.BoundingBox,c=0;c<this.children.length;c++)b.addBoundingBox(this.children[c].getBoundingBox());return b}},a.Element.g.prototype=new a.Element.RenderedElementBase,a.Element.symbol=function(b){this.base=a.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(b){if(this.baseSetContext(b),this.attribute("viewBox").hasValue()){var c=a.ToNumberArray(this.attribute("viewBox").value),d=c[0],e=c[1];width=c[2],height=c[3],a.AspectRatio(b,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,d,e),a.ViewPort.SetCurrent(c[2],c[3])}}},a.Element.symbol.prototype=new a.Element.RenderedElementBase,a.Element.style=function(b){this.base=a.Element.ElementBase,this.base(b);var c=b.childNodes[0].nodeValue+(b.childNodes.length>1?b.childNodes[1].nodeValue:"");c=c.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),c=a.compressSpaces(c);for(var d=c.split("}"),e=0;e<d.length;e++)if(""!=a.trim(d[e]))for(var f=d[e].split("{"),g=f[0].split(","),h=f[1].split(";"),i=0;i<g.length;i++){var j=a.trim(g[i]);if(""!=j){for(var k={},l=0;l<h.length;l++){var m=h[l].indexOf(":"),n=h[l].substr(0,m),o=h[l].substr(m+1,h[l].length-m);null!=n&&null!=o&&(k[a.trim(n)]=new a.Property(a.trim(n),a.trim(o)))}if(a.Styles[j]=k,"@font-face"==j)for(var p=k["font-family"].value.replace(/"/g,""),q=k.src.value.split(","),r=0;r<q.length;r++)if(q[r].indexOf('format("svg")')>0)for(var s=q[r].indexOf("url"),t=q[r].indexOf(")",s),u=q[r].substr(s+5,t-s-6),v=a.parseXml(a.ajax(u)),w=v.getElementsByTagName("font"),x=0;x<w.length;x++){var y=a.CreateElement(w[x]);a.Definitions[p]=y}}}},a.Element.style.prototype=new a.Element.ElementBase,a.Element.use=function(b){this.base=a.Element.RenderedElementBase,this.base(b),this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var a=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(a.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(a.attribute("height",!0).value=this.attribute("height").value),a},this.path=function(a){var b=this.getDefinition();null!=b&&b.path(a)},this.renderChildren=function(a){var b=this.getDefinition();if(null!=b){var c=b.parent;b.parent=null,b.render(a),b.parent=c}}},a.Element.use.prototype=new a.Element.RenderedElementBase,a.Element.mask=function(b){this.base=a.Element.ElementBase,this.base(b),this.apply=function(b,c){var d=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");if(0==f&&0==g){for(var h=new a.BoundingBox,i=0;i<this.children.length;i++)h.addBoundingBox(this.children[i].getBoundingBox());var d=Math.floor(h.x1),e=Math.floor(h.y1),f=Math.floor(h.width()),g=Math.floor(h.height())}var j=c.attribute("mask").value;c.attribute("mask").value="";var k=document.createElement("canvas");k.width=d+f,k.height=e+g;var l=k.getContext("2d");this.renderChildren(l);var m=document.createElement("canvas");m.width=d+f,m.height=e+g;var n=m.getContext("2d");c.render(n),n.globalCompositeOperation="destination-in",n.fillStyle=l.createPattern(k,"no-repeat"),n.fillRect(0,0,d+f,e+g),b.fillStyle=n.createPattern(m,"no-repeat"),b.fillRect(0,0,d+f,e+g),c.attribute("mask").value=j},this.render=function(){}},a.Element.mask.prototype=new a.Element.ElementBase,a.Element.clipPath=function(b){this.base=a.Element.ElementBase,this.base(b),this.apply=function(a){for(var b=0;b<this.children.length;b++)this.children[b].path&&(this.children[b].path(a),a.clip())},this.render=function(){}},a.Element.clipPath.prototype=new a.Element.ElementBase,a.Element.filter=function(b){this.base=a.Element.ElementBase,this.base(b),this.apply=function(a,b){var c=b.getBoundingBox(),d=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y");(0==d||0==e)&&(d=c.x1,e=c.y1);var f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");(0==f||0==g)&&(f=c.width(),g=c.height());var h=b.style("filter").value;b.style("filter").value="";var i=.2,j=i*f,k=i*g,l=document.createElement("canvas");l.width=f+2*j,l.height=g+2*k;var m=l.getContext("2d");m.translate(-d+j,-e+k),b.render(m);for(var n=0;n<this.children.length;n++)this.children[n].apply(m,0,0,f+2*j,g+2*k);a.drawImage(l,0,0,f+2*j,g+2*k,d-j,e-k,f+2*j,g+2*k),b.style("filter",!0).value=h},this.render=function(){}},a.Element.filter.prototype=new a.Element.ElementBase,a.Element.feGaussianBlur=function(b){function c(a){a=Math.max(a,.01);var b=Math.ceil(4*a)+1;mask=[];for(var c=0;b>c;c++)mask[c]=Math.exp(-.5*(c/a)*(c/a));return mask}function d(a){for(var b=0,c=1;c<a.length;c++)b+=Math.abs(a[c]);b=2*b+Math.abs(a[0]);for(var c=0;c<a.length;c++)a[c]/=b;return a}function e(a,b,c,d,e){for(var h=0;e>h;h++)for(var i=0;d>i;i++)for(var j=f(a,i,h,d,e,3)/255,k=0;4>k;k++){for(var l=c[0]*(0==j?255:f(a,i,h,d,e,k))*(0==j||3==k?1:j),m=1;m<c.length;m++){var n=f(a,Math.max(i-m,0),h,d,e,3)/255,o=f(a,Math.min(i+m,d-1),h,d,e,3)/255;l+=c[m]*((0==n?255:f(a,Math.max(i-m,0),h,d,e,k))*(0==n||3==k?1:n)+(0==o?255:f(a,Math.min(i+m,d-1),h,d,e,k))*(0==o||3==k?1:o))}g(b,h,i,e,d,k,l)}}function f(a,b,c,d,e,f){return a[c*d*4+4*b+f]}function g(a,b,c,d,e,f,g){a[c*d*4+4*b+f]=g}function h(a,b,f,g){var h=a.getImageData(0,0,b,f),i=c(g);i=d(i),tmp=[],e(h.data,tmp,i,b,f),e(tmp,h.data,i,f,b),a.clearRect(0,0,b,f),a.putImageData(h,0,0)}this.base=a.Element.ElementBase,this.base(b),this.apply=function(a,b,c,d,e){h(a,d,e,this.attribute("stdDeviation").numValue())}},a.Element.filter.prototype=new a.Element.feGaussianBlur,a.Element.title=function(){},a.Element.title.prototype=new a.Element.ElementBase,a.Element.desc=function(){},a.Element.desc.prototype=new a.Element.ElementBase,a.Element.MISSING=function(a){console&&console.log("ERROR: Element '"+a.nodeName+"' not yet implemented.")},a.Element.MISSING.prototype=new a.Element.ElementBase,a.CreateElement=function(b){var c=b.nodeName.replace(/^[^:]+:/,"");c=c.replace(/\-/g,"");var d=null;return d="undefined"!=typeof a.Element[c]?new a.Element[c](b):new a.Element.MISSING(b),d.type=b.nodeName,d},a.load=function(b,c){a.loadXml(b,a.ajax(c))},a.loadXml=function(b,c){a.loadXmlDoc(b,a.parseXml(c))},a.loadXmlDoc=function(b,c){a.init(b);var d=function(a){for(var c=b.canvas;c;)a.x-=c.offsetLeft,a.y-=c.offsetTop,c=c.offsetParent;return window.scrollX&&(a.x+=window.scrollX),window.scrollY&&(a.y+=window.scrollY),a};1!=a.opts.ignoreMouse&&(b.canvas.onclick=function(b){var c=d(new a.Point(null!=b?b.clientX:event.clientX,null!=b?b.clientY:event.clientY));a.Mouse.onclick(c.x,c.y)},b.canvas.onmousemove=function(b){var c=d(new a.Point(null!=b?b.clientX:event.clientX,null!=b?b.clientY:event.clientY));a.Mouse.onmousemove(c.x,c.y)});var e=a.CreateElement(c.documentElement);e.root=!0;var f=!0,g=function(){a.ViewPort.Clear(),b.canvas.parentNode&&a.ViewPort.SetCurrent(b.canvas.parentNode.clientWidth,b.canvas.parentNode.clientHeight),1!=a.opts.ignoreDimensions&&(e.style("width").hasValue()&&(b.canvas.width=e.style("width").toPixels("x"),b.canvas.style.width=b.canvas.width+"px"),e.style("height").hasValue()&&(b.canvas.height=e.style("height").toPixels("y"),b.canvas.style.height=b.canvas.height+"px"));var c=b.canvas.clientWidth||b.canvas.width,d=b.canvas.clientHeight||b.canvas.height;if(1==a.opts.ignoreDimensions&&e.style("width").hasValue()&&e.style("height").hasValue()&&(c=e.style("width").toPixels("x"),d=e.style("height").toPixels("y")),a.ViewPort.SetCurrent(c,d),null!=a.opts.offsetX&&(e.attribute("x",!0).value=a.opts.offsetX),null!=a.opts.offsetY&&(e.attribute("y",!0).value=a.opts.offsetY),null!=a.opts.scaleWidth&&null!=a.opts.scaleHeight){var g=1,h=1,i=a.ToNumberArray(e.attribute("viewBox").value);e.attribute("width").hasValue()?g=e.attribute("width").toPixels("x")/a.opts.scaleWidth:isNaN(i[2])||(g=i[2]/a.opts.scaleWidth),e.attribute("height").hasValue()?h=e.attribute("height").toPixels("y")/a.opts.scaleHeight:isNaN(i[3])||(h=i[3]/a.opts.scaleHeight),e.attribute("width",!0).value=a.opts.scaleWidth,e.attribute("height",!0).value=a.opts.scaleHeight,e.attribute("viewBox",!0).value="0 0 "+c*g+" "+d*h,e.attribute("preserveAspectRatio",!0).value="none"}1!=a.opts.ignoreClear&&b.clearRect(0,0,c,d),e.render(b),f&&(f=!1,"function"==typeof a.opts.renderCallback&&a.opts.renderCallback())},h=!0;a.ImagesLoaded()&&(h=!1,g()),a.intervalID=setInterval(function(){var b=!1;if(h&&a.ImagesLoaded()&&(h=!1,b=!0),1!=a.opts.ignoreMouse&&(b|=a.Mouse.hasEvents()),1!=a.opts.ignoreAnimation)for(var c=0;c<a.Animations.length;c++)b|=a.Animations[c].update(1e3/a.FRAMERATE);"function"==typeof a.opts.forceRedraw&&1==a.opts.forceRedraw()&&(b=!0),b&&(g(),a.Mouse.runEvents())},1e3/a.FRAMERATE)},a.stop=function(){a.intervalID&&clearInterval(a.intervalID)},a.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(a,b){this.events.push({type:"onclick",x:a,y:b,run:function(a){a.onclick&&a.onclick()}})},this.onmousemove=function(a,b){this.events.push({type:"onmousemove",x:a,y:b,run:function(a){a.onmousemove&&a.onmousemove()}})},this.eventElements=[],this.checkPath=function(a,b){for(var c=0;c<this.events.length;c++){var d=this.events[c];b.isPointInPath&&b.isPointInPath(d.x,d.y)&&(this.eventElements[c]=a)}},this.checkBoundingBox=function(a,b){for(var c=0;c<this.events.length;c++){var d=this.events[c];b.isPointInBox(d.x,d.y)&&(this.eventElements[c]=a)}},this.runEvents=function(){a.ctx.canvas.style.cursor="";for(var b=0;b<this.events.length;b++)for(var c=this.events[b],d=this.eventElements[b];d;)c.run(d),d=d.parent;this.events=[],this.eventElements=[]}},a}this.canvg=function(b,c,d){if(null!=b||null!=c||null!=d){d=d||{},"string"==typeof b&&(b=document.getElementById(b)),null!=b.svg&&b.svg.stop(),b.svg=svg=a(),svg.opts=d;var e=b.getContext("2d");"undefined"!=typeof c.documentElement?svg.loadXmlDoc(e,c):"<"==c.substr(0,1)?svg.loadXml(e,c):svg.load(e,c)}else for(var f=document.getElementsByTagName("svg"),g=0;g<f.length;g++){var h=f[g],i=document.createElement("canvas");i.width=h.clientWidth,i.height=h.clientHeight,h.parentNode.insertBefore(i,h),h.parentNode.removeChild(h);var j=document.createElement("div");j.appendChild(h),canvg(i,j.innerHTML)}}}(),CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(a,b,c,d,e){canvg(this.canvas,a,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:b,offsetY:c,scaleWidth:d,scaleHeight:e})}),function(a,b,c){function d(a,b){var c=b.getBoundingClientRect();return{x:Math.min(Math.max(a.clientX-c.left,0),c.width-2),y:Math.min(Math.max(a.clientY-c.top,0),c.height)}}function e(a,c,d){a=b.createElementNS(q,a);for(var e in c)a.setAttribute(e,c[e]);"[object Array]"!=Object.prototype.toString.call(d)&&(d=[d]);for(var f=0,g=d[0]&&d.length||0;g>f;f++)a.appendChild(d[f]);return a}function f(a){var b,c,d,e,f,g=a.h%360/60;f=a.v*a.s,e=f*(1-Math.abs(g%2-1)),b=c=d=a.v-f,g=~~g,b+=[f,e,0,0,e,f][g],c+=[e,f,f,e,0,0][g],d+=[0,0,e,f,f,e][g];var h=Math.floor(255*b),i=Math.floor(255*c),j=Math.floor(255*d);return{r:h,g:i,b:j,hex:"#"+(16777216|j|i<<8|h<<16).toString(16).slice(1)}}function g(a){var b=a.r,c=a.g,d=a.b;(a.r>1||a.g>1||a.b>1)&&(b/=255,c/=255,d/=255);var e,f,g,h;return g=Math.max(b,c,d),h=g-Math.min(b,c,d),e=0==h?null:g==b?(c-d)/h+(d>c?6:0):g==c?(d-b)/h+2:(b-c)/h+4,e=e%6*60,f=0==h?0:h/g,{h:e,s:f,v:g}}function h(b,e,g){return function(h){h=h||a.event;var i=d(h,e);b.h=i.y/e.offsetHeight*360+p;var j=f({h:b.h,s:1,v:1}),k=f({h:b.h,s:b.s,v:b.v});g.style.backgroundColor=j.hex,b.callback&&b.callback(k.hex,{h:b.h-p,s:b.s,v:b.v},{r:k.r,g:k.g,b:k.b},c,i)}}function i(b,c){return function(e){e=e||a.event;var g=d(e,c),h=c.offsetWidth,i=c.offsetHeight;b.s=g.x/h,b.v=(i-g.y)/i;var j=f(b);b.callback&&b.callback(j.hex,{h:b.h-p,s:b.s,v:b.v},{r:j.r,g:j.g,b:j.b},g)}}function j(a,b,c){if(!(this instanceof j))return new j(a,b,c);if(this.h=0,this.s=1,this.v=1,c)this.callback=c,this.pickerElement=b,this.slideElement=a;else{var d=a;d.innerHTML=r,this.slideElement=d.getElementsByClassName("slide")[0],this.pickerElement=d.getElementsByClassName("picker")[0];
var e=d.getElementsByClassName("slide-indicator")[0],f=d.getElementsByClassName("picker-indicator")[0];j.fixIndicators(e,f),this.callback=function(a,c,d,g,h){j.positionIndicators(e,f,h,g),b(a,c,d)}}if("SVG"==o){var g=n.cloneNode(!0),l=m.cloneNode(!0),p=g.getElementById("gradient-hsv"),q=g.getElementsByTagName("rect")[0];p.id="gradient-hsv-"+s,q.setAttribute("fill","url(#"+p.id+")");var t=[l.getElementById("gradient-black"),l.getElementById("gradient-white")],u=l.getElementsByTagName("rect");t[0].id="gradient-black-"+s,t[1].id="gradient-white-"+s,u[0].setAttribute("fill","url(#"+t[1].id+")"),u[1].setAttribute("fill","url(#"+t[0].id+")"),this.slideElement.appendChild(g),this.pickerElement.appendChild(l),s++}else this.slideElement.innerHTML=n,this.pickerElement.innerHTML=m;this.slideElement.addEventListener("click",h(this,this.slideElement,this.pickerElement)),this.pickerElement.addEventListener("click",i(this,this.pickerElement)),k(this.slideElement,h(this,this.slideElement,this.pickerElement)),k(this.pickerElement,i(this,this.pickerElement))}function k(b,c){var d=function(){a.addEventListener("mousemove",e),a.addEventListener("mouseup",f)},e=function(a){c(a)},f=function(){a.removeEventListener("mousemove",e),a.removeEventListener("mouseup",f)};b.addEventListener("mousedown",d)}function l(a,b,c,d){a.h=b.h%360,a.s=b.s,a.v=b.v;var e=f(a),g={y:a.h*a.slideElement.offsetHeight/360,x:0},h=a.pickerElement.offsetHeight,i={x:a.s*a.pickerElement.offsetWidth,y:h-a.v*h};return a.pickerElement.style.backgroundColor=f({h:a.h,s:1,v:1}).hex,a.callback&&a.callback(d||e.hex,{h:a.h,s:a.s,v:a.v},c||{r:e.r,g:e.g,b:e.b},i,g),a}var m,n,o=a.SVGAngle||b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",p=15,q="http://www.w3.org/2000/svg",r=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join("");"SVG"==o?(n=e("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[e("defs",{},e("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[e("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),e("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),e("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),e("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),e("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),e("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),e("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),e("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),e("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),e("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),m=e("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[e("defs",{},[e("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[e("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),e("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),e("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[e("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),e("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),e("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),e("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])):"VML"==o&&(n=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join(""),m=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join(""),b.namespaces.v||b.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));var s=0;j.hsv2rgb=function(a){var b=f(a);return delete b.hex,b},j.hsv2hex=function(a){return f(a).hex},j.rgb2hsv=g,j.rgb2hex=function(a){return f(g(a)).hex},j.hex2hsv=function(a){return g(j.hex2rgb(a))},j.hex2rgb=function(a){return{r:parseInt(a.substr(1,2),16),g:parseInt(a.substr(3,2),16),b:parseInt(a.substr(5,2),16)}},j.prototype.setHsv=function(a){return l(this,a)},j.prototype.setRgb=function(a){return l(this,g(a),a)},j.prototype.setHex=function(a){return l(this,j.hex2hsv(a),c,a)},j.positionIndicators=function(a,b,c,d){c&&(a.style.top=c.y-a.offsetHeight/2+"px"),d&&(b.style.top=d.y-b.offsetHeight/2+"px",b.style.left=d.x-b.offsetWidth/2+"px")},j.fixIndicators=function(a,b){b.style.pointerEvents="none",a.style.pointerEvents="none"},a.ColorPicker=j}(window,window.document),function(){var a=function(b,c){var d=b.nodeType;if(3==d)c.push(b.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"));else if(1==d){if(c.push("<",b.tagName),b.hasAttributes())for(var e=b.attributes,f=0,g=e.length;g>f;++f){var h=e.item(f);c.push(" ",h.name,"='",h.value,"'")}if(b.hasChildNodes()){c.push(">");for(var i=b.childNodes,f=0,g=i.length;g>f;++f)a(i.item(f),c);c.push("</",b.tagName,">")}else c.push("/>")}else{if(8!=d)throw"Error serializing XML. Unhandled node of type: "+d;c.push("<!--",b.nodeValue,"-->")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){for(var b=[],c=this.firstChild;c;)a(c,b),c=c.nextSibling;return b.join("")},set:function(a){for(;this.firstChild;)this.removeChild(this.firstChild);try{var b=new DOMParser;b.async=!1,sXML="<svg xmlns='http://www.w3.org/2000/svg'>"+a+"</svg>";for(var c=b.parseFromString(sXML,"text/xml").documentElement,d=c.firstChild;d;)this.appendChild(this.ownerDocument.importNode(d,!0)),d=d.nextSibling}catch(e){throw new Error("Error parsing XML string")}}}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(a){this.innerHTML=a}})}(),function(a){function b(a,b,c,d,e){this._listener=b,this._isOnce=c,this.context=d,this._signal=a,this._priority=e||0}var c={VERSION:"0.6.1"};b.prototype={active:!0,execute:function(a){var b;return this.active&&(b=this._listener.apply(this.context,a),this._isOnce&&this.detach()),b},detach:function(){return this._signal.remove(this._listener)},getListener:function(){return this._listener},dispose:function(){this.detach(),this._destroy()},_destroy:function(){delete this._signal,delete this._isOnce,delete this._listener,delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce: "+this._isOnce+", active: "+this.active+"]"}},c.Signal=function(){this._bindings=[]},c.Signal.prototype={_shouldPropagate:!0,active:!0,_registerListener:function(a,c,d,e){if("function"!=typeof a)throw new Error("listener is a required param of add() and addOnce() and should be a Function.");var f,g=this._indexOfListener(a);if(-1!==g){if(f=this._bindings[g],f.isOnce()!==c)throw new Error("You cannot add"+(c?"":"Once")+"() then add"+(c?"Once":"")+"() the same listener without removing the relationship first.")}else f=new b(this,a,c,d,e),this._addBinding(f);return f},_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a){for(var b=this._bindings.length;b--;)if(this._bindings[b]._listener===a)return b;return-1},add:function(a,b,c){return this._registerListener(a,!1,b,c)},addOnce:function(a,b,c){return this._registerListener(a,!0,b,c)},remove:function(a){if("function"!=typeof a)throw new Error("listener is a required param of remove() and should be a Function.");var b=this._indexOfListener(a);return-1!==b&&(this._bindings[b]._destroy(),this._bindings.splice(b,1)),a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var a=Array.prototype.slice.call(arguments),b=this._bindings.slice(),c=this._bindings.length;this._shouldPropagate=!0;do c--;while(b[c]&&this._shouldPropagate&&b[c].execute(a)!==!1)}},dispose:function(){this.removeAll(),delete this._bindings},toString:function(){return"[Signal active: "+this.active+" numListeners: "+this.getNumListeners()+"]"}},a.signals=c}(window||global||this),function(){var a=!1,b=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Klass=function(){},Klass.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.constructor=d,d.extend=arguments.callee,d}}(),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(["spin"],b):a.Ladda=b(a.Spinner)}(this,function(a){"use strict";function b(a){if("undefined"==typeof a)return void console.warn("Ladda button target must be defined.");a.querySelector(".ladda-label")||(a.innerHTML='<span class="ladda-label">'+a.innerHTML+"</span>");var b=e(a),c=document.createElement("span");c.className="ladda-spinner",a.appendChild(c);var d,f={start:function(){return a.setAttribute("disabled",""),a.setAttribute("data-loading",""),clearTimeout(d),b.spin(c),this.setProgress(0),this},startAfter:function(a){return clearTimeout(d),d=setTimeout(function(){f.start()},a),this},stop:function(){return a.removeAttribute("disabled"),a.removeAttribute("data-loading"),clearTimeout(d),d=setTimeout(function(){b.stop()},1e3),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(b){b=Math.max(Math.min(b,1),0);var c=a.querySelector(".ladda-progress");0===b&&c&&c.parentNode?c.parentNode.removeChild(c):(c||(c=document.createElement("div"),c.className="ladda-progress",a.appendChild(c)),c.style.width=(b||0)*a.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),a.setAttribute("disabled",""),this},isLoading:function(){return a.hasAttribute("data-loading")}};return g.push(f),f}function c(a,c){c=c||{};var d=[];"string"==typeof a?d=f(document.querySelectorAll(a)):"object"==typeof a&&"string"==typeof a.nodeName&&(d=[a]);for(var e=0,g=d.length;g>e;e++)!function(){var a=d[e];if("function"==typeof a.addEventListener){var f=b(a),g=-1;a.addEventListener("click",function(){f.startAfter(1),"number"==typeof c.timeout&&(clearTimeout(g),g=setTimeout(f.stop,c.timeout)),"function"==typeof c.callback&&c.callback.apply(null,[f])},!1)}}()}function d(){for(var a=0,b=g.length;b>a;a++)g[a].stop()}function e(b){var c,d=b.offsetHeight;d>32&&(d*=.8),b.hasAttribute("data-spinner-size")&&(d=parseInt(b.getAttribute("data-spinner-size"),10)),b.hasAttribute("data-spinner-color")&&(c=b.getAttribute("data-spinner-color"));var e=12,f=.2*d,g=.6*f,h=7>f?2:3;return new a({color:c||"#fff",lines:e,radius:f,length:g,width:h,zIndex:"auto",top:"auto",left:"auto",className:""})}function f(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}var g=[];return{bind:c,create:b,stopAll:d}});var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:function(a){return String.fromCharCode(a)},compressToBase64:function(a){if(null==a)return"";var b,c,d,e,f,g,h,i="",j=0;for(a=this.compress(a);j<2*a.length;)j%2==0?(b=a.charCodeAt(j/2)>>8,c=255&a.charCodeAt(j/2),d=j/2+1<a.length?a.charCodeAt(j/2+1)>>8:0/0):(b=255&a.charCodeAt((j-1)/2),(j+1)/2<a.length?(c=a.charCodeAt((j+1)/2)>>8,d=255&a.charCodeAt((j+1)/2)):c=d=0/0),j+=3,e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decompressFromBase64:function(a){if(null==a)return"";var b,c,d,e,f,g,h,i,j="",k=0,l=0,m=this._f;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<a.length;)f=this._keyStr.indexOf(a.charAt(l++)),g=this._keyStr.indexOf(a.charAt(l++)),h=this._keyStr.indexOf(a.charAt(l++)),i=this._keyStr.indexOf(a.charAt(l++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,k%2==0?(b=c<<8,64!=h&&(j+=m(b|d)),64!=i&&(b=e<<8)):(j+=m(b|c),64!=h&&(b=d<<8),64!=i&&(j+=m(b|e))),k+=3;return this.decompress(j)},compressToUTF16:function(a){if(null==a)return"";var b,c,d,e="",f=0,g=this._f;for(a=this.compress(a),b=0;b<a.length;b++)switch(c=a.charCodeAt(b),f++){case 0:e+=g((c>>1)+32),d=(1&c)<<14;break;case 1:e+=g(d+(c>>2)+32),d=(3&c)<<13;break;case 2:e+=g(d+(c>>3)+32),d=(7&c)<<12;break;case 3:e+=g(d+(c>>4)+32),d=(15&c)<<11;break;case 4:e+=g(d+(c>>5)+32),d=(31&c)<<10;break;case 5:e+=g(d+(c>>6)+32),d=(63&c)<<9;break;case 6:e+=g(d+(c>>7)+32),d=(127&c)<<8;break;case 7:e+=g(d+(c>>8)+32),d=(255&c)<<7;break;case 8:e+=g(d+(c>>9)+32),d=(511&c)<<6;break;case 9:e+=g(d+(c>>10)+32),d=(1023&c)<<5;break;case 10:e+=g(d+(c>>11)+32),d=(2047&c)<<4;break;case 11:e+=g(d+(c>>12)+32),d=(4095&c)<<3;break;case 12:e+=g(d+(c>>13)+32),d=(8191&c)<<2;break;case 13:e+=g(d+(c>>14)+32),d=(16383&c)<<1;break;case 14:e+=g(d+(c>>15)+32,(32767&c)+32),f=0}return e+g(d+32)},decompressFromUTF16:function(a){if(null==a)return"";for(var b,c,d="",e=0,f=0,g=this._f;f<a.length;){switch(c=a.charCodeAt(f)-32,e++){case 0:b=c<<1;break;case 1:d+=g(b|c>>14),b=(16383&c)<<2;break;case 2:d+=g(b|c>>13),b=(8191&c)<<3;break;case 3:d+=g(b|c>>12),b=(4095&c)<<4;break;case 4:d+=g(b|c>>11),b=(2047&c)<<5;break;case 5:d+=g(b|c>>10),b=(1023&c)<<6;break;case 6:d+=g(b|c>>9),b=(511&c)<<7;break;case 7:d+=g(b|c>>8),b=(255&c)<<8;break;case 8:d+=g(b|c>>7),b=(127&c)<<9;break;case 9:d+=g(b|c>>6),b=(63&c)<<10;break;case 10:d+=g(b|c>>5),b=(31&c)<<11;break;case 11:d+=g(b|c>>4),b=(15&c)<<12;break;case 12:d+=g(b|c>>3),b=(7&c)<<13;break;case 13:d+=g(b|c>>2),b=(3&c)<<14;break;case 14:d+=g(b|c>>1),b=(1&c)<<15;break;case 15:d+=g(b|c),e=0}f++}return this.decompress(d)},compress:function(a){if(null==a)return"";var b,c,d,e={},f={},g="",h="",i="",j=2,k=3,l=2,m="",n=0,o=0,p=this._f;for(d=0;d<a.length;d+=1)if(g=a.charAt(d),Object.prototype.hasOwnProperty.call(e,g)||(e[g]=k++,f[g]=!0),h=i+g,Object.prototype.hasOwnProperty.call(e,h))i=h;else{if(Object.prototype.hasOwnProperty.call(f,i)){if(i.charCodeAt(0)<256){for(b=0;l>b;b++)n<<=1,15==o?(o=0,m+=p(n),n=0):o++;for(c=i.charCodeAt(0),b=0;8>b;b++)n=n<<1|1&c,15==o?(o=0,m+=p(n),n=0):o++,c>>=1}else{for(c=1,b=0;l>b;b++)n=n<<1|c,15==o?(o=0,m+=p(n),n=0):o++,c=0;for(c=i.charCodeAt(0),b=0;16>b;b++)n=n<<1|1&c,15==o?(o=0,m+=p(n),n=0):o++,c>>=1}j--,0==j&&(j=Math.pow(2,l),l++),delete f[i]}else for(c=e[i],b=0;l>b;b++)n=n<<1|1&c,15==o?(o=0,m+=p(n),n=0):o++,c>>=1;j--,0==j&&(j=Math.pow(2,l),l++),e[h]=k++,i=String(g)}if(""!==i){if(Object.prototype.hasOwnProperty.call(f,i)){if(i.charCodeAt(0)<256){for(b=0;l>b;b++)n<<=1,15==o?(o=0,m+=p(n),n=0):o++;for(c=i.charCodeAt(0),b=0;8>b;b++)n=n<<1|1&c,15==o?(o=0,m+=p(n),n=0):o++,c>>=1}else{for(c=1,b=0;l>b;b++)n=n<<1|c,15==o?(o=0,m+=p(n),n=0):o++,c=0;for(c=i.charCodeAt(0),b=0;16>b;b++)n=n<<1|1&c,15==o?(o=0,m+=p(n),n=0):o++,c>>=1}j--,0==j&&(j=Math.pow(2,l),l++),delete f[i]}else for(c=e[i],b=0;l>b;b++)n=n<<1|1&c,15==o?(o=0,m+=p(n),n=0):o++,c>>=1;j--,0==j&&(j=Math.pow(2,l),l++)}for(c=2,b=0;l>b;b++)n=n<<1|1&c,15==o?(o=0,m+=p(n),n=0):o++,c>>=1;for(;;){if(n<<=1,15==o){m+=p(n);break}o++}return m},decompress:function(a){if(null==a)return"";var b,c,d,e,f,g,h,i,j=[],k=4,l=4,m=3,n="",o="",p=this._f,q={string:a,val:a.charCodeAt(0),position:32768,index:1};for(c=0;3>c;c+=1)j[c]=c;for(e=0,g=Math.pow(2,2),h=1;h!=g;)f=q.val&q.position,q.position>>=1,0==q.position&&(q.position=32768,q.val=q.string.charCodeAt(q.index++)),e|=(f>0?1:0)*h,h<<=1;switch(b=e){case 0:for(e=0,g=Math.pow(2,8),h=1;h!=g;)f=q.val&q.position,q.position>>=1,0==q.position&&(q.position=32768,q.val=q.string.charCodeAt(q.index++)),e|=(f>0?1:0)*h,h<<=1;i=p(e);break;case 1:for(e=0,g=Math.pow(2,16),h=1;h!=g;)f=q.val&q.position,q.position>>=1,0==q.position&&(q.position=32768,q.val=q.string.charCodeAt(q.index++)),e|=(f>0?1:0)*h,h<<=1;i=p(e);break;case 2:return""}for(j[3]=i,d=o=i;;){for(e=0,g=Math.pow(2,m),h=1;h!=g;)f=q.val&q.position,q.position>>=1,0==q.position&&(q.position=32768,q.val=q.string.charCodeAt(q.index++)),e|=(f>0?1:0)*h,h<<=1;switch(i=e){case 0:for(e=0,g=Math.pow(2,8),h=1;h!=g;)f=q.val&q.position,q.position>>=1,0==q.position&&(q.position=32768,q.val=q.string.charCodeAt(q.index++)),e|=(f>0?1:0)*h,h<<=1;j[l++]=p(e),i=l-1,k--;break;case 1:for(e=0,g=Math.pow(2,16),h=1;h!=g;)f=q.val&q.position,q.position>>=1,0==q.position&&(q.position=32768,q.val=q.string.charCodeAt(q.index++)),e|=(f>0?1:0)*h,h<<=1;j[l++]=p(e),i=l-1,k--;break;case 2:return o}if(0==k&&(k=Math.pow(2,m),m++),j[i])n=j[i];else{if(i!==l)return null;n=d+d.charAt(0)}o+=n,j[l++]=d+n.charAt(0),k--,d=n,0==k&&(k=Math.pow(2,m),m++)}}};!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function handleReadyState(a,b,c){return function(){return a._aborted?c(a.request):void(a.request&&4==a.request[readyState]&&(a.request.onreadystatechange=noop,twoHundo.test(a.request.status)?b(a.request):c(a.request)))}}function setHeaders(a,b){var c,d=b.headers||{};d.Accept=d.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"],b.crossOrigin||d[requestedWith]||(d[requestedWith]=defaultHeaders.requestedWith),d[contentType]||(d[contentType]=b.contentType||defaultHeaders.contentType);for(c in d)d.hasOwnProperty(c)&&"setRequestHeader"in a&&a.setRequestHeader(c,d[c])}function setCredentials(a,b){"undefined"!=typeof b.withCredentials&&"undefined"!=typeof a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return i?"?"===i[3]?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),win[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,"undefined"==typeof j.onreadystatechange||l||(j.event="onclick",j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){return j[readyState]&&"complete"!==j[readyState]&&"loaded"!==j[readyState]||k?!1:(j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=void 0,head.removeChild(j),void(k=1))},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(j),k=1}}}function getRequest(a,b){var c,d=this.o,e=(d.method||"GET").toUpperCase(),f="string"==typeof d?d:d.url,g=d.processData!==!1&&d.data&&"string"!=typeof d.data?reqwest.toQueryString(d.data):d.data||null,h=!1;return"jsonp"!=d.type&&"GET"!=e||!g||(f=urlappend(f,g),g=null),"jsonp"==d.type?handleJsonp(d,a,b,f):(c=xhr(d),c.open(e,f,d.async===!1?!1:!0),setHeaders(c,d),setCredentials(c,d),win[xDomainRequest]&&c instanceof win[xDomainRequest]?(c.onload=a,c.onerror=b,c.onprogress=function(){},h=!0):c.onreadystatechange=handleReadyState(this,a,b),d.before&&d.before(c),h?setTimeout(function(){c.send(g)},200):c.send(g),c)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){var b=a.match(/\.(json|jsonp|html|xml)(\?|$)/);return b?b[1]:"js"}function init(o,fn){function complete(a){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(a)}function success(resp){resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(a,b,c){for(a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(a,b,c);complete(a)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this,type=o.type||setType(this.url);fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c,d,e,f,g=a.name,h=a.tagName.toLowerCase(),i=function(a){a&&!a.disabled&&b(g,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!a.disabled&&g)switch(h){case"input":/reset|button|image|file/i.test(a.type)||(c=/checkbox/i.test(a.type),d=/radio/i.test(a.type),e=a.value,(!(c||d)||a.checked)&&b(g,normalize(c&&""===e?"on":e)));break;case"textarea":b(g,normalize(a.value));break;case"select":if("select-one"===a.type.toLowerCase())i(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(f=0;a.length&&f<a.length;f++)a.options[f].selected&&i(a.options[f])}}function eachFormElement(){var a,b,c=this,d=function(a,b){var d,e,f;for(d=0;d<b.length;d++)for(f=a[byTag](b[d]),e=0;e<f.length;e++)serial(f[e],c)};for(b=0;b<arguments.length;b++)a=arguments[b],/input|select|textarea/i.test(a.tagName)&&serial(a,c),d(a,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+("object"==typeof g?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var win=window,doc=document,twoHundo=/^20\d$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(a.crossOrigin===!0){var b=win[xmlHttpRequest]?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?serializeHash:"array"==a?reqwest.serializeArray:serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest}),function(a,b){function c(a){return function(){return this[a]}}function d(a,b){var c=a.split("."),d=db;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function e(a){return a.call.apply(a.bind,arguments)}function f(a,b){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}}function g(){return g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e:f,g.apply(bb,arguments)}function h(a,b){this.G=a,this.u=b||a,this.z=this.u.document}function i(a,c,d){a=a.z.getElementsByTagName(c)[0],a||(a=b.documentElement),a&&a.lastChild&&a.insertBefore(d,a.lastChild)}function j(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;e>d;d++)if(c[d]==b)return;c.push(b),a.className=c.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function k(a,b){for(var c=a.className.split(/\s+/),d=[],e=0,f=c.length;f>e;e++)c[e]!=b&&d.push(c[e]);a.className=d.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;e>d;d++)if(c[d]==b)return ab;return cb}function m(a){var b=a.u.location.protocol;return"about:"==b&&(b=a.G.location.protocol),"https:"==b?"https:":"http:"}function n(a,b){var c=a.createElement("link",{rel:"stylesheet",href:b}),d=cb;c.onload=function(){d||(d=ab)},c.onerror=function(){d||(d=ab)},i(a,"head",c)}function o(b,c,d,e){var f=b.z.getElementsByTagName("head")[0];if(f){var g=b.createElement("script",{src:c}),h=cb;return g.onload=g.onreadystatechange=function(){h||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(h=ab,d&&d(bb),g.onload=g.onreadystatechange=bb,"HEAD"==g.parentNode.tagName&&f.removeChild(g))},f.appendChild(g),a.setTimeout(function(){h||(h=ab,d&&d(Error("Script load timeout")))},e||5e3),g}return bb}function p(a,b,c){this.w=a,this.S=b,this.za=c}function q(a,b,c,d){this.e=a!=bb?a:bb,this.o=b!=bb?b:bb,this.aa=c!=bb?c:bb,this.f=d!=bb?d:bb}function r(a){a=fb.exec(a);var b=bb,c=bb,d=bb,e=bb;return a&&(a[1]!==bb&&a[1]&&(b=parseInt(a[1],10)),a[2]!==bb&&a[2]&&(c=parseInt(a[2],10)),a[3]!==bb&&a[3]&&(d=parseInt(a[3],10)),a[4]!==bb&&a[4]&&(e=/^[0-9]+$/.test(a[4])?parseInt(a[4],10):a[4])),new q(b,c,d,e)}function s(a,b,c,d,e,f,g,h,i,j,k){this.J=a,this.Fa=b,this.ya=c,this.fa=d,this.Da=e,this.ea=f,this.wa=g,this.Ea=h,this.va=i,this.da=j,this.k=k}function t(a,b){this.a=a,this.H=b}function u(a){var b=x(a.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=b?(/BB\d{2}/.test(b)&&(b="BlackBerry"),b):(a=x(a.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS)/,1),""!=a?("Mac_PowerPC"==a&&(a="Macintosh"),a):"Unknown")}function v(a){var b=x(a.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(b||(b=x(a.a,/Windows Phone( OS)? ([^;)]+)/,2))||(b=x(a.a,/(iPhone )?OS ([\d_]+)/,2)))return b;if(b=x(a.a,/(?:Linux|CrOS) ([^;)]+)/,1))for(var b=b.split(/\s/),c=0;c<b.length;c+=1)if(/^[\d\._]+$/.test(b[c]))return b[c];return(a=x(a.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?a:"Unknown"}function w(a){var b=u(a),c=v(a),d=r(c),e=x(a.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1),f=r(e),g="Unknown",h=new q,i="Unknown",j=cb;return/OPR\/[\d.]+/.test(a.a)?g="Opera":-1!=a.a.indexOf("Chrome")||-1!=a.a.indexOf("CrMo")||-1!=a.a.indexOf("CriOS")?g="Chrome":/Silk\/\d/.test(a.a)?g="Silk":"BlackBerry"==b||"Android"==b?g="BuiltinBrowser":-1!=a.a.indexOf("PhantomJS")?g="PhantomJS":-1!=a.a.indexOf("Safari")?g="Safari":-1!=a.a.indexOf("AdobeAIR")&&(g="AdobeAIR"),"BuiltinBrowser"==g?i="Unknown":"Silk"==g?i=x(a.a,/Silk\/([\d\._]+)/,1):"Chrome"==g?i=x(a.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=a.a.indexOf("Version/")?i=x(a.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==g?i=x(a.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==g?i=x(a.a,/OPR\/([\d.]+)/,1):"PhantomJS"==g&&(i=x(a.a,/PhantomJS\/([\d.]+)/,1)),h=r(i),j="AdobeAIR"==g?2<h.e||2==h.e&&5<=h.o:"BlackBerry"==b?10<=d.e:"Android"==b?2<d.e||2==d.e&&1<d.o:526<=f.e||525<=f.e&&13<=f.o,new s(g,h,i,"AppleWebKit",f,e,b,d,c,y(a.H),new p(j,536>f.e||536==f.e&&11>f.o,"iPhone"==b||"iPad"==b||"iPod"==b||"Macintosh"==b))}function x(a,b,c){return(a=a.match(b))&&a[c]?a[c]:""}function y(a){return a.documentMode?a.documentMode:void 0}function z(a){this.ua=a||"-"}function A(a,b){this.J=a,this.T=4,this.K="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.K=c[1],this.T=parseInt(c[2],10))}function B(a){return a.K+a.T}function C(a){var b=4,c="n",d=bb;return a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10)))),c+b}function D(a,b,c){this.c=a,this.h=b,this.M=c,this.j="wf",this.g=new z("-")}function E(a){j(a.h,a.g.f(a.j,"loading")),G(a,"loading")}function F(a){k(a.h,a.g.f(a.j,"loading")),l(a.h,a.g.f(a.j,"active"))||j(a.h,a.g.f(a.j,"inactive")),G(a,"inactive")}function G(a,b,c){a.M[b]&&(c?a.M[b](c.getName(),B(c)):a.M[b]())}function H(a,b){this.c=a,this.C=b,this.s=this.c.createElement("span",{"aria-hidden":"true"},this.C)}function I(a,b){var c;c=[];for(var d=b.J.split(/,\s*/),e=0;e<d.length;e++){var f=d[e].replace(/['"]/g,"");c.push(-1==f.indexOf(" ")?f:"'"+f+"'")}c=c.join(","),d="normal",e=b.T+"00","o"===b.K?d="oblique":"i"===b.K&&(d="italic"),a.s.style.cssText="position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+c+";"+("font-style:"+d+";font-weight:"+e+";")
}function J(a){i(a.c,"body",a.s)}function K(a,b,c,d,e,f,g,h){this.U=a,this.sa=b,this.c=c,this.q=d,this.C=h||"BESbswy",this.k=e,this.F={},this.R=f||5e3,this.Y=g||bb,this.B=this.A=bb,a=new H(this.c,this.C),J(a);for(var i in hb)hb.hasOwnProperty(i)&&(I(a,new A(hb[i],B(this.q))),this.F[hb[i]]=a.s.offsetWidth);a.remove()}function L(a,b,c){for(var d in hb)if(hb.hasOwnProperty(d)&&b===a.F[hb[d]]&&c===a.F[hb[d]])return ab;return cb}function M(a){var b=a.A.s.offsetWidth,c=a.B.s.offsetWidth;b===a.F.serif&&c===a.F["sans-serif"]||a.k.S&&L(a,b,c)?eb()-a.xa>=a.R?a.k.S&&L(a,b,c)&&(a.Y===bb||a.Y.hasOwnProperty(a.q.getName()))?N(a,a.U):N(a,a.sa):setTimeout(g(function(){M(this)},a),25):N(a,a.U)}function N(a,b){a.A.remove(),a.B.remove(),b(a.q)}function O(a,b,c,d){this.c=b,this.t=c,this.N=0,this.ba=this.X=cb,this.R=d,this.k=a.k}function P(a,b,c,d,e){if(0===b.length&&e)F(a.t);else for(a.N+=b.length,e&&(a.X=e),e=0;e<b.length;e++){var f=b[e],h=c[f.getName()],i=a.t,k=f;j(i.h,i.g.f(i.j,k.getName(),B(k).toString(),"loading")),G(i,"fontloading",k),new K(g(a.ga,a),g(a.ha,a),a.c,f,a.k,a.R,d,h).start()}}function Q(a){0==--a.N&&a.X&&(a.ba?(a=a.t,k(a.h,a.g.f(a.j,"loading")),k(a.h,a.g.f(a.j,"inactive")),j(a.h,a.g.f(a.j,"active")),G(a,"active")):F(a.t))}function R(a,b,c){this.G=a,this.V=b,this.a=c,this.O=this.P=0}function S(a,b){kb.V.Z[a]=b}function T(a,b){this.c=a,this.d=b}function U(a,b){this.c=a,this.d=b,this.m=[]}function V(a,b,c){this.L=a?a:b+lb,this.p=[],this.Q=[],this.ca=c||""}function W(a){this.p=a,this.$=[],this.I={}}function X(a,b,c){this.a=a,this.c=b,this.d=c}function Y(a,b){this.c=a,this.d=b}function Z(a){var b=a.split(":");if(a=b[0],b[1]){for(var c=b[1].split(","),b=[],d=0,e=c.length;e>d;d++){var f=c[d];if(f){var g=rb[f];b.push(g?g:f)}}for(c=[],d=0;d<b.length;d+=1)c.push(new A(a,b[d]));return c}return[new A(a)]}function $(a,b,c){this.a=a,this.c=b,this.d=c,this.m=[]}function _(a,b){this.c=a,this.d=b,this.m=[]}var ab=!0,bb=null,cb=!1,db=this,eb=Date.now||function(){return+new Date};h.prototype.createElement=function(a,b,c){if(a=this.z.createElement(a),b)for(var d in b)b.hasOwnProperty(d)&&("style"==d?a.style.cssText=b[d]:a.setAttribute(d,b[d]));return c&&a.appendChild(this.z.createTextNode(c)),a},d("webfont.BrowserInfo",p),p.prototype.pa=c("w"),p.prototype.hasWebFontSupport=p.prototype.pa,p.prototype.qa=c("S"),p.prototype.hasWebKitFallbackBug=p.prototype.qa,p.prototype.ra=c("za"),p.prototype.hasWebKitMetricsBug=p.prototype.ra;var fb=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;q.prototype.toString=function(){return[this.e,this.o||"",this.aa||"",this.f||""].join("")},d("webfont.UserAgent",s),s.prototype.getName=c("J"),s.prototype.getName=s.prototype.getName,s.prototype.oa=c("ya"),s.prototype.getVersion=s.prototype.oa,s.prototype.ka=c("fa"),s.prototype.getEngine=s.prototype.ka,s.prototype.la=c("ea"),s.prototype.getEngineVersion=s.prototype.la,s.prototype.ma=c("wa"),s.prototype.getPlatform=s.prototype.ma,s.prototype.na=c("va"),s.prototype.getPlatformVersion=s.prototype.na,s.prototype.ja=c("da"),s.prototype.getDocumentMode=s.prototype.ja,s.prototype.ia=c("k"),s.prototype.getBrowserInfo=s.prototype.ia;var gb=new s("Unknown",new q,"Unknown","Unknown",new q,"Unknown","Unknown",new q,"Unknown",void 0,new p(cb,cb,cb));t.prototype.parse=function(){var a;if(-1!=this.a.indexOf("MSIE")){a=u(this);var b=v(this),c=r(b),d=x(this.a,/MSIE ([\d\w\.]+)/,1),e=r(d);a=new s("MSIE",e,d,"MSIE",e,d,a,c,b,y(this.H),new p("Windows"==a&&6<=e.e||"Windows Phone"==a&&8<=c.e,cb,cb))}else if(-1!=this.a.indexOf("Opera"))a:{a="Unknown";var b=x(this.a,/Presto\/([\d\w\.]+)/,1),c=r(b),d=v(this),e=r(d),f=y(this.H);if(c.e!==bb?a="Presto":(-1!=this.a.indexOf("Gecko")&&(a="Gecko"),b=x(this.a,/rv:([^\)]+)/,1),c=r(b)),-1!=this.a.indexOf("Opera Mini/")){var g=x(this.a,/Opera Mini\/([\d\.]+)/,1),h=r(g);a=new s("OperaMini",h,g,a,c,b,u(this),e,d,f,new p(cb,cb,cb))}else{if(-1!=this.a.indexOf("Version/")&&(g=x(this.a,/Version\/([\d\.]+)/,1),h=r(g),h.e!==bb)){a=new s("Opera",h,g,a,c,b,u(this),e,d,f,new p(10<=h.e,cb,cb));break a}g=x(this.a,/Opera[\/ ]([\d\.]+)/,1),h=r(g),a=h.e!==bb?new s("Opera",h,g,a,c,b,u(this),e,d,f,new p(10<=h.e,cb,cb)):new s("Opera",new q,"Unknown",a,c,b,u(this),e,d,f,new p(cb,cb,cb))}}else/OPR\/[\d.]+/.test(this.a)?a=w(this):/AppleWeb(K|k)it/.test(this.a)?a=w(this):-1!=this.a.indexOf("Gecko")?(a="Unknown",b=new q,c="Unknown",d=v(this),e=r(d),f=cb,-1!=this.a.indexOf("Firefox")?(a="Firefox",c=x(this.a,/Firefox\/([\d\w\.]+)/,1),b=r(c),f=3<=b.e&&5<=b.o):-1!=this.a.indexOf("Mozilla")&&(a="Mozilla"),g=x(this.a,/rv:([^\)]+)/,1),h=r(g),f||(f=1<h.e||1==h.e&&9<h.o||1==h.e&&9==h.o&&2<=h.aa||g.match(/1\.9\.1b[123]/)!=bb||g.match(/1\.9\.1\.[\d\.]+/)!=bb),a=new s(a,b,c,"Gecko",h,g,u(this),e,d,y(this.H),new p(f,cb,cb))):a=gb;return a},z.prototype.f=function(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b].replace(/[\W_]+/g,"").toLowerCase());return a.join(this.ua)},A.prototype.getName=c("J"),H.prototype.remove=function(){var a=this.s;a.parentNode&&a.parentNode.removeChild(a)};var hb={Ca:"serif",Ba:"sans-serif",Aa:"monospace"};K.prototype.start=function(){this.A=new H(this.c,this.C),J(this.A),this.B=new H(this.c,this.C),J(this.B),this.xa=eb(),I(this.A,new A(this.q.getName()+",serif",B(this.q))),I(this.B,new A(this.q.getName()+",sans-serif",B(this.q))),M(this)},O.prototype.ga=function(a){var b=this.t;k(b.h,b.g.f(b.j,a.getName(),B(a).toString(),"loading")),k(b.h,b.g.f(b.j,a.getName(),B(a).toString(),"inactive")),j(b.h,b.g.f(b.j,a.getName(),B(a).toString(),"active")),G(b,"fontactive",a),this.ba=ab,Q(this)},O.prototype.ha=function(a){var b=this.t;k(b.h,b.g.f(b.j,a.getName(),B(a).toString(),"loading")),l(b.h,b.g.f(b.j,a.getName(),B(a).toString(),"active"))||j(b.h,b.g.f(b.j,a.getName(),B(a).toString(),"inactive")),G(b,"fontinactive",a),Q(this)},R.prototype.load=function(a){var b=a.context||this.G;if(this.c=new h(this.G,b),b=new D(this.c,b.document.documentElement,a),this.a.k.w){var c,d=this.V,e=this.c,f=[];for(c in a)if(a.hasOwnProperty(c)){var i=d.Z[c];i&&f.push(i(a[c],e))}for(a=a.timeout,this.O=this.P=f.length,a=new O(this.a,this.c,b,a),c=0,d=f.length;d>c;c++)e=f[c],e.v(this.a,g(this.ta,this,e,b,a))}else F(b)},R.prototype.ta=function(a,b,c,d){var e=this;d?a.load(function(a,d,f){var g=0==--e.P;g&&E(b),setTimeout(function(){P(c,a,d||{},f||bb,g)},0)}):(a=0==--this.P,this.O--,a&&(0==this.O?F(b):E(b)),P(c,[],{},bb,a))};var ib=a,jb=new t(navigator.userAgent,b).parse(),kb=ib.WebFont=new R(a,new function(){this.Z={}},jb);kb.load=kb.load,T.prototype.load=function(a){var b,c,d=this.d.urls||[],e=this.d.families||[];for(b=0,c=d.length;c>b;b++)n(this.c,d[b]);for(d=[],b=0,c=e.length;c>b;b++){var f=e[b].split(":");if(f[1])for(var g=f[1].split(","),h=0;h<g.length;h+=1)d.push(new A(f[0],g[h]));else d.push(new A(f[0]))}a(d)},T.prototype.v=function(a,b){return b(a.k.w)},S("custom",function(a,b){return new T(b,a)}),U.prototype.D=function(a){return m(this.c)+(this.d.api||"//f.fontdeck.com/s/css/js/")+(this.c.u.location.hostname||this.c.G.location.hostname)+"/"+a+".js"},U.prototype.v=function(a,b){var c=this.d.id,d=this.c.u,e=this;c?(d.__webfontfontdeckmodule__||(d.__webfontfontdeckmodule__={}),d.__webfontfontdeckmodule__[c]=function(a,c){for(var d=0,f=c.fonts.length;f>d;++d){var g=c.fonts[d];e.m.push(new A(g.name,C("font-weight:"+g.weight+";font-style:"+g.style)))}b(a)},o(this.c,this.D(c),function(a){a&&b(cb)})):b(cb)},U.prototype.load=function(a){a(this.m)},S("fontdeck",function(a,b){return new U(b,a)});var lb="//fonts.googleapis.com/css";V.prototype.f=function(){if(0==this.p.length)throw Error("No fonts to load !");if(-1!=this.L.indexOf("kit="))return this.L;for(var a=this.p.length,b=[],c=0;a>c;c++)b.push(this.p[c].replace(/ /g,"+"));return a=this.L+"?family="+b.join("%7C"),0<this.Q.length&&(a+="&subset="+this.Q.join(",")),0<this.ca.length&&(a+="&text="+encodeURIComponent(this.ca)),a};var mb={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},nb={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ob={i:"i",italic:"i",n:"n",normal:"n"},pb=RegExp("^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$");W.prototype.parse=function(){for(var a=this.p.length,b=0;a>b;b++){var c=this.p[b].split(":"),d=c[0].replace(/\+/g," "),e=["n4"];if(2<=c.length){var f,g=c[1];if(f=[],g)for(var g=g.split(","),h=g.length,i=0;h>i;i++){var j;if(j=g[i],j.match(/^[\w]+$/)){j=pb.exec(j.toLowerCase());var k=void 0;if(j==bb)k="";else{if(k=void 0,k=j[1],k==bb||""==k)k="4";else var l=nb[k],k=l?l:isNaN(k)?"4":k.substr(0,1);k=[j[2]==bb||""==j[2]?"n":ob[j[2]],k].join("")}j=k}else j="";j&&f.push(j)}0<f.length&&(e=f),3==c.length&&(c=c[2],f=[],c=c?c.split(","):f,0<c.length&&(c=mb[c[0]])&&(this.I[d]=c))}for(this.I[d]||(c=mb[d])&&(this.I[d]=c),c=0;c<e.length;c+=1)this.$.push(new A(d,e[c]))}};var qb={Arimo:ab,Cousine:ab,Tinos:ab};X.prototype.v=function(a,b){b(a.k.w)},X.prototype.load=function(a){var b=this.c;if("MSIE"==this.a.getName()&&this.d.blocking!=ab){var c=g(this.W,this,a),d=function(){b.z.body?c():setTimeout(d,0)};d()}else this.W(a)},X.prototype.W=function(a){for(var b=this.c,c=new V(this.d.api,m(b),this.d.text),d=this.d.families,e=d.length,f=0;e>f;f++){var g=d[f].split(":");3==g.length&&c.Q.push(g.pop());var h="";2==g.length&&""!=g[1]&&(h=":"),c.p.push(g.join(h))}d=new W(d),d.parse(),n(b,c.f()),a(d.$,d.I,qb)},S("google",function(a,c){var d=new t(navigator.userAgent,b).parse();return new X(d,c,a)});var rb={regular:"n4",bold:"n7",italic:"i4",bolditalic:"i7",r:"n4",b:"n7",i:"i4",bi:"i7"};Y.prototype.v=function(a,b){return b(a.k.w)},Y.prototype.load=function(a){n(this.c,m(this.c)+"//webfonts.fontslive.com/css/"+this.d.key+".css");for(var b=this.d.families,c=[],d=0,e=b.length;e>d;d++)c.push.apply(c,Z(b[d]));a(c)},S("ascender",function(a,b){return new Y(b,a)}),$.prototype.v=function(a,b){var c=this,d=c.d.projectId,e=c.d.version;if(d){var f=c.c.u;o(this.c,c.D(d,e),function(e){if(e)b(cb);else{if(f["__mti_fntLst"+d]&&(e=f["__mti_fntLst"+d]()))for(var g=0;g<e.length;g++)c.m.push(new A(e[g].fontfamily));b(a.k.w)}}).id="__MonotypeAPIScript__"+d}else b(cb)},$.prototype.D=function(a,b){var c=m(this.c),d=(this.d.api||"fast.fonts.com/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return c+"//"+d+"/"+a+".js"+(b?"?v="+b:"")},$.prototype.load=function(a){a(this.m)},S("monotype",function(a,c){var d=new t(navigator.userAgent,b).parse();return new $(d,c,a)}),_.prototype.D=function(a){var b=m(this.c);return(this.d.api||b+"//use.typekit.net")+"/"+a+".js"},_.prototype.v=function(a,b){var c=this.d.id,d=this.d,e=this.c.u,f=this;c?(e.__webfonttypekitmodule__||(e.__webfonttypekitmodule__={}),e.__webfonttypekitmodule__[c]=function(c){c(a,d,function(a,c,d){for(var e=0;e<c.length;e+=1){var g=d[c[e]];if(g)for(var h=0;h<g.length;h+=1)f.m.push(new A(c[e],g[h]));else f.m.push(new A(c[e]))}b(a)})},o(this.c,this.D(c),function(a){a&&b(cb)},2e3)):b(cb)},_.prototype.load=function(a){a(this.m)},S("typekit",function(a,b){return new _(b,a)}),a.WebFontConfig&&kb.load(a.WebFontConfig)}(this,document),window.LM=function(){function a(){if(K=document.getElementById("logomark"),b()){if(K.classList.add("loading"),LM.util.symbols.postProcess(LM.config.SYMBOLS),LM.util.ua.isFirefox()&&(K.setAttribute("data-ua","firefox"),LM.config.BORDERS_ENABLED=!1),window.location.hash.length>10)c(),LM.Session.load(function(a){e(a,function(){K.classList.remove("loading"),Y=!0,LM.sync(),LM.layout(),LM.History.reset(),setTimeout(s,1)})});else{W.splash=new LM.views.Splash,W.splash.appendTo(K),W.splash.completed.add(function(a){Y=!0,c(a)}),K.classList.remove("loading");var a=LM.config.getDefaultFont();"google"===a.source&&LM.util.font.load({families:[a.value]})}k()}}function b(){if(new RegExp("skip-test").test(window.location.search))return!0;var a=LM.util.ua.isIE(),b=LM.util.ua.isMobile(),c=LM.util.ua.isTablet(),d=LM.util.ua.supportsClassList(),e=LM.util.ua.supports2DTransforms();return a||b||c||!d||!e?(K.setAttribute("class","logomark"),K.innerHTML=['<div class="not-supported">',"<h2>Not Supported</h2>","<p>","Squarespace Logo relies on bleeding edge browser features and makes heavy use of SVG, ","unfortunately those features don't play nice in the browser you're using. ","Please consider trying this in a different browser, like the desktop versions ",'of <a href="https://www.google.com/chrome">Google Chrome</a> or ','<a href="https://www.mozilla.org/firefox/">Firefox</a>.',"</p>",'<div class="cta">','Need a website? <a class="cta-button" href="http://www.squarespace.com/templates">Try Squarespace</a>',"</div>","</div>"].join(""),!1):!0}function c(a){L=document.createElement("div"),L.className="editor",K.appendChild(L),N=document.createElement("div"),N.className="canvas-wrapper",L.appendChild(N),O=document.createElement("div"),O.className="canvas-wrapper-inner",N.appendChild(O),P=document.createElement("div"),P.className="attribution",Q=document.createElement("div"),Q.className="fullscreen-toggle",N.appendChild(Q),R=document.createElement("div"),R.className="randomizr",R.innerHTML="&infin;",K.appendChild(R),g(),h(),i(),j(),l(),m(),LM.setTitleValue(a),LM.setSubtitleValue(""),LM.EntityLayout.setLayout("symbol-top"),o(),p(),s()}function d(){window.location=D()}function e(a,b){W.settings.setTitleValue(a.title.value||""),W.settings.setSubtitleValue(a.subtitle.value||""),X.symbol.fromJSON(a.symbol),X.subtitle.fromJSON(a.subtitle),X.title.fromJSON(a.title),LM.Options.fromJSON(a.settings),LM.sync();var c=LM.config.getFontDataByValue(a.title.fontFamily),d=LM.config.getFontDataByValue(a.subtitle.fontFamily),e=[];"google"===c.source&&e.push(c.value),"google"===d.source&&e.push(d.value);var g=function(){"social"===a.source?(t(!0),S=new LM.components.Promoter,S.appendTo(N)):"purchase"===a.source&&(A(!0),W.download.show()),f(b)};e.length?LM.util.font.load({families:e},g.bind(this)):g()}function f(a){var b=r(),c=[],d=LM.config.getFontDataByValue(b.title.fontFamily),e=LM.config.getFontDataByValue(b.subtitle.fontFamily);d&&d.source&&c.push(d.value),e&&e.source&&c.push(e.value),c.length?LM.util.font.load({families:c},a):a&&a()}function g(){M=LM.util.svg.createDocument({width:"100%",height:"100%","class":"canvas"}),M.appendTo(O),LM.util.svg.create("defs").appendTo(M)}function h(){X.symbol=new LM.entity.Symbol,X.subtitle=new LM.entity.Text("subtitle"),X.title=new LM.entity.Text("title")}function i(){LM.DragDrop.init(),LM.Focus.init(X),LM.Guides.init(X),LM.History.init()}function j(){W.settings=new LM.views.Settings,W.settings.appendTo(K),W.canvasSettings=new LM.views.SettingsCanvas,W.canvasSettings.appendTo(N),W.preview=new LM.views.Preview,W.preview.appendTo(K),W.save=new LM.views.Save,W.save.appendTo(K),W.download=new LM.views.Download,W.download.appendTo(K),W.help=new LM.views.Help,W.help.appendTo(K)}function k(){clearInterval(V),V=setInterval(function(){window.Y&&window.Y.Squarespace&&window.Y.Squarespace.EscManager&&"function"==typeof window.Y.Squarespace.EscManager.disable&&(window.Y.Squarespace.EscManager.disable(),clearInterval(V))},500)}function l(){window.addEventListener("resize",m.bind(this),!1),window.addEventListener("beforeunload",J.bind(this),!1),document.addEventListener("keydown",G.bind(this),!1),document.addEventListener("mouseover",H.bind(this),!1),document.addEventListener("mouseout",I.bind(this),!1),M.addEventListener("mousedown",F.bind(this),!1),Q.addEventListener("click",v.bind(this),!1),R.addEventListener("click",q.bind(this),!1),LM.Options.on("grid_size",p),LM.Options.on("grid_snap",p),LM.Options.on("grid_style",p)}function m(a){if(Y){W.settings.layout(),W.save.layout(),X.title&&X.title.layout(),X.subtitle&&X.subtitle.layout(),X.symbol&&X.symbol.layout();var b=LM.Export.getLogoBounds(0),c=O.offsetWidth,d=O.offsetHeight,e=(c-b.width)/2,f=(d-b.height)/2,g=e-b.x,h=f-b.y;(a||Math.abs(g)>20||Math.abs(h)>20)&&(LM.getEntity("title").memorize(),LM.getEntity("title").offset(g,h,{snap:!1}),LM.getEntity("subtitle").memorize(),LM.getEntity("subtitle").offset(g,h,{snap:!1}),LM.getEntity("symbol").memorize(),LM.getEntity("symbol").offset(g,h,{snap:!1}))}}function n(a,b){clearInterval(T),clearTimeout(U),"number"==typeof a&&"number"==typeof b&&(T=setInterval(m.bind(this,!0),a),U=setTimeout(function(){clearInterval(T)},b))}function o(){Y&&LM.History.push({delay:1}),W.preview&&W.preview.sync()}function p(){var a=LM.Options.get("grid_style"),b=(LM.Options.get("grid_snap"),LM.Options.get("grid_size"));K.setAttribute("data-style",a);var c=document.createElement("canvas");c.width=b,c.height=b;var d="#fff",e="#999";"dark"===a?(d="#111",e="#ccc"):"grey"===a&&(d="#aaa",e="#fff");var f=c.getContext("2d");f.fillStyle=d,f.fillRect(0,0,b,b),!(b>5)||w()&&Z||(f.fillStyle=e,f.fillRect(Math.round(b/2),Math.round(b/2),1,1)),N.style.backgroundImage="url("+c.toDataURL("image/png")+")"}function q(){var a=LM.config.getRandomSymbol(),b=LM.config.getRandomSymbolColor(),c=.7+Math.random(),d="#000000",e=.5+Math.random(),f=LM.config.getRandomFont(),g=LM.config.getRandomLayout();X.symbol.setValue(a),X.symbol.setFillColor(b),X.symbol.setBorderColor(b),X.symbol.transform[0]=c,X.symbol.transform[1]=c,X.title.setColor(d),X.title.transform[0]=e,X.title.transform[1]=e,X.title.setFontFamily(f.value),X.subtitle.setColor(d),LM.EntityLayout.setLayout(g),LM.util.font.loadAll(),LM.getEntity("symbol").show(),LM.getEntity("subtitle").show(),LM.getEntity("title").show()}function r(){return{settings:LM.Options.toJSON(),symbol:X.symbol.toJSON(),subtitle:X.subtitle.toJSON(),title:X.title.toJSON()}}function s(){$=JSON.stringify(r())}function t(a){a&&(K.classList.add("no-transition"),setTimeout(function(){K.classList.remove("no-transition")},1)),K.classList.add("editor-expanded"),n(1e3/60,1e3),LM.util.io.trackEngagement("toggle_fullscreen",{value:!0})}function u(){w()&&(K.classList.remove("editor-expanded"),p(),n(1e3/60,1e3),S&&(S.destroy(),S=null),LM.util.io.trackEngagement("toggle_fullscreen",{value:!1}))}function v(){w()?u():t()}function w(){return K.classList.contains("editor-expanded")}function x(a,b){X.title.setValue(a),b||W.settings.setTitleValue(a)}function y(a,b){X.subtitle.setValue(a),b||W.settings.setSubtitleValue(a)}function z(a){if(a&&"string"==typeof a.name){var b=["Icon by "];b.push(a.permalink?'<a href="http://thenounproject.com'+a.permalink+'" target="_blank">'+a.name+"</a>":a.name),b.push(' from <a href="http://thenounproject.com" target="_blank">The Noun Project</a>'),P.innerHTML=b.join(""),N.appendChild(P)}else P.parentNode&&N.removeChild(P)}function A(a){K.setAttribute("data-purchased",a)}function B(a){this.isPurchased()?confirm(LM.locale.CONFIRM_INVALIDATE_PURCHASED_LOGO)&&(A(!1),a&&a.call()):a&&a.call()}function C(){return"true"===K.getAttribute("data-purchased")}function D(){return window.location.protocol+"//"+window.location.host+window.location.pathname}function E(a){return LM.getAppURL()+"#"+LM.Session.serialize(LM.toJSON(),a)}function F(a){a.target===M&&LM.Focus.clear()}function G(a){var b=!!document.querySelector("input:focus, textarea:focus");(a.metaKey||a.ctrlKey)&&83===a.keyCode?(W.save.show(),a.preventDefault()):(a.metaKey||a.ctrlKey)&&70===a.keyCode?(w()&&u(),W.settings.showSearchOverlay(),a.preventDefault()):b||!a.metaKey&&!a.ctrlKey||190!==a.keyCode?b||70!==a.keyCode?b||72!==a.keyCode?!b&&8===a.keyCode&&LM.Focus.size()>0?(LM.Focus.get().forEach(function(a){a.remove()}),a.preventDefault()):27===a.keyCode&&(W.save.isVisible()&&W.save.hide(),W.download.isVisible()?W.download.hide():W.help.isVisible()?W.help.hide():b&&document.activeElement?document.activeElement.blur():LM.Focus.get().length?LM.Focus.clear():w()&&u(),a.preventDefault()):(W.help.toggle(),a.preventDefault()):(v(),a.preventDefault()):(q(),a.preventDefault())}function H(){Z&&(Z=!1,K.classList.remove("mouse-is-outside"),p())}function I(a){Z||a.toElement||a.relatedTarget||(Z=!0,K.classList.add("mouse-is-outside"),p())}function J(){return Y&&$!==JSON.stringify(r())?"You'll lose your unsaved changes.":void 0}var K,L,M,N,O,P,Q,R,S,T,U,V,W={},X={},Y=!1,Z=!1,$=null;return{initialize:a,reset:d,sync:o,layout:m,randomize:q,getElement:function(){return K},getEditorElement:function(){return L},getCanvasElement:function(){return M},getCanvasWrapperElement:function(){return N},getView:function(a){return W[a]},getEntity:function(a){return X[a]},getAppURL:D,getLogoURL:E,setSubtitleValue:y,setTitleValue:x,setAttribution:z,isPurchased:C,setPurchased:A,discardPurchase:B,pushLastSavedJSON:s,expandEditor:t,collapseEditor:u,toJSON:r,fromJSON:e}}(),window.LM.namespace=function(a){a=a.split(".");for(var b=LM;a.length;){var c=a.shift();b[c]||(b[c]={}),b=b[c]}return b},LM.config={SERVER_SEARCH:window.location.protocol+"//"+window.location.host+"/api/logomark/SearchNounProject",SERVER_SAVE_LOGO:"https://"+window.location.host+"/api/logomark/save",SERVER_PURCHASE_LOGO:"https://"+window.location.host+"/api/logomark/purchase",SERVER_AUTHENTICATED_PURCHASE_LOGO:"https://"+window.location.host+"/api/logomark/authenticated-purchase",BITMAP_OUTPUT_SD_SIZE:400,BITMAP_OUTPUT_HD_SIZE:2e3,BITMAP_OUTPUT_HD_SIZE_OPTIONS:[500,1e3,2e3,3e3,4e3,5e3],CANVAS_SNAP_SIZE:20,SYMBOL_SIZE:100,SYMBOL_THUMB_SIZE:55,SYMBOL_THUMB_PADDING:25,DEFAULT_FONT:"Montserrat",DEFAULT_FONT_COLOR:"#000000",DEFAULT_FONT_WEIGHT:"regular",DEFAULT_FONT_STYLE:"regular",DEFAULT_LETTER_SPACING:0,DEFAULT_SYMBOL:Math.floor(8*Math.random()),DEFAULT_COLOR:"#000000",DEFAULT_SYMBOL_COLOR:"#000000",DEFAULT_BORDER_COLOR:"#000000",DEFAULT_BORDER_WIDTH:0,DEFAULT_BORDER_RADIUS:0,BORDERS_ENABLED:!0,MIN_BORDER_WIDTH:0,MAX_BORDER_WIDTH:45,MIN_BORDER_RADIUS:0,MAX_BORDER_RADIUS:50,SYMBOLS:[{id:"sqsp-circle",type:"primitive",svg:'<circle id="primitive-symbol" fill="#000000" cx="50" cy="50" r="50"/>'},{id:"sqsp-rect",type:"primitive",svg:'<rect id="primitive-symbol" fill="#000000" width="100" height="100"/>'},{id:"sqsp-triangle-up",type:"primitive",svg:'<path id="primitive-symbol" fill="#000000" d="M50 0 L0 80 L100 80 Z"/>'},{id:"sqsp-triangle-down",type:"primitive",svg:'<path id="primitive-symbol" fill="#000000" d="M0 0 L100 0 L50 80 Z"/>'},{id:"sqsp-triangle-right",type:"primitive",svg:'<path id="primitive-symbol" fill="#000000" d="M80 50 L0 0 L0 100 Z"/>'},{id:"sqsp-triangle-left",type:"primitive",svg:'<path id="primitive-symbol" fill="#000000" d="M0 50 L80 0 L80 100 Z"/>'},{id:"sqsp-hexagon",type:"primitive",svg:'<path id="primitive-symbol" fill="#000000" d="M42,0 L84,25 84,75, 42,100 0,75 0,25 z"/>'},{id:"sqsp-star",type:"primitive",svg:'<path id="primitive-symbol" fill="#000000" d="M50,0 L62.18,38.05 100,38.05 69.75,61.95 80.67,100 50,77.43 19.33,100 30.25,61.95 0,38.05 37.82,38.05 z"/>'},{id:"28444",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="90px" height="90px" viewBox="0 0 90 90" enable-background="new 0 0 90 90" xml:space="preserve"><path d="M51.993,51.652l0.398-0.163c0.59,0.409,1.223,0.316,1.828,0.234c1.225-0.169,2.177-0.593,3.438-0.767  c1.473-0.204,4.797-2.02,4.262,0.635c-0.185,0.921-1.088,2.773-1.604,3.533c-0.587,0.856-1.43,1.235-2.378,1.434  c-0.961,0.199-1.925-0.406-2.818-0.018c-0.758,0.33-1.335,1.579-1.77,2.295c-1.049,1.714-1.889,7.632-3.043,9.255  C49.354,69.435,48.278,73,46.697,74h-0.114c0,0.708-0.81,0.858-1.583,0.858S43.416,74.922,43.416,74h-0.113  c-1.581-1-2.657-4.565-3.609-5.909c-1.153-1.623-1.995-7.657-3.043-9.37c-0.438-0.717-1.014-1.909-1.771-2.238  c-0.895-0.39-1.858,0.249-2.817,0.05c-0.949-0.197-1.792-0.564-2.376-1.422c-0.518-0.76-1.421-2.604-1.606-3.526  c-0.535-2.654,2.788-0.836,4.264-0.633c1.261,0.176,2.213,0.596,3.437,0.764c0.604,0.083,1.24,0.176,1.827-0.233l0.399,0.157  c0,0,2.738-1.737,2.682-2.336c-0.004-0.051-0.02-0.094-0.034-0.151c0.843,0.51,2.16,0.849,3.466,0.849h1.757  c1.221,0,2.45-0.279,3.293-0.752c-0.037,0.105-0.064,0.241-0.075,0.324C49.041,50.171,51.993,51.652,51.993,51.652z M40.655,49.166  c-0.143-0.602-0.739-1.461-0.979-1.916c-0.135-0.251-1.431-1.525-1.565-1.729c-0.271-0.411-0.43-0.671-0.62-1.06  c-0.198-0.404-0.39-0.849-0.572-1.294c0,0-0.199-1.129-0.285-1.358c-0.169-0.458-0.244-0.921-0.382-1.396  c-0.131-0.468-0.332-1.165-0.483-1.741c-0.2,0.196-0.28,1.463-0.319,1.768c-0.07,0.564-0.039,1.124-0.001,1.678  c0.019,0.276,0.201,1.368,0.272,1.635c0.141,0.535,0.536,1.676,0.793,2.2c0.225,0.457-2.654-0.838-3.568-2.025  c-0.695-0.9-2.956-2.6-5.345-5.806c-0.31-0.415-1.235-1.313-1.279-1.899c-0.631,0.785,0.514,3.297,0.798,3.83  c0.289,0.531,0.967,1.264,1.351,1.717c0.193,0.226,1.782,2.132,1.782,2.132h0c-0.923-0.496-1.648-0.817-2.924-1.577  c-0.35-0.209-0.643-0.406-0.906-0.598c-1.482-1.721-3.041-4.723-3.625-5.762c-0.59-1.053-1.12-2.098-1.414-3.191  c-0.067-0.239-0.173-1.417-0.202-1.712c-0.048-0.484,0.026-1.074,0.489-1.662c-0.17-0.004-0.347,0.063-0.503,0.159  c-0.155,0.1-0.292,0.23-0.405,0.373c-0.232,0.285-0.395,0.608-0.527,0.936c-0.127,0.33-0.224,0.669-0.289,1.015  c-0.035,0.173-0.104,0.892-0.095,1.089c0.022,0.726,0.172,1.424,0.391,2.088c0.154,0.462,0.178,0.817,0.391,1.239  c-0.486-0.551-1.802-2.014-2.168-2.895c-0.122-0.29-0.288-1.351-0.266-2.282c0.166-0.848,0.347-1.505,0.56-2.438  c0.042-0.181,0.962-4.171,1.119-4.294c0.077-0.063,1.09-1.946,1.173-2.02c0,0,0.775-0.94,0.874-1.121  c0.096-0.179,1.533-2.232,1.638-2.593c0.223-0.764-0.206-0.96-0.206-0.96c-0.302-0.132-0.417-0.084-0.559-0.062  c-0.541,0.231-2.114,2.02-2.114,2.02c-0.679,0.764-1.27,1.127-1.27,1.127c-0.582,0.397-1.499-0.022-1.869-0.796  c-0.123-0.411-0.161-0.791-0.153-1.137c0.027-1.1,0.19-2.081,0.384-2.897c0.021-0.096,0.438-2.046,0.381-2.863  c-0.133,0.017-0.964,1.188-1.205,1.771c0,0-0.979,2.023-1.034,3.279c-0.164,0.983-0.075,2.121,0.136,3.057  c0.215,0.935,0.517,1.36,0.574,2.225c0.054,0.894,0.089,2.367,0.055,3.317c-0.038,0.955-0.064,1.521-0.491,2.43  c0,0-0.375,1.127-0.466,1.516c-0.305,1.322-1.832-0.195-1.832-0.195c-0.807-0.922-1.325-1.526-1.918-2.604  c-0.276-0.776-0.232-1.238-0.247-1.666c-0.029-1.151,0.273-3.507,0.411-4.659c0.127-1.11,0.195-4.159,0.037-6.396  c-0.013-0.179,0.009-0.972-0.108-1.305c-0.173,0.035-1.844,5.869-1.995,7.142c-0.142,1.172-0.725,3.331-0.757,4.606  c-1.596-1.19-1.979-2.516-1.979-2.516c-0.653,0.302-0.254,2.161-0.036,2.809c0.654,1.946,2.517,4.249,2.587,4.348  c0.74,1.129,1.489,2.173,2.322,3.122c0.133,0.153,2.974,3.265,3.373,3.561c0.453,0.335,3.9,3.792,5.276,4.805  c0.994,0.734,7.372,4.708,10.47,5.792c1.099,0.384,4.079,2.075,4.393,2.275c0.484,0.308,1.703,1.322,1.812,1.655l0.073,0.03  l0.399,0.163c0,0,2.738-1.725,2.682-2.319C40.685,49.281,40.669,49.223,40.655,49.166z M82.665,23.091c0,0-0.386,1.325-1.982,2.516  c-0.029-1.275-0.613-3.434-0.754-4.606c-0.153-1.272-1.822-7.107-1.996-7.142c-0.115,0.333-0.098,1.126-0.106,1.305  c-0.161,2.236-0.094,5.285,0.034,6.396c0.14,1.152,0.441,3.508,0.412,4.659c-0.016,0.427,0.028,0.889-0.247,1.666  c-0.594,1.077-1.112,1.682-1.92,2.604c0,0-1.525,1.517-1.832,0.195c-0.089-0.388-0.463-1.516-0.463-1.516  c-0.431-0.909-0.456-1.475-0.491-2.43c-0.036-0.95,0-2.423,0.052-3.317c0.058-0.864,0.36-1.29,0.575-2.225  c0.21-0.937,0.298-2.074,0.136-3.057c-0.055-1.256-1.032-3.279-1.032-3.279c-0.244-0.583-1.072-1.754-1.206-1.771  c-0.058,0.817,0.357,2.768,0.38,2.863c0.195,0.816,0.357,1.797,0.385,2.897c0.007,0.346-0.028,0.726-0.154,1.137  c-0.369,0.774-1.286,1.193-1.865,0.796c0,0-0.593-0.363-1.271-1.127c0,0-1.574-1.789-2.116-2.02  c-0.141-0.022-0.254-0.07-0.557,0.062c0,0-0.429,0.196-0.206,0.96c0.104,0.36,1.541,2.414,1.639,2.593  c0.098,0.18,0.872,1.121,0.872,1.121c0.082,0.074,1.096,1.957,1.174,2.02c0.156,0.123,1.078,4.113,1.119,4.294  c0.212,0.933,0.395,1.59,0.56,2.438c0.021,0.932-0.146,1.992-0.265,2.282c-0.368,0.88-1.683,2.343-2.17,2.895  c0.212-0.422,0.237-0.777,0.391-1.239c0.218-0.664,0.37-1.362,0.391-2.088c0.008-0.198-0.06-0.916-0.097-1.089  c-0.063-0.346-0.159-0.685-0.288-1.015c-0.131-0.328-0.294-0.651-0.526-0.936c-0.114-0.143-0.248-0.273-0.403-0.373  c-0.158-0.096-0.334-0.164-0.507-0.159c0.466,0.588,0.538,1.178,0.491,1.662c-0.029,0.294-0.136,1.473-0.203,1.712  c-0.293,1.094-0.823,2.138-1.414,3.191c-0.582,1.04-2.141,4.041-3.625,5.762c-0.262,0.191-0.555,0.388-0.907,0.598  c-1.274,0.76-2,1.082-2.922,1.577l0,0c0,0,1.591-1.906,1.782-2.132c0.385-0.453,1.062-1.186,1.348-1.717  c0.286-0.532,1.432-3.044,0.801-3.83c-0.044,0.586-0.97,1.485-1.278,1.899c-2.39,3.206-4.649,4.906-5.346,5.806  c-0.913,1.188-3.794,2.482-3.568,2.025c0.259-0.524,0.653-1.666,0.794-2.2c0.071-0.267,0.254-1.358,0.273-1.635  c0.036-0.554,0.068-1.113-0.006-1.678c-0.036-0.305-0.116-1.572-0.317-1.768c-0.148,0.576-0.351,1.273-0.482,1.741  c-0.136,0.475-0.211,0.938-0.382,1.396c-0.084,0.229-0.286,1.358-0.286,1.358c-0.183,0.445-0.372,0.89-0.57,1.294  c-0.191,0.388-0.351,0.648-0.62,1.06c-0.134,0.204-1.433,1.478-1.564,1.729c-0.225,0.428-0.923,1.373-1.152,2.013  c-0.037,0.105-0.064,0.206-0.075,0.29c-0.056,0.597,2.896,2.1,2.896,2.1l0.398-0.163l0.075-0.03c0.106-0.333,1.328-1.348,1.81-1.655  c0.315-0.2,3.295-1.892,4.394-2.275c3.099-1.084,9.479-5.058,10.47-5.792c1.378-1.014,4.826-4.47,5.276-4.805  c0.4-0.296,3.239-3.408,3.376-3.561c0.828-0.949,1.58-1.993,2.318-3.122c0.071-0.099,1.935-2.402,2.589-4.348  C82.916,25.252,83.318,23.394,82.665,23.091z"/></svg>',uploader:{location:"Relegem, België",name:"Ruben Verhasselt",permalink:"/Ruben_Vh"}},{id:"29244",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Your_Icon" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g>	<path d="M94.361,58.33l-43-48c-0.48-0.53-1.16-0.84-1.871-0.83c-0.72,0-1.4,0.31-1.87,0.85l-42,48c-0.48,0.551-0.69,1.271-0.6,1.98   c0.1,0.71,0.49,1.35,1.09,1.75l42,28c0.42,0.28,0.91,0.42,1.39,0.42c0.47,0,0.951-0.13,1.361-0.41l43-28   c0.619-0.39,1.02-1.04,1.119-1.76C95.07,59.6,94.85,58.88,94.361,58.33z M48.5,84.33L11.26,59.5L48.5,16.94V84.33z M50.5,84.37   V16.86L88.691,59.5L50.5,84.37z"/></g></svg>',uploader:{location:"Brooklyn, New York, US",name:"Dan Hetteix",permalink:"/DHETTEIX"}},{id:"26894",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M62.146,49.999L92.364,19.78c1.159-1.159,1.159-3.037,0-4.195l-7.95-7.95c-1.158-1.158-3.036-1.158-4.195,0L50,37.854  L19.781,7.635c-1.158-1.158-3.037-1.158-4.196,0l-7.95,7.95c-1.159,1.158-1.159,3.036,0,4.195l30.219,30.219L7.636,80.219  c-1.16,1.159-1.16,3.037,0,4.195l7.949,7.95c1.159,1.159,3.038,1.159,4.196,0L50,62.146l30.218,30.218  c1.159,1.159,3.037,1.159,4.195,0l7.95-7.95c1.159-1.158,1.159-3.036,0-4.195L62.146,49.999z"/></svg>',uploader:{location:"Brooklyn, New York, US",name:"Mateo Zlatar",permalink:"/mateozlatar"}},{id:"25826",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="Layer_2">	<polygon fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="0,0 0,30 7,30 7,7 30,7 30,0  "/>	<polygon fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="100,0 70,0 70,7 93,7 93,30 100,30  "/>	<polygon fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="100,100 100,70 93,70 93,93 70,93 70,100  "/>	<polygon fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="0,100 30,100 30,93 7,93 7,70 0,70  "/></g><g id="Layer_3" display="none">	<polygon display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="30,30 30,0 23,0 23,23 0,23 0,30  "/>	<polygon display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="70,30 100,30 100,23 77,23 77,0 70,0     "/>	<polygon display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="70,70 70,100 77,100 77,77 100,77    100,70  "/>	<polygon display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="30,70 0,70 0,77 23,77 23,100 30,100     "/></g><g id="Your_Icon" display="none">	<polygon display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="1.939,16.95 97.529,16.95    49.998,54.354  "/>	<polygon display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="100,23.447 100,83.042 0,83.042    0,23.447 49.998,62.544  "/>	<path display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" d="M-102.089,47.16   c-0.003,4.584-0.032,9.167,0.005,13.75c0.028,3.6-1.686,5.402-5.303,5.4c-9.381-0.004-18.758,0.021-28.138-0.014   c-1.586-0.008-3.741,0.365-3.727-2.123c0.017-3.463-2.379-7.088-0.057-10.311c1.746-2.426,3.721,0.02,5.499,0.715   c3.465,1.354,6.572,1.07,9.014-1.932c2.07-2.542,2.383-5.397,0.325-8.042c-2.463-3.167-5.552-3.857-9.419-2.223   c-5.634,2.385-6.755,1.475-6.119-4.303c0.936-8.504,0.936-8.504,9.451-7.481c6.118,0.736,6.819-0.226,4.467-6.276   c-1.416-3.633-1.304-6.982,1.915-9.601c2.788-2.272,5.866-2.184,8.62-0.044c3.245,2.516,3.412,5.916,2.077,9.571   c-2.384,6.519-1.826,7.43,4.924,6.076c5.108-1.024,7.3-0.079,6.565,5.596C-102.469,39.607-102.081,43.41-102.089,47.16z"/>	<path display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" d="M-179.581,14.719   c-1.547,1.95,0.019,3.01,1.136,4.136l2.487,2.371c5.73,3.815,5.48,4.855-0.814,7.778c-3.529,1.641-5.816,4.163-5.3,8.235   c0.435,3.461,2.549,5.701,6.126,6.064l0,0c4.127,0.424,6.452-1.958,8.019-5.528c2.616-5.94,3.791-6.124,7.597-1.278   c5.298,6.743,5.298,6.743,11.973,1.394c4.535-3.636,4.385-5.073-1.284-7.37c-3.893-1.578-5.587-4.251-5.089-8.232   c0.414-3.326,2.656-5.122,5.916-5.456c3.849-0.396,6.248,1.601,7.738,5.007c0.766,1.749,0.434,4.875,3.383,4.395   c3.921-0.637,4.791-4.895,7.251-7.33c1.77-1.751-0.018-3.01-1.135-4.137l-2.487-2.371c-5.732-3.816-5.48-4.854,0.814-7.777   c3.527-1.641,5.939-4.07,5.423-8.144l0,0c-0.436-3.461-2.55-5.7-6.126-6.064c-4.128-0.424-6.575,1.866-8.144,5.435   c-2.615,5.943-3.791,6.125-7.595,1.279c-5.3-6.744-5.3-6.744-11.975-1.393C-161.666-4.268-169.972,2.606-179.581,14.719z"/>	<polygon display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#000000" points="-317,-7 -317,23 -310,23 -310,0 -287,0    -287,-7  "/></g></svg>',uploader:{location:"SE",name:"Gustav Salomonsson",permalink:"/gustavs92"}},{id:"23031",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Your_Icon" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><circle cx="30" cy="30" r="3"/><circle cx="40" cy="30" r="3"/><circle cx="60" cy="30" r="3"/><circle cx="70" cy="30" r="3"/><circle cx="30" cy="40" r="3"/><circle cx="40" cy="40" r="3"/><circle cx="60" cy="40" r="3"/><circle cx="70" cy="40" r="3"/><circle cx="30" cy="50" r="3"/><circle cx="40" cy="50" r="3"/><circle cx="60" cy="50" r="3"/><circle cx="70" cy="50" r="3"/><circle cx="30" cy="60" r="3"/><circle cx="40" cy="60" r="3"/><circle cx="60" cy="60" r="3"/><circle cx="70" cy="60" r="3"/><circle cx="30" cy="70" r="3"/><circle cx="40" cy="70" r="3"/><circle cx="60" cy="70" r="3"/><circle cx="70" cy="70" r="3"/><circle cx="50" cy="30" r="3"/><circle cx="50" cy="40" r="3"/><circle cx="50" cy="50" r="3"/><circle cx="50" cy="60" r="3"/><circle cx="50" cy="70" r="3"/></svg>',uploader:{location:"Nazaré, PT",name:"Diogo Trindade",permalink:"/diogo.soares.trindade"}},{id:"16561",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path d="M68.587,83.487H17.763c-0.69,0-1.25-0.56-1.25-1.25V31.414c0-0.69,0.56-1.25,1.25-1.25h50.824c0.69,0,1.25,0.56,1.25,1.25   v50.823C69.837,82.928,69.277,83.487,68.587,83.487z M19.013,80.987h48.324V32.664H19.013V80.987z"/>	<path d="M82.237,69.836H31.413c-0.69,0-1.25-0.56-1.25-1.25V17.763c0-0.69,0.56-1.25,1.25-1.25h50.824c0.69,0,1.25,0.56,1.25,1.25   v50.823C83.487,69.276,82.928,69.836,82.237,69.836z M32.663,67.336h48.324V19.013H32.663V67.336z"/>	<path d="M68.587,32.664c-0.32,0-0.64-0.122-0.884-0.366c-0.488-0.488-0.488-1.279,0-1.768l13.65-13.651   c0.488-0.488,1.279-0.488,1.768,0s0.488,1.279,0,1.768l-13.65,13.651C69.227,32.542,68.907,32.664,68.587,32.664z"/>	<path d="M17.763,32.664c-0.32,0-0.64-0.122-0.884-0.366c-0.488-0.488-0.488-1.279,0-1.768l13.65-13.651   c0.488-0.488,1.279-0.488,1.768,0s0.488,1.279,0,1.768l-13.65,13.651C18.402,32.542,18.083,32.664,17.763,32.664z"/>	<path d="M68.587,83.487c-0.32,0-0.64-0.122-0.884-0.366c-0.488-0.488-0.488-1.279,0-1.768l13.65-13.651   c0.488-0.488,1.279-0.488,1.768,0s0.488,1.279,0,1.768l-13.65,13.651C69.227,83.365,68.907,83.487,68.587,83.487z"/>	<path d="M17.763,83.487c-0.32,0-0.64-0.122-0.884-0.366c-0.488-0.488-0.488-1.279,0-1.768l13.65-13.651   c0.488-0.488,1.279-0.488,1.768,0s0.488,1.279,0,1.768l-13.65,13.651C18.402,83.365,18.083,83.487,17.763,83.487z"/></g></svg>',uploader:{location:"Barcelona, ES",name:"Rafa Goicoechea",permalink:"/rafa.goicoechea"}},{id:"19484",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100.5px" height="93.846px" viewBox="0 0 100.5 93.846" enable-background="new 0 0 100.5 93.846" xml:space="preserve"><g id="BLOCK_x5F_RECORD">	<g id="ARC_4_">		<g id="XMLID_1_">			<g>				<path d="M49.75,30.793c3.45,0,6.25,2.8,6.25,6.25c0,3.46-2.8,6.25-6.25,6.25s-6.25-2.79-6.25-6.25      C43.5,33.593,46.3,30.793,49.75,30.793z"/>				<path d="M99.75,2.673v87.5c0,3.45-2.8,6.25-6.25,6.25H6c-3.45,0-6.25-2.8-6.25-6.25v-87.5c0-3.45,2.8-6.25,6.25-6.25h87.5      C96.95-3.577,99.75-0.777,99.75,2.673z M63.67,44.143c3.92-7.68,0.87-17.09-6.82-21.01c-7.689-3.92-17.09-0.87-21.02,6.81      c-2.28,3.91-2.28,10.29,0,14.2l13.92,27.28L63.67,44.143z"/>			</g>			<g>			</g>		</g>	</g></g></svg>',uploader:{location:"Modena, IT",name:"Valerio Poltrini",permalink:"/esterling779"}},{id:"26344",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M50,27.504c-12.403,0-22.495,10.091-22.495,22.495c0,12.403,10.092,22.495,22.495,22.495  c12.402,0,22.495-10.092,22.495-22.495C72.495,37.595,62.402,27.504,50,27.504z M50,67.176c-9.47,0-17.174-7.707-17.174-17.177  S40.53,32.825,50,32.825s17.174,7.704,17.174,17.174S59.47,67.176,50,67.176z"/><path d="M50,14.584c-19.528,0-35.415,15.887-35.415,35.415S30.472,85.414,50,85.414c19.527,0,35.415-15.887,35.415-35.415  S69.527,14.584,50,14.584z M50,80.096c-16.595,0-30.094-13.502-30.094-30.097c0-16.594,13.5-30.096,30.094-30.096  s30.095,13.502,30.095,30.096C80.095,66.594,66.595,80.096,50,80.096z"/><path d="M50,2.145c-26.387,0-47.854,21.468-47.854,47.854c0,26.39,21.467,47.856,47.854,47.856  c26.389,0,47.854-21.468,47.854-47.856C97.854,23.612,76.389,2.145,50,2.145z M50,92.533c-23.454,0-42.535-19.08-42.535-42.534  C7.465,26.546,26.546,7.466,50,7.466c23.453,0,42.533,19.08,42.533,42.533C92.533,73.453,73.453,92.533,50,92.533z"/><g id="Layer_1_1_"></g></svg>',uploader:{location:"Calgary, Alberta, CA",name:"Leonard Ellom Quist",permalink:"/Outcydaz"}},{id:"13002",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path d="M50,85.819c-19.8,0-35.909-16.109-35.909-35.91C14.091,30.109,30.2,14,50,14c19.801,0,35.909,16.109,35.909,35.909   C85.909,69.71,69.801,85.819,50,85.819z M50,18c-17.595,0-31.909,14.314-31.909,31.909c0,17.596,14.314,31.91,31.909,31.91   s31.909-14.314,31.909-31.91C81.909,32.314,67.595,18,50,18z"/></g></svg>',uploader:{location:"Chicago, Illinois, US",name:"Renee Ramsey-Passmore",permalink:"/Renee Ramsey-Passmore"}},{id:"14372",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path d="M41.004,45.911c3.279-5.867,6.628-11.826,9.39-16.667c-2.569-4.708-4.589-8.544-5.541-10.621   C40.619,9.378,41.57,3.935,41.57,3.935L32.152,20.61c0,0-0.95,5.444,3.283,14.689C36.312,37.213,38.337,41.04,41.004,45.911z"/>	<path d="M61.077,48.363c-2.7,4.773-5.994,10.659-9.363,16.711c9.403,16.599,19.354,33.755,19.839,34.336l3.801-26.44   C74.914,72.445,68.171,60.862,61.077,48.363z"/>	<path d="M31.806,98.2c0,0,25.661-46.659,32.747-58.667c7.085-12.01,5.271-18.749,5.271-18.749L60.752,4.453   c0,0,1.814,6.74-5.271,18.75c-7.085,12.011-26.872,47.867-26.872,47.867L31.806,98.2z"/>	<path d="M50.556,12.575c3.625,0,5.914,0.714,7.449,1.591c1.601-5.158,1.606-9.195,1.48-11.037c-1.438-1.28-3.901-2.652-8.929-2.652   c-3.985,0-6.355,1.147-7.654,2.12c-0.071,1.656-0.045,5.946,1.576,11.17C45.868,13.117,47.826,12.575,50.556,12.575z"/></g></svg>',uploader:{location:"US",name:"Nicole Hammonds",permalink:"/nhammonds1029"}},{id:"12973",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path d="M50,99.948L0.052,50L50,0.052L99.948,50L50,99.948z M5.709,50L50,94.292L94.292,50L50,5.709L5.709,50z"/></g></svg>',uploader:{location:"Chicago, Illinois, US",name:"Renee Ramsey-Passmore",permalink:"/Renee Ramsey-Passmore"}},{id:"16542",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path d="M64.432,40.572c-0.432,0-0.832-0.223-1.061-0.589L49.035,17.001c-0.24-0.385-0.253-0.87-0.032-1.268   c0.22-0.397,0.639-0.644,1.093-0.644l28.493-0.004c0.453,0,0.87,0.245,1.091,0.641c0.222,0.396,0.211,0.879-0.026,1.265   L65.496,39.978c-0.227,0.368-0.628,0.594-1.061,0.595C64.434,40.572,64.433,40.572,64.432,40.572z M52.349,17.59l12.076,19.359   l11.926-19.363L52.349,17.59z"/>	<path d="M35.847,40.572c-0.431,0-0.83-0.222-1.059-0.586L20.377,17.004c-0.242-0.385-0.255-0.871-0.035-1.27   c0.22-0.397,0.639-0.645,1.094-0.645l28.66-0.004c0.453,0,0.871,0.246,1.092,0.642c0.221,0.396,0.21,0.882-0.029,1.267   L36.909,39.98c-0.228,0.367-0.628,0.591-1.06,0.592C35.849,40.572,35.848,40.572,35.847,40.572z M23.694,17.59l12.146,19.37   L47.85,17.586L23.694,17.59z"/>	<path d="M35.866,40.572c-0.005,0-0.013,0.001-0.02,0H7.394c-0.452,0-0.869-0.244-1.09-0.639c-0.222-0.395-0.213-0.877,0.023-1.263   l14.042-22.986c0.226-0.37,0.626-0.596,1.06-0.599c0.002,0,0.005,0,0.007,0c0.431,0,0.83,0.222,1.059,0.586l14.309,22.821   c0.195,0.221,0.313,0.511,0.313,0.829C37.116,40.013,36.557,40.572,35.866,40.572z M9.622,38.072h23.966L21.449,18.711   L9.622,38.072z"/>	<path d="M64.451,40.572c-0.005,0-0.012,0.001-0.02,0H35.847c-0.453,0-0.871-0.246-1.092-0.642c-0.221-0.396-0.21-0.882,0.029-1.267   l14.249-22.986c0.228-0.367,0.629-0.591,1.061-0.592c0.001,0,0.001,0,0.002,0c0.432,0,0.832,0.223,1.061,0.589l14.233,22.82   c0.194,0.221,0.312,0.51,0.312,0.827C65.701,40.013,65.142,40.572,64.451,40.572z M38.092,38.072h24.087l-12.08-19.369   L38.092,38.072z"/>	<path d="M92.652,40.572c-0.005,0-0.013,0.001-0.02,0H64.432c-0.453,0-0.87-0.245-1.092-0.641c-0.221-0.396-0.21-0.879,0.027-1.265   l14.157-22.986c0.228-0.37,0.631-0.595,1.064-0.595c0.001,0,0.002,0,0.002,0c0.435,0.001,0.838,0.228,1.064,0.599l13.942,22.819   c0.19,0.219,0.305,0.505,0.305,0.818C93.902,40.013,93.343,40.572,92.652,40.572z M66.67,38.072h23.734L78.585,18.727L66.67,38.072   z"/>	<path d="M50.255,84.914c-0.339,0-0.663-0.138-0.898-0.381L6.469,40.191c-0.349-0.36-0.448-0.896-0.252-1.357   c0.195-0.462,0.648-0.762,1.15-0.762h85.266c0.5,0,0.952,0.299,1.149,0.759c0.196,0.46,0.1,0.993-0.246,1.354L51.158,84.527   c-0.234,0.246-0.56,0.386-0.899,0.387C50.258,84.914,50.256,84.914,50.255,84.914z M10.315,40.572L50.249,81.86l39.46-41.288   H10.315z"/>	<path d="M50.255,84.914c-0.527,0-1.018-0.336-1.188-0.863L34.658,39.709c-0.214-0.657,0.146-1.362,0.802-1.575   c0.66-0.214,1.363,0.146,1.575,0.802l14.408,44.342c0.214,0.657-0.146,1.362-0.802,1.575   C50.513,84.895,50.383,84.914,50.255,84.914z"/>	<path d="M50.297,84.914c-0.125,0-0.253-0.019-0.38-0.059c-0.657-0.21-1.021-0.913-0.812-1.571L63.24,38.942   c0.21-0.656,0.906-1.021,1.571-0.812c0.657,0.21,1.021,0.913,0.812,1.571L51.488,84.044C51.318,84.575,50.827,84.914,50.297,84.914   z"/></g></svg>',uploader:{location:"Barcelona, ES",name:"Rafa Goicoechea",permalink:"/rafa.goicoechea"}},{id:"11742",svg:'<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="100" height="100" viewBox="0 0 80 80" version="1.1" id="svg2" inkscape:version="0.48.2 r9819" sodipodi:docname="blank.svg">  <metadata id="metadata10">    <rdf:RDF>      <cc:Work rdf:about="">        <dc:format>image/svg+xml</dc:format>        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>        <dc:title/>      </cc:Work>    </rdf:RDF>  </metadata>  <defs id="defs8">    <inkscape:path-effect is_visible="true" id="path-effect5043" effect="spiro"/>    <inkscape:path-effect is_visible="true" id="path-effect5065" effect="spiro"/>  </defs>  <sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1366" inkscape:window-height="706" id="namedview6" showgrid="true" inkscape:zoom="4.3511521" inkscape:cx="50.437889" inkscape:cy="49.750713" inkscape:window-x="-8" inkscape:window-y="-8" inkscape:window-maximized="1" inkscape:current-layer="svg2" inkscape:snap-grids="false">    <inkscape:grid type="xygrid" id="grid3807"/>  </sodipodi:namedview>  <path id="path3997" d="m 40.463031,26.262212 c 0.084,-0.11855 0.21241,-0.26181 0.3853,-0.14819 1.11638,0.33096 1.99565,1.13613 2.88974,1.84251 0.54831,0.41988 1.06204,0.87927 1.54613,1.36831 1.12132,1.02252 2.1636,2.11914 3.28492,3.14166 0.16301,0.12349 0.31614,0.29638 0.52855,0.34578 0.87927,0.19759 1.79312,0.19759 2.69215,0.22723 3.95671,-0.0296 7.91343,0.35566 11.80099,1.10156 0.84964,0.0939 1.65975,0.41493 2.51432,0.51867 1.55108,0.40505 3.10709,0.78541 4.63346,1.26951 0.93361,0.3359 1.91662,0.51373 2.85022,0.84469 0.80518,0.25686 1.59059,0.57795 2.36613,0.90891 0.70638,0.37048 1.45228,0.67674 2.1142,1.14107 0.55325,0.38036 1.19541,0.81506 1.35349,1.5165 0.14325,0.34084 -0.16302,0.58783 -0.37542,0.79529 -0.40012,0.28651 -0.88421,0.41 -1.32385,0.60759 0.005,0.0346 0.0148,0.0988 0.0247,0.13337 0.50879,0.079 0.99288,-0.11855 1.50168,-0.13337 0.31614,0.12349 0.40505,0.59771 0.14819,0.82987 -0.32108,0.52855 -0.88915,0.82988 -1.42264,1.10156 -0.63723,0.35072 -1.34855,0.52855 -2.03517,0.76566 -4.125369,1.270669 -8.225777,1.732499 -12.14184,2.93419 -0.2865,0.0642 -0.42975,0.32602 -0.62734,0.50879 -0.26675,0.25687 -0.44952,0.58289 -0.63723,0.89903 -0.64216,0.89409 -1.33372,1.74867 -2.0648,2.5736 -0.30626,0.2618 -0.65698,0.66686 -1.1065,0.49397 -0.3359,-0.0939 -0.48409,-0.44457 -0.51867,-0.76072 -0.0296,-0.87927 -0.0692,-1.76348 0.01,-2.64275 -1.01758,0.15313 -2.03023,0.36554 -3.06263,0.41 -0.73602,0.0445 -1.45722,0.19759 -2.19323,0.27662 -0.92867,0.10374 -1.8524,0.29639 -2.79589,0.30627 -1.81782,-0.01 -3.64057,0.17783 -5.45345,-0.0395 -0.14325,0.44951 -0.44952,0.81011 -0.72614,1.18059 -0.37048,0.41988 -0.58289,0.99289 -1.07686,1.28927 -0.34084,0.16795 -0.59771,-0.17289 -0.71132,-0.44457 -0.0889,-0.10374 -0.16301,-0.40012 -0.3606,-0.33097 -1.279977,0.893697 -2.017166,2.19186 -3.5813,3.13675 -0.20747,0.13831 -0.50385,0.12843 -0.68662,-0.0445 -0.40506,-0.47915 -0.38036,-1.14108 -0.23711,-1.71902 0.219344,-1.640446 0.12652,-2.39903 0.97309,-3.77888 -0.51867,-0.10867 -1.04722,-0.12349 -1.57083,-0.19265 -1.42758,-0.29144 -2.87492,-0.44457 -4.3272,-0.55819 -1.21023,-0.10867 -2.43528,-0.27168 -3.65046,-0.0988 -0.36554,0.0296 -0.66192,0.24698 -0.97806,0.39517 -0.58783,0.27169 -1.14108,0.59771 -1.67951,0.95337 -0.43469,0.29145 -0.92372,0.48409 -1.3683,0.75578 -0.80517,0.46927 -1.63999,0.87927 -2.47974,1.26951 -0.81505,0.28156 -1.57083,0.71626 -2.37107,1.04228 -0.3359,0.13337 -0.75577,0.13831 -1.06204,-0.0642 -0.40999,-0.3853 -0.52855,-0.95336 -0.71132,-1.46216 -0.21241,-0.67674 -0.53349,-1.3189 -0.64216,-2.02528 -0.079,-0.7706 -0.079,-1.54613 0.0198,-2.31673 0.0296,-0.19265 -0.0296,-0.38036 -0.10374,-0.55325 0.13338,-0.14819 0.21735,-0.40506 0.47916,-0.34578 0.58288,-0.0296 1.17565,-0.11361 1.66962,-0.44458 -0.46927,-0.21734 -0.98794,-0.27168 -1.48685,-0.38035 -0.65699,-0.14326 -1.32385,-0.20747 -1.99071,-0.27663 -0.95831,-0.0938 -1.91661,0.0247 -2.86504,0.14819 -0.47915,0.079 -0.90891,0.32602 -1.38312,0.43964 -0.83976,0.20747 -1.63505,0.56807 -2.4846801,0.76565 -0.8694,0.20253 -1.67457,0.60759 -2.5291401,0.87434 -0.67674,0.20252 -1.35349,0.45939 -2.05987,0.52361 -0.96324,0.11361 -1.92649,0.22722 -2.88973,0.34084 -0.44458,0.01 -0.88421,-0.0148 -1.32385,-0.0445 0.13337,-0.33096 0.29144,-0.65698 0.2865,-1.02252 0.5267991,-1.900102 1.0667197,-3.488689 1.63011,-5.32502 0.0494,-0.35566 -0.0939,-0.69156 -0.12843,-1.03735 -1.016715,-2.375293 -0.8406543,-4.189445 -0.86447,-6.86127 0.0642,-0.33096 0.52855,-0.34578 0.79529,-0.32108 1.50662,0.17289 2.99842,0.58782 4.36178,1.25963 0.8644501,0.38036 1.7338401,0.76071 2.5242001,1.27939 1.0719201,0.58288 1.9956401,1.46709 3.1910601,1.80793 0.97806,0.25687 1.98083,0.46928 2.99841,0.48904 1.0571,-0.005 2.12408,0.01 3.16636,-0.18277 -0.56313,-0.20253 -1.18553,-0.26181 -1.70914,-0.56807 -0.26181,-0.14819 -0.14325,-0.54337 0.0395,-0.71132 0.37047,-0.4594 1.01264,-0.45446 1.54613,-0.49397 0.47421,-0.0296 0.92867,0.15313 1.38312,0.26674 0.85457,0.24205 1.68939,0.68662 2.60323,0.57301 0.78048,-0.12349 1.57578,-0.12349 2.36119,-0.25193 0.80024,-0.12843 1.60541,-0.20253 2.40071,-0.37542 0.54831,0 1.09662,-0.0642 1.63011,-0.18771 0.84963,-0.14325 1.71408,-0.20746 2.54889,-0.41493 1.12626,-0.23711 2.27721,-0.29145 3.40841,-0.50879 0.68662,-0.1482 1.39794,-0.21735 2.07468,-0.41988 -0.60264,-0.18277 -1.23493,-0.26181 -1.84251,-0.42482 -0.42976,-0.15807 -0.87433,-0.2618 -1.29915,-0.42975 -0.01,-0.23711 0.0939,-0.4594 0.21241,-0.65699 0.26674,-0.31614 0.66192,-0.48903 0.94843,-0.78047 1.567821,-1.734454 4.938577,-5.357179 5.04345,-5.87334 z" inkscape:connector-curvature="0" style="fill:#000000;stroke:#000000;stroke-width:0.00463099" sodipodi:nodetypes="ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc"/></svg>',uploader:{location:"Saint Paul, Minnesota, US",name:"James Keuning",permalink:"/jmkeuning"}},{id:"7355",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M67.988,14.273c-6.849-3.378-10.688-9.16-12.018-11.48v-1.01h-8.693v68.362c-3.573-1.601-7.943-2.247-12.516-1.603  c-10.511,1.485-18.108,9.231-16.969,17.302c1.14,8.071,10.584,13.412,21.096,11.926c9.929-1.401,17.255-8.391,17.075-15.963h0.007  V20.133c1.672,1.244,7.01,1.216,12.558,6.764c6.795,6.796,4.32,19.364,4.32,19.364C83.786,37.945,80.355,20.374,67.988,14.273z"/></svg>',uploader:{location:"Brooklyn, New York, US",name:"Megan Sheehan",permalink:"/megan.sheehan"}},{id:"4941",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Ebene_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M9.152,50.321C9.158,27.014,28.047,8.117,51.354,8.117l0,0c23.31,0,42.198,18.898,42.198,42.204l0,0  c0,23.31-18.889,42.204-42.198,42.208l0,0C28.047,92.525,9.158,73.633,9.152,50.321L9.152,50.321z M16.49,50.321  c0.042,19.255,15.613,34.831,34.864,34.868l0,0c19.253-0.037,34.827-15.613,34.86-34.868l0,0  c-0.033-19.251-15.607-34.829-34.86-34.864l0,0C32.104,15.493,16.532,31.07,16.49,50.321L16.49,50.321z"/><path d="M51.351,72.325c-5.617,0.002-11.271-2.156-15.556-6.445l0,0c-4.282-4.282-6.448-9.924-6.446-15.539l0,0  c-0.002-5.623,2.15-11.287,6.45-15.574l0,0c4.285-4.295,9.939-6.452,15.552-6.444l0,0c5.623-0.008,11.274,2.154,15.562,6.444l0,0  l-5.162,5.166c-2.883-2.879-6.625-4.303-10.4-4.307l0,0c-3.771,0.004-7.509,1.428-10.393,4.307l0,0  c-2.877,2.875-4.299,6.621-4.303,10.408l0,0c0.004,3.766,1.432,7.498,4.309,10.379l0,0c2.874,2.871,6.613,4.297,10.387,4.301l0,0  c3.775-0.004,7.518-1.43,10.393-4.305l0,0l0.008,0.004l5.16,5.16c-4.286,4.289-9.93,6.445-15.547,6.445l0,0  C51.362,72.325,51.356,72.325,51.351,72.325L51.351,72.325z"/></svg>',uploader:{location:"CH",name:"Thomas Hirter",permalink:"/plutomium"}},{id:"5822",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M76.235,62.765c-11.23-0.864-20.858-7.318-26.131-13.14  c-5.273,5.822-14.9,12.276-26.132,13.14c-11.81,0.907-22.904-4.504-22.082-16.807c0.276-4.161,3.077-9.694,8.899-9.228  c0.537,0.042,1.017,0.151,1.442,0.33c0.015,0,0.028,0.014,0.028,0.014c2.292,0.604,3.982,2.691,3.982,5.177  c0,2.966-2.403,5.369-5.369,5.369c-2.693,0-4.916-1.964-5.301-4.545c-0.015-0.028-0.028-0.055-0.054-0.083  c-1.759,4.71,1.579,9.916,5.272,10.546c12.579,2.183,17.191-17.632,29.002-19.445c4.284-0.659,7.881,0.659,10.312,3.035  c2.431-2.376,6.026-3.694,10.312-3.035c11.808,1.812,16.423,21.627,29.001,19.445c3.691-0.631,7.027-5.836,5.271-10.546  c-0.026,0.027-0.04,0.055-0.053,0.083c-0.388,2.582-2.609,4.545-5.302,4.545c-2.966,0-5.371-2.403-5.371-5.369  c0-2.486,1.689-4.573,3.982-5.177c0,0,0.014-0.014,0.028-0.014c0.426-0.179,0.906-0.288,1.443-0.33  c5.822-0.466,8.622,5.067,8.897,9.228C99.141,58.261,88.045,63.672,76.235,62.765z"/></svg>',uploader:{location:"",name:"bryn mackenzie",permalink:"/bryn mackenzie"}},{id:"26479",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="Layer_2" display="none"></g><g id="Layer_1">	<g>		<path d="M94.3,66.4l-0.1,0c-0.7-0.1-1.5-0.1-2.1-0.3c-0.4-0.1-0.7-0.2-1-0.3c-0.6-0.2-1.2-0.5-2.4-0.5c-1.2,0-2.2,0.2-3.2,0.5    c-0.3,0.1-0.7,0.2-1,0.2c-2.3,0.5-5.2,0.6-7.4,0.2c-1.2-0.2-2-0.5-2.7-0.7c-0.2-0.1-0.4-0.2-0.7-0.2c2.7-1.8,4.3-3.3,4.4-3.5    c0.3-0.3,0.4-0.7,0.2-1.1c-0.2-0.4-0.5-0.6-0.9-0.6H24.1c-0.3,0-0.6,0.1-0.8,0.3s-0.3,0.5-0.2,0.8c0.2,1.5,0.7,2.8,1.3,3.9    c-2.2-0.1-3.7,0.3-5.3,0.7c-1.2,0.3-2.4,0.6-3.9,0.7c-1.2,0.1-3.2-0.1-5.1-0.3c-1.6-0.2-3.2-0.3-4.3-0.3c-0.6,0-1,0.5-1,1    s0.5,1,1,1c1,0,2.5,0.1,4.1,0.3c2,0.2,4.1,0.4,5.5,0.3c1.7-0.2,3-0.5,4.2-0.8c1.9-0.5,3.6-0.9,6.6-0.5c3.9,3.8,10.4,4.8,12.8,5    c0.3,1.8,1.2,4.2,3.8,4.5c0,0,0.1,0,0.2,0c0.6,0,1-0.4,1.9-1c1.6-1.3,4.3-3.5,8.1-3.5c7.1,0,13.3-2.5,17.8-5.1l2.9,0    c0.1,0,0.2,0.1,0.3,0.1c0.8,0.3,1.6,0.6,3.1,0.8c2.5,0.4,5.5,0.3,8.1-0.2c0.4-0.1,0.7-0.2,1.1-0.3c0.5-0.1,1-0.3,1.5-0.3l1.9,0    c0.3,0.1,0.6,0.1,0.8,0.3c0.3,0.1,0.7,0.3,1.2,0.4c0.8,0.2,1.6,0.3,2.4,0.3l0.1,0c0.5,0.1,1-0.4,1.1-0.9    C95.3,66.9,94.9,66.4,94.3,66.4z M74.8,62.1c-1,0.8-2.4,1.8-4.1,2.8c-0.5,0-1.2,0.1-1.9,0.1c-1.6,0.2-3,0.5-4.4,0.9    c-2.7,0.6-5.2,1.2-8.4,0.7c-0.9-0.1-1.7-0.4-2.5-0.7c-0.9-0.3-1.8-0.6-2.9-0.8c-2.7-0.4-4.7,0.1-6.8,0.6l-0.5,0.1    c-3,0.7-6.2,1.3-9.6,0.9c-1.3-0.1-2.4-0.4-3.6-0.7c-0.9-0.2-1.8-0.5-2.8-0.6c-0.8-0.9-1.5-2-1.9-3.4H74.8z M43.5,74.2    c-0.3,0.2-0.6,0.4-0.7,0.6c-1.9-0.5-1.9-3.4-1.9-3.5c0-0.5-0.4-1-1-1c-0.1,0-4.2-0.2-8.2-1.9c0.5,0.1,1.1,0.2,1.7,0.3    c0.7,0.1,1.5,0.1,2.2,0.1c2.9,0,5.6-0.5,8.1-1.1l0.5-0.1c0.8-0.2,1.5-0.3,2.2-0.5l4.6,0c0.7,0.1,1.3,0.4,1.9,0.6    c0.8,0.3,1.7,0.6,2.9,0.8c3.6,0.5,6.4-0.1,9.1-0.8c0.1,0,0.1,0,0.2,0c-3.6,1.5-7.7,2.6-12.2,2.6C48.3,70.3,45.2,72.9,43.5,74.2z"/>		<path d="M49.6,58.7h26.9c0.4,0,0.7-0.2,0.9-0.6c0.2-0.3,0.1-0.8-0.1-1.1L50.3,23.5c-0.3-0.3-0.7-0.5-1.1-0.3    c-0.4,0.1-0.7,0.5-0.7,0.9v33.5C48.6,58.2,49,58.7,49.6,58.7z M50.6,27l23.8,29.7H50.6V27z"/>		<path d="M32.2,58.7h12.2c0.6,0,1-0.4,1-1V29.6c0-0.5-0.3-0.9-0.8-1c-0.5-0.1-0.9,0.1-1.1,0.6L31.3,57.3c-0.1,0.3-0.1,0.7,0.1,0.9    C31.6,58.5,31.9,58.7,32.2,58.7z M43.5,34.4v22.3h-9.7L43.5,34.4z"/>	</g></g></svg>',uploader:{location:"copenhagen, DK",name:"Mirko Velimirovic",permalink:"/bghryct"}},{id:"2013",svg:'<?xml version="1.0" encoding="utf-8"?>\r<!-- Generator: Adobe Illustrator 15.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r<svg version="1.1" id="radio" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r	 width="100px" height="91.759px" viewBox="0.18 -7.243 100 91.759" enable-background="new 0.18 -7.243 100 91.759"\r	 xml:space="preserve">\r<path d="M96.166,21.791h-5.337v-0.704h-1.338V-5.917l1.354-1.326h-3.728l1.36,1.357v26.974H87.14v0.704H4.194\r	c-2.216,0-4.014,1.794-4.014,4.01v52.666c0,2.212,1.798,4.007,4.014,4.007h6.149l0.46,2.042h1.299l0.46-2.042h75.235l0.456,2.042\r	h1.307l0.457-2.042h6.148c2.212,0,4.014-1.795,4.014-4.007V25.801C100.18,23.585,98.378,21.791,96.166,21.791z M98.788,78.467\r	c0,1.438-1.176,2.614-2.622,2.614H4.194c-1.442,0-2.618-1.176-2.618-2.614V25.801c0-1.442,1.175-2.618,2.618-2.618h91.972\r	c1.446,0,2.622,1.176,2.622,2.618V78.467z"/>\r<path d="M72.909,53.703c-2.885,0-5.244-2.235-5.453-5.066H57.131c0.225,8.516,7.216,15.368,15.778,15.368\r	c8.562,0,15.554-6.853,15.777-15.368H78.361C78.152,51.459,75.794,53.703,72.909,53.703z"/>\r<path d="M72.909,32.43c-8.562,0-15.554,6.856-15.778,15.364h10.325c0.209-2.823,2.568-5.058,5.453-5.058s5.243,2.227,5.46,5.058\r	h10.317C88.463,39.286,81.471,32.43,72.909,32.43z"/>\r<path d="M94.526,26.223H5.837c-0.924,0-1.678,0.75-1.678,1.674v48.467c0,0.929,0.754,1.679,1.678,1.679h88.689\r	c0.928,0,1.671-0.75,1.671-1.679V27.897C96.197,26.973,95.454,26.223,94.526,26.223z M63.435,74.562c-1.64,0-2.97-1.33-2.97-2.978\r	c0-1.64,1.33-2.971,2.97-2.971s2.97,1.331,2.97,2.971C66.404,73.232,65.074,74.562,63.435,74.562z M82.384,74.562\r	c-1.64,0-2.971-1.33-2.971-2.978c0-1.64,1.331-2.971,2.971-2.971s2.97,1.331,2.97,2.971C85.354,73.232,84.023,74.562,82.384,74.562z\r	 M72.909,65.954c-9.8,0-17.735-7.936-17.735-17.742c0-9.792,7.936-17.735,17.735-17.735c9.799,0,17.734,7.943,17.734,17.735\r	C90.644,58.018,82.708,65.954,72.909,65.954z"/>\r</svg>\r',uploader:{location:"Atlanta, Georgia, US",name:"Michael Gluzman",permalink:"/Gluzman"}},{id:"33",svg:'<?xml version="1.0" encoding="utf-8"?>\r<!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  -->\r<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\r<svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r	 width="52.66px" height="99.959px" viewBox="0 0 52.66 99.959" enable-background="new 0 0 52.66 99.959" xml:space="preserve">\r<path d="M24.4,32.602c-0.018,3.233-2.977,6.711-6.812,6.711v54.794c-0.001,7.803-10.607,7.803-10.623,0V39.313\r	c-3.722,0-6.972-2.88-6.965-7.168V1.951C-0.007-0.67,3.787-0.771,3.812,2.053v22.313h3.153V1.848c0-2.407,3.652-2.563,3.661,0.103\r	v22.415h3.251V1.899c0.024-2.539,3.573-2.64,3.558,0.102v22.365h3.255V1.899c-0.012-2.513,3.695-2.615,3.711,0.102V32.602\r	L24.4,32.602z"/>\r<path d="M52.66,8.965v85.142c0.014,7.606-10.612,7.493-10.622,0V60.304h-5.643V8.965C36.389-2.988,52.674-2.988,52.66,8.965\r	L52.66,8.965z"/>\r</svg>\r',uploader:""},{id:"7378",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M96.31,63.93c-3.829-1.862-24.952-12.277-29.228-14.29c-4.165-1.958-7.471,0.324-9.203,1.624  c-1.732,1.3-2.816,1.19-3.682,0.433s-1.949-3.139,0.108-7.253c2.058-4.113,5.089-3.465,7.902-2.382  c2.816,1.083,18.841,8.877,26.634,12.016c7.795,3.142,6.277,0.022,5.306-1.514c-0.753-1.188-5.306-7.146-7.581-9.853  c-2.271-2.707-0.131-5.944,1.19-9.743c1.603-4.595,3.272-10.991,1.985-15.444c-1.759-6.1-6.527-6.864-11.232-3.216  c-2.563,1.988-7.424,7.618-7.424,7.618H28.887c0,0-4.86-5.63-7.424-7.618c-4.705-3.648-9.472-2.883-11.232,3.216  c-1.286,4.454,0.383,10.849,1.984,15.444c1.324,3.799,3.464,7.037,1.19,9.743c-2.274,2.707-6.826,8.665-7.578,9.853  c-0.974,1.536-2.49,4.655,5.304,1.514c7.796-3.139,23.819-10.933,26.633-12.016c2.815-1.083,5.847-1.731,7.903,2.382  c2.057,4.114,0.974,6.496,0.108,7.253s-1.948,0.867-3.681-0.433c-1.732-1.299-5.041-3.582-9.202-1.624  C28.615,51.652,7.494,62.067,3.662,63.93c-3.14,1.526-3.358,3.411,0.182,5.371c3.755,2.076,19.532,9.987,24.201,12.035  c5.462,2.398,9.719,3.164,9.719,1.973c0-1.19-4.005-4.114-4.005-7.902c0-3.79,4.33-7.038,6.17-8.229  c1.841-1.19,4.114,1.408,5.088,3.141c0.975,1.733-0.433,3.248-1.732,4.979c-1.299,1.732-1.84,4.981,0.108,6.604  c1.924,1.601,11.262,1.601,13.186,0c1.949-1.623,1.407-4.872,0.109-6.604c-1.301-1.731-2.708-3.246-1.732-4.979  c0.974-1.732,3.247-4.331,5.087-3.141c1.842,1.191,6.172,4.439,6.172,8.229c0,3.788-4.007,6.712-4.007,7.902  c0,1.191,4.258,0.426,9.719-1.973c4.668-2.048,20.447-9.959,24.202-12.035C99.669,67.341,99.453,65.456,96.31,63.93z M36.207,61.345  c-2.182,0-3.951-1.768-3.951-3.951c0-2.183,1.769-3.951,3.951-3.951c2.183,0,3.952,1.769,3.952,3.951  C40.159,59.577,38.39,61.345,36.207,61.345z M63.766,61.345c-2.182,0-3.951-1.768-3.951-3.951c0-2.183,1.77-3.951,3.951-3.951  c2.183,0,3.951,1.769,3.951,3.951C67.717,59.577,65.948,61.345,63.766,61.345z"/></svg>',uploader:{location:"Omaha, US",name:"Andrea Gourley",permalink:"/andreakgourley"}},{id:"28868",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M79.236,48.382l0.658-0.06c-0.788-8.699-8.871-15.436-18.464-15.436c-0.087,0-0.174,0-0.262,0.001  c-4.615,0.071-8.927,1.653-12.273,4.446c-2.482-1.072-5.251-1.667-8.155-1.635c-3.933,0.053-7.573,1.193-10.561,3.13L23.373,10.71  l-2.916,0.706l7.131,29.46c-1.294,1.228-2.397,2.632-3.239,4.194L13.462,21.673l-2.72,1.266l11.839,25.443H10.603v1.5  c0,21.729,17.671,39.407,39.393,39.407c21.727,0,39.402-17.678,39.402-39.407v-1.5H79.236z M61.212,35.888  c0.074-0.001,0.148-0.001,0.224-0.001c7.967,0,14.678,5.438,15.44,12.495H58.938c-1.092-3.894-3.678-7.224-7.151-9.494  C54.453,37.003,57.726,35.942,61.212,35.888z M40.779,38.7c6.995-0.095,13.013,3.982,15.02,9.683H26.172  C28.171,42.781,34.059,38.791,40.779,38.7z M49.995,86.29c-19.565,0-35.573-15.524-36.362-34.907h42.836  c0.001,0.004,0.002,0.008,0.002,0.012l0.13-0.012h29.767C85.578,70.765,69.564,86.29,49.995,86.29z"/></svg>',uploader:{location:"Sydney, New South Wales, AU",name:"Gosia Gasiorowski",permalink:"/goshahh"}},{id:"5930",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="71.467px" height="71.465px" viewBox="0 0 71.467 71.465" enable-background="new 0 0 71.467 71.465" xml:space="preserve"><path fill="#000000" d="M71.234,13.542l-56.999,0.002l-2.332-7.772L0,5.772v4.668l8.651,0.001l8.074,22.71l9.258,25.224H57.24  v-4.607H29.208l-2.872-9.26h34.741L71.234,13.542z M24.656,39.9l-2.488-5.277l-5.943-16.437l48.725,0.001L57.603,39.9H24.656z"/><path fill="#000000" d="M35.892,66.186c0,2.562-2.077,4.64-4.639,4.64c-2.562,0-4.639-2.077-4.639-4.64  c0-2.562,2.078-4.64,4.639-4.64C33.815,61.546,35.892,63.624,35.892,66.186z"/><path fill="#000000" d="M57.097,66.163c0,2.55-2.067,4.616-4.618,4.616c-2.55,0-4.615-2.066-4.615-4.616s2.065-4.617,4.615-4.617  C55.029,61.546,57.097,63.613,57.097,66.163z"/></svg>',uploader:{location:"Rotterdam, NL",name:"Bram van Rijen",permalink:"/Nozzman"}},{id:"29989",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M23.398,78.551c-10.564,0-16.754-7.578-18.203-15.088c-1.396-7.24,1.227-16.158,10.083-20.347  C16.314,29.525,27.946,21.45,38.999,21.45c6.225,0,11.983,2.396,16.394,6.785c2.352-1.396,4.976-2.125,7.685-2.125  c4.735,0,9.338,2.235,12.311,5.978c2.395,3.015,3.498,6.663,3.209,10.472c10.883,0.463,16.57,9.319,16.57,18.069  c0,4.673-1.563,9.03-4.404,12.271c-3.242,3.697-7.859,5.651-13.354,5.651L23.398,78.551z M38.999,25.45  c-9.481,0-19.475,7.128-19.788,19.056c-0.021,0.798-0.515,1.507-1.255,1.804c-7.692,3.082-9.979,10.455-8.833,16.396  c1.054,5.464,5.425,11.846,14.275,11.846l54.011-0.001c9.504,0,13.758-6.992,13.758-13.922c0-7.094-4.656-14.755-14.762-14.042  c-0.631,0.049-1.25-0.214-1.662-0.697s-0.57-1.133-0.427-1.751c0.808-3.477,0.076-6.874-2.061-9.564  c-2.222-2.796-5.652-4.466-9.179-4.466c-2.423,0-4.766,0.805-6.773,2.327c-0.839,0.635-2.024,0.512-2.716-0.279  C49.818,27.832,44.637,25.45,38.999,25.45z"/></svg>',uploader:{location:"Moscow, Moscow, RU",name:"Mourad Mokrane",permalink:"/molumen"}},{id:"1141",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="82px" height="82px" viewBox="0 0 82 82" enable-background="new 0 0 82 82" xml:space="preserve"><path d="M41,1C18.909,1,1,18.908,1,41c0,22.091,17.909,40,40,40c22.092,0,40-17.909,40-40C81,18.908,63.092,1,41,1z M41,54.333  c-7.364,0-13.334-5.97-13.334-13.333c0-7.364,5.97-13.333,13.334-13.333c7.364,0,13.334,5.97,13.334,13.333  C54.334,48.363,48.364,54.333,41,54.333z"/><circle cx="41" cy="41" r="1"/></svg>',uploader:{location:"US",name:"Max Thorson",permalink:"/thorsonmscott"}},{id:"2",svg:'<?xml version="1.0" encoding="utf-8"?>\r<!-- Generator: Adobe Illustrator 14.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 43363)  -->\r<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\r<svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r	 width="37.207px" height="100px" viewBox="0 0 37.207 100" enable-background="new 0 0 37.207 100" xml:space="preserve">\r<circle cx="18.118" cy="8.159" r="8.159"/>\r<path d="M8.472,95.426c0,2.524,2.05,4.574,4.574,4.574c2.529,0,4.576-2.05,4.576-4.574l0.004-38.374h2.037L19.65,95.426\r	c0,2.524,2.048,4.574,4.574,4.574s4.573-2.05,4.573-4.574l0.02-66.158h2.006v24.38c0,4.905,6.398,4.905,6.384,0v-24.9\r	c0-5.418-3.184-10.728-9.523-10.728L9.396,18.012C3.619,18.012,0,22.722,0,28.599v25.05c0,4.869,6.433,4.869,6.433,0v-24.38h2.048\r	L8.472,95.426z"/>\r</svg>\r',uploader:""},{id:"5271",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100px" height="67px" viewBox="0 0 100 67" enable-background="new 0 0 100 67" xml:space="preserve"><circle fill="#000000" cx="86.75" cy="26.046" r="0.602"/><path fill="#000000" d="M99.97,29.455c-0.058-1.15-0.507-2.121-1.646-2.121c-0.475,0-1.995,0.453-3.346,0.252  c-1.376-0.203-2.584-1.066-3.186-1.527c-1.475-1.127-3.205-5.732-5.963-7.596c-0.536-0.363-1.584-1.057-2.022-1.531  c-0.459-0.498-0.616-1.324-0.616-1.982c0-0.742,0.235-1.418,0.625-2.041c0.952-1.527-1.81-1.701-2.713-1.701  c-1.558,0-3.032,0.592-4.482,1.102c-1.114,0.391-2.867,0.41-4.207-0.385c-1.697-1.01-3.093-2.506-4.714-3.647  c-1.743-1.228-3.594-2.302-5.515-3.228C55.61,1.877,48.262,0.412,40.982,0.412c-12.008,0-26.186,4.583-33.44,14.134  c-0.05,0.078-0.1,0.137-0.15,0.209c-0.092,0.125-0.18,0.25-0.27,0.377c-1.204,1.559-2.418,1.859-3.771,1.291  c-0.996-0.42-1.516-1.174-1.633-2.191c-0.159-1.393,0.717-2.27,1.832-2.35c1.251-0.09,2.071,0.777,2.031,1.713  c-0.016,0.365-0.292,0.918-0.996,1.115c-0.776,0.219-1.243-0.527-1.473-0.379c-0.181,0.115,0.139,0.896,0.617,1.115  c1.224,0.561,2.051,0.039,2.576-0.652c0.423-0.555,0.545-0.84,0.603-1.607c0.094-1.244-0.988-3.166-3.417-3.031  c-2.342,0.128-3.814,2.178-3.463,4.613c0.204,1.418,1.25,3.012,2.705,3.725c0.44,0.215,0.914,0.336,1.391,0.432  c0.971,0.197,0.465,0.789,0.21,1.365c-0.375,0.846-0.619,1.783-0.84,2.678c-0.467,1.891-0.688,3.838-0.688,5.787  c0,18.9,9.929,17.838,11.309,28.455c0.101,0.777,0.174,1.568,0.383,2.326c0.211,0.762,0.583,1.461,0.98,2.141  c0.398,0.68,0.822,1.344,1.246,2.01c0.548,0.857,1.061,2.035,1.989,2.543c0.653,0.359,1.225,0.338,1.943,0.34  c0.687,0.002,3.859-0.014,4.758-0.035c0.442-0.012,2.022,0.014,2.108-0.377c0.061-0.275-0.283-0.537-0.431-0.729  c-0.189-0.244-0.364-0.506-0.52-0.773c-0.336-0.576-0.592-1.195-0.796-1.83c-0.393-1.215-0.6-2.486-0.724-3.756  c-0.114-1.166-0.486-3.293,0.63-4.152c1.328-1.021,5.162,0.312,6.698,0.568c2.841,0.475,5.722,0.703,8.601,0.703  c1.854,0,3.708-0.096,5.552-0.289c0.942-0.098,1.889-0.211,2.822-0.375c0.638-0.113,1.741-0.203,2.4-0.234  c0.827-0.041,2.128,0.217,2.924,1.092c0.957,1.053,1.123,4.965,1.858,6.033c0.426,0.619,2.82,3.715,3.555,4.076  c0.213,0.104,0.563,0.062,0.791,0.072c0.555,0.02,1.11,0.021,1.666,0.023c1.396,0.004,2.791-0.01,4.187-0.023  c0.453-0.004,1.342,0.17,1.635-0.295c0.195-0.307-0.005-0.752-0.135-1.039c-0.202-0.449-0.398-0.904-0.562-1.369  c-3.553-10.064-0.133-14.666,6.437-15.24c1.574-0.139,3.405,0.1,5.774-0.104c5.137-0.438,9.74-6.35,10.841-7.299  c0.773-0.664,2.838-1.641,3.349-2.484c0.242-0.398,0.411-0.682,0.795-0.943c0.859-0.582,2.746-1.045,3.465-1.867  C99.758,34.304,100.029,30.595,99.97,29.455z M87.573,28.169c-0.484,0-0.876-0.393-0.876-0.875c0-0.484,0.392-0.877,0.876-0.877  s0.876,0.393,0.876,0.877C88.449,27.777,88.057,28.169,87.573,28.169z"/></svg>',uploader:{location:"Cagliari, Sardegna, IT",name:"aLf",permalink:"/aLf"}},{id:"29347",svg:'<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="90" height="90" id="svg2" version="1.1" inkscape:version="0.48.4 r9939" sodipodi:docname="New document 5">  <script xlink:href="" id="script3115"/>  <defs id="defs4">    <color-profile name="Compatible-with-Adobe-RGB--1998-" xlink:href="/usr/share/color/icc/colord/AdobeRGB1998.icc" id="color-profile3113"/>  </defs>  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="11.077778" inkscape:cx="45" inkscape:cy="45" inkscape:document-units="px" inkscape:current-layer="layer2" showgrid="true" inkscape:snap-global="true" inkscape:window-width="1855" inkscape:window-height="1176" inkscape:window-x="65" inkscape:window-y="24" inkscape:window-maximized="1" width="90px" borderlayer="false" inkscape:showpageshadow="false" showborder="true" fit-margin-top="1" fit-margin-left="1" fit-margin-right="1" fit-margin-bottom="1" guidecolor="#ff2828" guideopacity="0.50196078" guidehicolor="#1d9600" guidehiopacity="0.50196078" objecttolerance="20" guidetolerance="10000" showguides="false">    <inkscape:grid type="xygrid" id="grid3111" empspacing="10" dotted="true" visible="true" enabled="true" snapvisiblegridlinesonly="true" spacingx="5px" spacingy="5px"/>  </sodipodi:namedview>  <metadata id="metadata7">    <rdf:RDF>      <cc:Work rdf:about="">        <dc:format>image/svg+xml</dc:format>        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>        <dc:title/>      </cc:Work>    </rdf:RDF>  </metadata>  <g inkscape:groupmode="layer" id="layer2" inkscape:label="Layer" style="display:inline" transform="translate(0,-962.36245)">    <path id="path4098" style="fill:#000000;fill-opacity:1;stroke:none;display:inline" d="m 7.3650181,973.44073 75.2284639,0 c 4.08022,0 7.36502,3.2848 7.36502,7.36502 -29.7085,21.88825 -35.15264,27.39995 -43.46116,27.35575 -8.65453,0.029 -17.33832,-7.2758 -46.49734396,-27.35575 0,-4.08022 3.28480006,-7.36502 7.36502006,-7.36502 z m 82.5199039,10.91246 c -29.70851,21.88821 -35.14183,27.40011 -43.45035,27.35591 -8.64199,0.029 -17.33555,-7.2598 -46.39308396,-27.27371 -5e-5,0.0111 0,0.0218 0,0.0329 l 0,49.45081 c 0,4.0803 3.28480006,7.3651 7.36503006,7.3651 l 75.2284639,0 c 4.08022,0 7.36502,-3.2848 7.36502,-7.3651 l 0,-49.45081 z" inkscape:connector-curvature="0"/>  </g></svg>',uploader:{location:"Vidhyanagar, Andhra Pradesh, IN",name:"vijay sekhar",permalink:"/vijay"}},{id:"3635",svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="49.756097561px" height="100px" viewBox="0 0 102.67 205.013" enable-background="new 0 0 102.67 205.013" xml:space="preserve"><g>	<path d="M102.654,51.58c-0.457-23.712-9.016-48.703-9.016-48.703h-3.01c0,0,7.827,23.894,8.245,46.568   c0.418,22.673-7.677,32.673-20.061,39.81c-12.384,7.136-31.556,10.706-47.857,0C14.655,78.549,8.761,68.92,8.176,52.332   C7.593,35.745,18.212,2.877,18.212,2.877h-3.753c0,0-11.611,34.375-10.972,51.724c0.568,15.446,5.748,25.124,19.456,34.963   c1.653,1.187,3.424,2.375,5.332,3.578l-0.002,0.013c0.041,0.02,0.079,0.042,0.12,0.062c0,0,0,0,0,0.001   c1.315,0.826,2.65,1.562,3.996,2.23c8.501,5.316,13.523,12.356,16.257,17.391c1.286,2.685,2.176,5.569,2.479,8.638   c2.876,29.138,2.139,59.617-5.435,69.639c-3.273,4.33-8.039,6.977-12.998,8.568c-8.475,0.545-13.937,1.395-13.942,2.354h0l0,0l0,0   c0,1.643,16.082,2.977,35.919,2.977c18.798,0,34.214-1.197,35.78-2.721c0.454-0.082,0.698-0.17,0.698-0.256   c0-0.088-0.245-0.174-0.699-0.256c-0.866-0.838-5.918-1.578-13.419-2.072c-4.899-1.498-9.596-3.971-12.832-8.252   c-7.574-10.021-7.204-40.754-5.426-69.98c0.308-5.057,2.092-9.517,4.605-13.375c3.258-4.624,8.145-9.822,15.233-13.788   c0.72-0.356,1.426-0.72,2.108-1.096c1.803-0.995,3.52-2.043,5.146-3.168c0.006-0.002,0.015-0.006,0.015-0.006l-0.009,0.002   C96.451,82.726,103.05,72.132,102.654,51.58z"/>	<path d="M92.13,56.629c-8.44,0-16.415-1.938-23.595-5.268c-31.586-14.653-56.286-3.337-56.697-3.346   c-0.137,0.842-0.212,1.695-0.212,2.559c0,12.754,7.272,39.716,41.44,39.716c34.663,0,41.337-19.118,42.568-33.784   C94.474,56.58,93.308,56.629,92.13,56.629z"/></g></svg>',uploader:{location:"Santiago, CL",name:"Paul Philippe Berthelon Bravo",permalink:"/paulberthelon"}}],FONT_WEIGHTS:[{value:"regular",title:"Regular"},{value:"bold",title:"Bold"}],FONT_STYLES:[{value:"regular",title:"Regular"},{value:"italic",title:"Italic"}],FONTS:[{value:"Open Sans",source:"google"},{value:"Londrina Sketch",source:"google"},{value:"Happy Monkey",source:"google"},{value:"Ovo",source:"google"},{value:"Limelight",source:"google"},{value:"Andika",source:"google"},{value:"Josefin Sans",source:"google"},{value:"Monoton",source:"google"},{value:"Life Savers",source:"google"},{value:"Raleway",source:"google"},{value:"Parisienne",source:"google"},{value:"Fauna One",source:"google"},{value:"Belgrano",source:"google"},{value:"Pacifico",source:"google"},{value:"Sniglet",source:"google"},{value:"Arvo",source:"google"},{value:"Crimson Text",source:"google"},{value:"Maven Pro",source:"google"},{value:"ABeeZee",source:"google"},{value:"Cantarell",source:"google"},{value:"Questrial",source:"google"},{value:"Nobile",source:"google"},{value:"Nunito",source:"google"},{value:"Lato",source:"google"},{value:"Montserrat",source:"google"},{value:"Playfair Display",source:"google"},{value:"Georgia"},{value:"Palatino Linotyp"},{value:"Times New Roman"},{value:"Arial"},{value:"Trebuchet MS"},{value:"Verdana"},{value:"Courier New"},{value:"Helvetica"}],getFontDataByValue:function(a){for(var b=0,c=LM.config.FONTS.length;c>b;b++){var d=LM.config.FONTS[b];
if(d.value&&d.value===a)return d}},getDefaultFont:function(){var a=LM.config.getFontDataByValue(LM.config.DEFAULT_FONT);return a?a:LM.config.FONTS[0]},getDefaultSymbol:function(){return LM.config.SYMBOLS[LM.config.DEFAULT_SYMBOL]},getRandomFont:function(){return LM.config.FONTS[Math.floor(Math.random()*LM.config.FONTS.length)]},getRandomSymbol:function(){return LM.config.SYMBOLS[Math.floor(Math.random()*LM.config.SYMBOLS.length)]},getRandomSymbolColor:function(){var a=["#ff5a00","#099cd9","#2aa10e","#ec0869"];return a[Math.floor(Math.random()*a.length)]},getRandomLayout:function(){var a=["symbol-left","symbol-right","symbol-top","symbol-bottom"];return a[Math.floor(Math.random()*a.length)]}},function(){LM.config.SYMBOLS.forEach(function(a){a.type||(a.type="default")}),LM.config.FONTS.forEach(function(a){a.title||(a.title=a.value)}),LM.config.FONTS=LM.config.FONTS.sort(function(a,b){return a.title>b.title?1:a.title<b.title?-1:0})}(),LM.DragDrop=function(){function a(){var a=document.createElement("div");a.className="drag-and-drop-instructions",document.body.appendChild(a),h=document.documentElement,document.addEventListener("dragstart",b,!1),document.addEventListener("dragenter",d,!1),document.addEventListener("dragover",c,!1),document.addEventListener("dragleave",e,!1),document.addEventListener("dragend",f,!1),document.addEventListener("drop",g,!1)}function b(){i=!0}function c(a){i||a.preventDefault()}function d(){i||h.classList.add("drag-and-drop-over")}function e(a){!i&&a.target.classList.contains("drag-and-drop-instructions")&&h.classList.remove("drag-and-drop-over")}function f(){h.classList.remove("drag-and-drop-over")}function g(a){if(!i){h.classList.remove("drag-and-drop-over");var b=a.dataTransfer.files[0];if(b&&"image/svg+xml"===b.type){var c=new FileReader;c.onload=function(){var a=c.result;if(a){var b=[{svg:a}];b=LM.util.symbols.preProcess(b),b=LM.util.symbols.postProcess(b);var d=b[0];d?LM.getEntity("symbol").setValue(b[0]):LM.notify(LM.locale.DRAGDROP_PARSE_ERROR,"negative")}else LM.notify(LM.locale.DRAGDROP_PARSE_ERROR,"negative")},c.readAsText(b)}else LM.notify(LM.locale.DRAGDROP_TYPE_ERROR,"negative");return a.stopPropagation(),a.preventDefault(),!1}i=!1}var h,i=!1;return{init:a}}(),LM.EntityLayout={setLayout:function(a){var b=LM.getEntity("symbol"),c=LM.getEntity("title"),d=LM.getEntity("subtitle"),e=b.measure(),f=c.measure(),g=d.measure(),h=e.width/2,i=e.height/2,j=f.width/2,k=(f.height/2,g.width/2),l=(g.height/2,LM.getCanvasElement().getBoundingClientRect()),m={width:l.width,height:l.height};m.centerX=m.width/2,m.centerY=m.height/2;var n=10,o=e.width+Math.max(f.width,g.width)+n,p=f.height+g.height+(g.height?n:0),q=m.centerY-p/2,r=m.centerY-(e.height+f.height+g.height)/2;switch(a){case"stack":b.move(m.centerX-h,m.centerY-i,{silent:!0,snap:!1}),c.move(m.centerX-j,q,{silent:!0,snap:!1}),d.move(m.centerX-k,q+f.height,{silent:!0,snap:!1});break;case"symbol-left":b.move(m.centerX-o/2,m.centerY-i,{silent:!0,snap:!1}),c.move(m.centerX-o/2+e.width+n,q,{silent:!0,snap:!1}),d.move(m.centerX-o/2+e.width+n,q+f.height,{silent:!0,snap:!1});break;case"symbol-right":b.move(m.centerX+o/2-e.width,m.centerY-i,{silent:!0,snap:!1}),c.move(m.centerX-o/2-n,q,{silent:!0,snap:!1}),d.move(m.centerX-o/2-n,q+f.height,{silent:!0,snap:!1});break;case"symbol-top":b.move(m.centerX-h,r,{silent:!0,snap:!1}),c.move(m.centerX-j,r+e.height+n,{silent:!0,snap:!1}),d.move(m.centerX-k,r+e.height+f.height,{silent:!0,snap:!1});break;case"symbol-bottom":b.move(m.centerX-h,r+p,{silent:!0,snap:!1}),c.move(m.centerX-j,r,{silent:!0,snap:!1}),d.move(m.centerX-k,r+f.height,{silent:!0,snap:!1})}LM.layout(),LM.sync()},align:{_summarize:function(a){var b={medianX:0,medianY:0,maxWidth:0,maxHeight:0};return a.forEach(function(a){var c=a.measure();b.medianX+=c.x+c.width/2,b.medianY+=c.y+c.height/2,b.maxWidth=Math.max(c.width,b.maxWidth),b.maxHeight=Math.max(c.height,b.maxHeight)}),b.medianX/=a.length,b.medianY/=a.length,b},_bounds:function(a){var b={left:Number.MAX_VALUE,top:Number.MAX_VALUE,right:0,bottom:0};return a.forEach(function(a){var c=a.measure();b.left=Math.min(c.x,b.left),b.top=Math.min(c.y,b.top),b.right=Math.max(c.x+c.width,b.right),b.bottom=Math.max(c.y+c.height,b.bottom)}),b.centerX=b.left+(b.right-b.left)/2,b.centerY=b.top+(b.bottom-b.top)/2,b},vt:function(a){var b=LM.EntityLayout.align._bounds(a);a.forEach(function(a){a.move(null,b.top,{snap:!1})})},vc:function(a){var b=LM.EntityLayout.align._bounds(a);a.forEach(function(a){a.move(null,b.centerY-a.measure().height/2,{snap:!1})})},vb:function(a){var b=LM.EntityLayout.align._bounds(a);a.forEach(function(a){a.move(null,b.bottom-a.measure().height,{snap:!1})})},hl:function(a){var b=LM.EntityLayout.align._bounds(a);a.forEach(function(a){a.move(b.left,null,{snap:!1})})},hc:function(a){var b=LM.EntityLayout.align._bounds(a);a.forEach(function(a){a.move(b.centerX-a.measure().width/2,null,{snap:!1})})},hr:function(a){var b=LM.EntityLayout.align._bounds(a);a.forEach(function(a){a.move(b.right-a.measure().width,null)})}}},LM.Export={getFileName:function(a){var b=LM.toJSON().title.value;return(b?b+"-logo":"logo")+a},getLogoBounds:function(a){a="number"==typeof a?a:50;var b=LM.getEntity("symbol"),c=LM.getEntity("title"),d=LM.getEntity("subtitle"),e=b.measure(),f=c.measure(),g=d.measure(),h={x:999999,y:999999,right:0,bottom:0,width:0,height:0},i=[];return b.isVisible()&&i.push(e),c.isVisible()&&i.push(f),d.isVisible()&&i.push(g),i.forEach(function(a){h.x=Math.min(h.x,a.x),h.y=Math.min(h.y,a.y),h.right=Math.max(h.right,a.x+a.width),h.bottom=Math.max(h.bottom,a.y+a.height)}),h.x-=a,h.y-=a,h.right+=a,h.bottom+=a,h.width=h.right-h.x,h.height=h.bottom-h.y,h},getLogoAsSVG:function(a){a=a||{},a.symbolOffsetY=a.symbolOffsetY||0,a.titleOffsetY=a.titleOffsetY||0,a.subtitleOffsetY=a.subtitleOffsetY||0;var b=LM.getEntity("symbol"),c=LM.getEntity("title"),d=LM.getEntity("subtitle"),e=b.measure(),f=c.measure(),g=d.measure(),h=LM.Export.getLogoBounds();e.x-=h.x,e.y-=h.y,f.x-=h.x,f.y-=h.y,g.x-=h.x,g.y-=h.y;var i=document.createElement("div");i.innerHTML=(new XMLSerializer).serializeToString(LM.getCanvasElement()),i.style.position="absolute",i.style.width=0,i.style.height=0,i.style.left=0,i.style.top=0,i.style.opacity=0,document.body.appendChild(i);var j=i.querySelector("svg"),k=j.querySelector("#symbol"),l=j.querySelector("#title"),m=j.querySelector("#subtitle"),n=l&&l.querySelector("text"),o=m&&m.querySelector("text");if(a.watermark){var p,q=LM.util.svg.create("text");q.attr({x:10,fill:"#000000",opacity:.5,"font-size":"10px","font-family":"Helvetica","font-weight":400,"dominant-baseline":"text-before-edge","alignment-baseline":"text-before-edge"}),q.appendTo(j),q.textContent=LM.locale.WATERMARK_PART_1+" – "+LM.locale.WATERMARK_PART_2,p=q.getBBox(),h.width<p.width+5&&(q.innerHTML=['<tspan x="10">'+LM.locale.WATERMARK_PART_1+"</tspan>",'<tspan x="10" dy="14">'+LM.locale.WATERMARK_PART_2+"</tspan>"],p=q.getBBox()),q.attr("y",h.height-p.height-5)}if("white"===a.color&&(LM.util.svg.changeColor(j,"#ffffff"),l&&LM.util.intersects(f,e)&&n.setAttribute("fill","#000000"),m&&LM.util.intersects(g,e)&&o.setAttribute("fill","#000000")),"black"===a.color&&(LM.util.svg.changeColor(j,"#000000"),l&&LM.util.intersects(f,e)&&n.setAttribute("fill","#ffffff"),m&&LM.util.intersects(g,e)&&o.setAttribute("fill","#ffffff")),[].slice.call(j.querySelectorAll("*")).forEach(function(a){"0"===a.getAttribute("stroke-width")&&(a.removeAttribute("stroke"),a.removeAttribute("stroke-width"))}),!n||"central"!==n.getAttribute("dominant-baseline")&&"central"!==n.getAttribute("alignment-baseline")||(n.setAttribute("dominant-baseline","middle"),n.setAttribute("alignment-baseline","middle"),a.titleOffsetY+=f.height/2),!o||"central"!==o.getAttribute("dominant-baseline")&&"central"!==o.getAttribute("alignment-baseline")||(o.setAttribute("dominant-baseline","middle"),o.setAttribute("alignment-baseline","middle"),a.subtitleOffsetY+=g.height/2),a.bitmap&&LM.util.ua.isFirefox()&&(a.titleOffsetY+=.8*c.getVerticalSpacing(),a.subtitleOffsetY+=.8*d.getVerticalSpacing()),a.symbolOffsetY&&(e.y+=a.symbolOffsetY),a.titleOffsetY&&(f.y+=a.titleOffsetY),a.subtitleOffsetY&&(g.y+=a.subtitleOffsetY),!!k&&k.setAttribute("transform","translate("+e.x+","+e.y+") scale("+b.getTransform().scale.join(",")+")"),!!l&&l.setAttribute("transform","translate("+f.x+","+f.y+") scale("+c.getTransform().scale.join(",")+")"),!!m&&m.setAttribute("transform","translate("+g.x+","+g.y+") scale("+d.getTransform().scale.join(",")+")"),j.setAttribute("width",Math.max(h.width,1)),j.setAttribute("height",Math.max(h.height,1)),j.removeAttribute("viewBox"),a.bitmap){[].slice.call(j.querySelectorAll("text")).forEach(function(a){a.setAttribute("alignment-baseline","top")});var r=[].slice.call(j.attributes),s=new RegExp("^(width|height|viewBox)$");r.forEach(function(a){s.test(a.name)||j.removeAttribute(a.name)})}return document.body.removeChild(i),i.innerHTML},getLogoAsSVG64:function(a){return"data:image/svg+xml;base64,"+LM.Export.getLogoAsSVG(a)},getLogoBitmapSize:function(a,b){var c=LM.Export.getLogoBounds();a=a||LM.config.BITMAP_OUTPUT_HD_SIZE,b=b||LM.config.BITMAP_OUTPUT_HD_SIZE;var d=Math.min(a/c.width,b/c.height);return{width:Math.round(c.width*d),height:Math.round(c.height*d)}},getLogoAsBitmap:function(a){a=a||{},a.bitmap=!0;var b=LM.Export.getLogoBitmapSize(a.maxWidth,a.maxHeight),c=document.createElement("canvas");return c.setAttribute("id","export-canvas"),c.width=b.width,c.height=b.height,document.body.appendChild(c),c.getContext("2d").drawSvg(LM.Export.getLogoAsSVG(a),0,0,b.width,b.height),document.body.removeChild(c),c.toDataURL("image/png")}},LM.Focus=function(){function a(a){q=a,r=new LM.toolbar.Align(this),r.appendTo(LM.getElement()),s=document.createElement("div"),s.className="selection-marker",document.addEventListener("keydown",p),LM.getCanvasElement().addEventListener("mousedown",i)}function b(){var a=[].slice.call(arguments);for(var b in q){var c=q[b];("*"===a[0]||a.indexOf(c.name)>-1)&&c.isVisible()?c.focus():c.blur()}h()}function c(a){var b=q[a];b&&b.blur(),h()}function d(a){var b=q[a];b&&b.focus(),h()}function e(){for(var a in q)q[a].blur();h()}function f(a){var b=[];for(var c in q){var d=q[c];d.isFocused()&&d!==a&&b.push(d)}return b}function g(){return f().length}function h(){var a=f();if(0===a.length)r.hide();else if(1===a.length)a[0].getToolbar().show(),r.hide();else if(a.length>1){for(var b in q)q[b].getToolbar().hide();r.show()}}function i(a){a.target===LM.getCanvasElement()?j(a):LM.util.dom.hasParent(a.target,"logo-entity")&&(m(a),a.preventDefault())}function j(a){var b=LM.getCanvasWrapperElement(),c=b.getBoundingClientRect();t.x=a.clientX-c.left,t.y=a.clientY-c.top,s.style.left=t.x+"px",s.style.top=t.y+"px",s.style.width="1px",s.style.height="1px",b.appendChild(s),window.addEventListener("mousemove",k),window.addEventListener("mouseup",l)}function k(a){var b=LM.getCanvasWrapperElement().getBoundingClientRect(),c=a.clientX-b.left,d=a.clientY-b.top,e=c-t.x,f=d-t.y;s.style.left=t.x+(0>e?e:0)+"px",s.style.top=t.y+(0>f?f:0)+"px",s.style.width=Math.abs(e)+"px",s.style.height=Math.abs(f)+"px",a.preventDefault()}function l(){var a=[],c={x:parseInt(s.style.left,10),y:parseInt(s.style.top,10),width:parseInt(s.style.width,10),height:parseInt(s.style.height,10)};for(var d in q){var e=q[d];LM.util.intersects(e.measure(),c,0)&&a.push(e.name)}b.apply(this,a),LM.getCanvasWrapperElement().removeChild(s),window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",l)}function m(a){u=f(),u.forEach(function(a){a.memorize()}),1===u.length&&LM.Guides.start(u[0]),v.x=a.clientX-LM.getCanvasWrapperElement().getBoundingClientRect().left,v.y=a.clientY,window.addEventListener("mousemove",n),window.addEventListener("mouseup",o)}function n(a){for(var b=a.clientX-LM.getCanvasWrapperElement().getBoundingClientRect().left,c=a.clientY,d=u[0].offset(b-v.x,c-v.y),e=1;e<u.length;e++)u[e].offset(d.x,d.y,{snap:!1});LM.Guides.sync(),a.preventDefault()}function o(){LM.Guides.stop(),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",o)}function p(a){document.activeElement&&"INPUT"===document.activeElement.nodeName||65===a.keyCode&&(a.metaKey||a.ctrlKey)&&(b("*"),a.preventDefault())}var q,r,s,t={},u=[],v={};return{init:a,set:b,get:f,append:d,remove:c,clear:e,size:g}}(),LM.Guides=function(){function a(a){k=a,j=document.createElement("div"),j.className="guides",LM.getCanvasWrapperElement().appendChild(j)}function b(a){LM.Options.get("grid_guides")&&(l=a)}function c(){l=null,f()}function d(){if(n.length=0,l){var a=e(l.measure(),l.name);for(var b in k){var c=k[b];if(c!==l){var d=e(c.measure(),c.name),i=!1,j=!1;a.h.forEach(function(a){d.h.forEach(function(b){!i&&Math.abs(a.value-b.value)<m&&(i=!0,g(b),l.move(b.value+a.offset,null,{snap:!1}))})}),a.v.forEach(function(a){d.v.forEach(function(b){!j&&Math.abs(a.value-b.value)<m&&(j=!0,h(b),l.move(null,b.value+a.offset,{snap:!1}))})})}}}f(n)}function e(a,b){return{h:[{value:a.x,offset:0,id:b+"-h1"},{value:a.x+a.width/2,offset:-a.width/2,id:b+"-h2"},{value:a.x+a.width,offset:-a.width,id:b+"-h3"}],v:[{value:a.y,offset:0,id:b+"-v1"},{value:a.y+a.height/2,offset:-a.height/2,id:b+"-v2"},{value:a.y+a.height,offset:-a.height,id:b+"-v3"}]}}function f(a){var b=LM.util.toArray(j.querySelectorAll(".guide-v, .guide-h"));a&&a.length&&(b=b.filter(function(b){return-1===a.indexOf(b.getAttribute("data-guide-id"))})),b.forEach(function(a){j.removeChild(a)})}function g(a){i(a,"vertical")}function h(a){i(a,"horizontal")}function i(a,b){if(!document.querySelector('[data-guide-id="'+a.id+'"]')){var c=document.createElement("div");c.setAttribute("data-guide-id",a.id),j.appendChild(c),"horizontal"===b?(c.className="guide-h",c.style.top=a.value+"px"):(c.className="guide-v",c.style.left=a.value+"px"),setTimeout(function(){c.classList.add("show")},1)}n.push(a.id)}var j,k,l,m=6,n=[];return{init:a,start:b,stop:c,sync:d}}(),LM.History=function(){function a(){j=new signals.Signal,k=new signals.Signal,document.addEventListener("keydown",i)}function b(a){if(a=a||{},clearTimeout(u),"number"==typeof a.delay)return u=setTimeout(b.bind(this,a),a.delay),void delete a.delay;var c=Date.now();if(c-t>m||a.skipTimeLimit){t=Date.now();var d={data:JSON.stringify(LM.toJSON())},e=q[q.length-1],f=r[r.length-1];for(e&&d.data===e.data||f&&d.data===f.data||(r.length&&q.push(r.pop()),r.length=0,q.push(d),s=n);q.length>l;)q.shift()}}function c(){var a=q.pop();return a&&s!==o&&(r.push(a),a=q.pop()),a&&(s=o,r.push(a),t=Date.now(),LM.fromJSON(JSON.parse(a.data)),j.dispatch(a)),a}function d(){var a=r.pop();return a&&s!==p&&(q.push(a),a=r.pop()),a&&(s=p,q.push(a),t=Date.now(),LM.fromJSON(JSON.parse(a.data)),k.dispatch(a)),a}function e(){return q.length>0}function f(){return r.length>0}function g(){return r.length+q.length}function h(){q=[],r=[],t=-1,s=n}function i(a){document.activeElement&&"INPUT"===document.activeElement.nodeName||((a.metaKey||a.ctrlKey)&&89===a.keyCode?(d(),a.preventDefault()):(a.metaKey||a.ctrlKey)&&a.shiftKey&&90===a.keyCode?(d(),a.preventDefault()):(a.metaKey||a.ctrlKey)&&90===a.keyCode&&(b({skipTimeLimit:!0}),c(),a.preventDefault()))}var j,k,l=100,m=2500,n=1,o=2,p=3,q=[],r=[],s=n,t=-1,u=-1;return{init:a,push:b,undo:c,redo:d,size:g,reset:h,canUndo:e,canRedo:f}}(),LM.locale={SETTINGS_TITLE_PLACEHOLDER:"Name",SETTINGS_SUBTITLE_PLACEHOLDER:"Tagline",SETTINGS_SAVE_LOGO:"Save Logo",SETTINGS_NO_SYMBOL:"No Icon",SEARCH_PLACEHOLDER:"Search for symbols",SEARCH_ERROR:"An error occured while searching, please try again",TOOLBAR_ALIGNMENT:"Alignment",TOOLBAR_LAYOUT:"Layout",TOOLBAR_FILL_COLOR:"Fill color",TOOLBAR_BORDER_COLOR:"Border color",TOOLBAR_BORDER_WIDTH:"Border width",TOOLBAR_BORDER_RADIUS:"Border radius",TOOLBAR_FONT_COLOR:"Font color",TOOLBAR_FONT_FAMILY:"Font family",TOOLBAR_FONT_WEIGHT:"Font weight",TOOLBAR_FONT_STYLE:"Font style",TOOLBAR_LETTERSPACING:"Letter-spacing",SAVE_SAMPLE_CTA:"Download low res",SAVE_SAMPLE_CTA_CLOSE:"Close",SAVE_BUY_CTA:"Download high res",SAVE_BUY_CTA_CLOSE:"Close",PURCHASE_DESCRIPTION:"Your logo is ready. Which version would you like?",SAVE_SEND_SUCCESS:"All set, check your inbox!",SAVE_SEND_ERROR:"An error occured, please double check your info",SAVE_PURCHASE_SUCCESS:"All set, check your inbox!",SAVE_PURCHASE_ERROR:"An error occured, please double check your info",PURCHASE_AUTH_SUCCESS:"All set, check your inbox!",PURCHASE_AUTH_ERROR:"An error occured, please double check your info",SAVE_FIRSTNAME_INVALID:"Please enter your first name",SAVE_LASTNAME_INVALID:"Please enter your last name",SAVE_EMAIL_INVALID:"Please enter a valid email",SAVE_PASSWORD_INVALID:"Please enter your password",SAVE_CC_CARD_INVALID:"Please enter a valid card number",SAVE_CC_CVC_INVALID:"Please enter a valid security code",SAVE_CC_MONTH_INVALID:"Please enter a valid month",SAVE_CC_YEAR_INVALID:"Please enter a valid year",SAVE_FIRSTNAME_PLACEHOLDER:"First name",SAVE_LASTNAME_PLACEHOLDER:"Last name",SAVE_EMAIL_PLACEHOLDER:"Email",SAVE_PASSWORD_PLACEHOLDER:"Password",SAVE_CC_CARD_PLACEHOLDER:"Card number",SAVE_CC_CVC_PLACEHOLDER:"CVC",SAVE_CC_MONTH_PLACEHOLDER:"MM",SAVE_CC_YEAR_PLACEHOLDER:"YY",SAVE_RESUME_EDITING:"Back to Editing",DOWNLOAD_RESUME_EDITING:"Edit Logo",DOWNLOAD_CTA:"Download",DRAGDROP_TYPE_ERROR:"SVG files only, please",DRAGDROP_PARSE_ERROR:"Image couldn't be parsed",GRID_TOGGLE_GUIDES:"Guides",GRID_TOGGLE_SNAPPING:"Snap to grid",GRID_CHANGE_STYLE:"Grid style",GRID_CHANGE_SIZE:"Grid size",WATERMARK_PART_1:"SQUARESPACE.COM/LOGO",WATERMARK_PART_2:"ICONS BY THE NOUN PROJECT",CONFIRM_INVALIDATE_PURCHASED_LOGO:"Changing this invalidates the logo. You'll need to pay to download it again."},LM.notify=function(a,b){LM.notify_lastmessage&&LM.notify_lastmessage.message===a&&LM.notify_lastmessage.visible()&&LM.notify_lastmessage.destroy();var c=document.querySelector(".notifications");c||(c=document.createElement("div"),c.className="notifications",LM.getElement().appendChild(c));var d=2500+15*a.length,e=600,f=document.createElement("p");f.innerHTML=a,f.className=b||"",c.insertBefore(f,c.firstChild),setTimeout(function(){f.classList.add("show"),setTimeout(function(){f&&f.classList.remove("show"),f&&f.classList.add("hide"),setTimeout(function(){f&&f.parentNode&&c.removeChild(f)},e)},d)},1),LM.notify_lastmessage={message:a,visible:function(){return!!f.parentNode},destroy:function(){f.parentNode&&c.removeChild(f)}}},LM.Options=function(){function a(a){c[a]&&c[a].forEach(function(c){c.call(null,b[a])})}var b={grid_guides:!0,grid_snap:!1,grid_size:LM.config.CANVAS_SNAP_SIZE,grid_style:"light"},c={};return{on:function(a,b){c[a]=c[a]||[],c[a].push(b)},off:function(a){delete c[a]},set:function(c,d){b[c]=d,a(c)},get:function(a){return b[a]},toJSON:function(){return JSON.parse(JSON.stringify(b))},fromJSON:function(a){for(var b in a)LM.Options.set(b,a[b])}}}(),LM.Session=function(){function a(a){return a.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function b(a){return a=(a+"===").slice(0,a.length+a.length%4),a.replace(/-/g,"+").replace(/_/g,"/")}function c(b,c){return b=LM.util.extend(b,c),a(LZString.compressToBase64(JSON.stringify(b)))}function d(a){return JSON.parse(LZString.decompressFromBase64(b(a)))}function e(a){window.location.hash=c(LM.toJSON(),a)}function f(a){a(d(window.location.hash.slice(1)))}return{serialize:c,deserialize:d,save:e,load:f}}(),LM.util={distanceBetween:function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},intersection:function(a,b){return{width:Math.max(0,Math.min(a.x+a.width,b.x+b.width)-Math.max(a.x,b.x)),height:Math.max(0,Math.min(a.y+a.height,b.y+b.height)-Math.max(a.y,b.y))}},intersects:function(a,b,c){"undefined"==typeof c&&(c=.5);var d=LM.util.intersection(a,b);return d.width>a.width*c&&d.height>a.height*c},toArray:function(a){return Array.prototype.slice.call(a)},validateEmail:function(a){return new RegExp("^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$","gi").test(a)},validateCreditCard:function(a){return"number"==typeof a&&(a=a.toString()),a&&a.length>=14&&a.length<=16},validateCreditCardMonth:function(a){return"number"==typeof a&&(a=a.toString()),a&&2===a.length},validateCreditCardYear:function(a){return"number"==typeof a&&(a=a.toString()),a&&2===a.length},validateCreditCardCVC:function(a){return"number"==typeof a&&(a=a.toString()),a&&a.length>1},popup:function(a,b,c){var d=screen.width,e=screen.height,f=Math.round(d/2-b/2),g=0;e>c&&(g=Math.round(e/2-c/2)),window.open(a,"","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+b+",height="+c+",left="+f+",top="+g)},popupTwitter:function(){var a=encodeURIComponent(LM.getLogoURL({source:"social"})),b=encodeURIComponent("Check out my new logo!");LM.util.popup("https://twitter.com/intent/tweet/?url="+a+"&text="+b+"&hashtags=logo",550,420)},popupFacebook:function(){var a=encodeURIComponent(LM.getLogoURL({source:"social"})),b=encodeURIComponent("Check out my new logo");LM.util.popup("http://www.facebook.com/sharer.php?u="+a+"&t="+b,550,420)},extend:function(a,b){a=a||{},b=b||{};for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},getQuery:function(){var a={};return location.search.replace(/[A-Z0-9]+?=([\w%]*)/gi,function(b){a[b.split("=").shift()]=unescape(b.split("=").pop())}),a}},LM.util.io={_trackEvent:function(a,b,c){window.Y&&window.Y.Squarespace&&window.Y.Squarespace.Analytics&&"function"==typeof window.Y.Squarespace.Analytics.trackInternal?window.Y.Squarespace.Analytics.trackInternal(a,b,c):console.log("trackEvent",a,b)},trackEngagement:function(a,b,c){this._trackEvent("engagement_logomark_"+a,b,c)}},LM.util.ua={supports2DTransforms:function(){return"WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style},supportsClassList:function(){return!!document.body.classList},isOSX:function(){return new RegExp(/Mac OS X/).test(navigator.userAgent)},isFirefox:function(){return new RegExp(/firefox\/[A-Z0-9\.]{2,4}/gi).test(navigator.userAgent)},isIE:function(){return new RegExp(/MSIE\s\d\d/gi).test(navigator.userAgent)},isMobile:function(){return navigator.userAgent.match(/(iphone|ipod|android)/gi)},isTablet:function(){return navigator.userAgent.match(/(ipad)/gi)}},LM.util.dom={contain:function(a,b,c,d,e){var f=Math.min(Math.min(d/b,e/c),1),g=Math.round((d-b*f)/2),h=Math.round((e-c*f)/2);LM.util.dom.transform(a,"scale("+f+") translate("+g+"px,"+h+"px)")},transform:function(a,b,c){c?(a.style["-webkit-transform"]+=b,a.style["-moz-transform"]+=b,a.style["-ms-transform"]+=b,a.style.transform+=b):(a.style["-webkit-transform"]=b,a.style["-moz-transform"]=b,a.style["-ms-transform"]=b,a.style.transform=b)},transition:function(a,b){a.style["-webkit-transition"]=b,a.style["-moz-transition"]=b,a.style["-ms-transition"]=b,a.style.transition=b},getParent:function(a,b){for(;a;){if("string"==typeof b&&a.classList&&a.classList.contains(b))return a;if("function"==typeof b&&b(a))return a;if(a===b)return a;a=a.parentNode}return null},hasParent:function(a,b){return!!LM.util.dom.getParent(a,b)}},LM.util.svg={SVG_NAMESPACE:"http://www.w3.org/2000/svg",XLINK_NAMESPACE:"http://www.w3.org/1999/xlink",createDocument:function(a){var b=LM.util.svg.create("svg");return b.attr({version:"1.1",xmlns:LM.util.svg.SVG_NAMESPACE,"xmlns:xlink":LM.util.svg.XLINK_NAMESPACE}),a&&b.attr(a),b},defs:function(a){var b=a.querySelector("defs");return b||(b=LM.util.svg.create("defs"),a.appendChild(b)),b},create:function(a){var b=document.createElementNS(LM.util.svg.SVG_NAMESPACE,a);return b.attr=function(a,c){if("object"==typeof a)for(var d in a)this.attr(d,a[d]);else{if("string"==typeof a&&void 0===c)return this.getAttribute(c);a&&null!==a&&0===a.indexOf("xlink")?this.setAttributeNS(LM.util.svg.XLINK_NAMESPACE,a,c):this.setAttribute(a,c)}return b},b.css=function(a,b){if(1===arguments.length&&"object"==typeof a)for(var c in a)this.style[c]=a[c];else{if(2!==arguments.length)throw"Invalid argument list in [svgElement].css()";this.style[a]=b}return this},b.appendTo=function(a){return a&&a.appendChild&&a.appendChild(this),this},b.remove=function(){return b.parentNode&&b.parentNode.removeChild(b),this},b.classList={toArray:function(){var a=b.getAttribute("class");return a?a.split(" "):[]},add:function(){var a=b.classList.toArray();a.push([].slice.call(arguments)),b.setAttribute("class",a.join(" "))},remove:function(a){var c=b.classList.toArray(),d=c.indexOf(a);-1!==d&&c.splice(d,1),b.setAttribute("class",c.join(" "))},contains:function(a){return-1!==b.classList.toArray().indexOf(a)}},b},changeColor:function(a,b,c){b=b||"#000000",c=c||b;var d=a.querySelectorAll("*");Array.prototype.slice.call(d).forEach(function(a){var d=a.getAttribute("fill"),e=a.getAttribute("stroke");/^(path|polygon|polyline|line|ellipse|circle|rect)$/gi.test(a.nodeName)?("none"!==d&&a.setAttribute("fill",b),e&&"none"!==e&&a.setAttribute("stroke",b)):/^text$/gi.test(a.nodeName)&&a.setAttribute("fill",c),a.style&&(a.style.fill=""),a.style&&(a.style.stroke="")})},normalize:function(a,b,c){var d,e=Number.MAX_VALUE,f=Number.MAX_VALUE,g=[].slice.call(a.querySelectorAll("path, polygon, polyline, line, ellipse, circle, rect"));g.forEach(function(a){try{d=a.getBBox()}catch(b){d={x:0,y:0,width:0,height:0}}(d.width>0||d.height>0)&&(e=Math.min(e,d.x),f=Math.min(f,d.y))}),e=-e,f=-f,e+=b||0,f+=c||0,g.forEach(function(a){a.setAttribute("transform","translate("+e+","+f+")")})},getViewBoxFromString:function(a){var b=a.match(/viewbox="[\s\d]*"/gi);return b&&b.length&&(b=b[0].replace(/[viewBox|"|=]/gi,""),b=b.split(" ")),b&&4===b.length&&(b={x:parseInt(b[0],10)||0,y:parseInt(b[1],10)||0,width:parseInt(b[2],10)||0,height:parseInt(b[3],10)||0}),b}},LM.util.font={hasLoadedAllFonts:!1,load:function(a,b){var c={google:{families:a.families},active:b};"string"==typeof a.text&&a.text.length&&(c.google.text=a.text),WebFont.load(c)},loadAll:function(a){if(LM.util.font.hasLoadedAllFonts===!1){LM.util.font.hasLoadedAllFonts=!0;var b=[];LM.config.FONTS.forEach(function(a){"google"===a.source&&b.push(a.value)});var c=50,d=function(){!function(){var e=b.shift();e?LM.util.font.load({families:[e]},function(){setTimeout(d,c)}):"function"==typeof a&&a.call()}()};d()}}},LM.util.symbols={search:function(a,b,c){reqwest({url:LM.config.SERVER_SEARCH,type:"json",method:"get",data:{searchTerm:encodeURIComponent(a)},success:function(a){if(a&&"string"!=typeof a.error){if(b){var d=a.icons;d=LM.util.symbols.preProcess(d),d=LM.util.symbols.postProcess(d),b.apply(null,[d])}}else c&&c.apply(null,[500])},error:function(a){c&&c.apply(null,[a.status])}})},preProcess:function(a){return a=a.map(function(a){var b=a.svg,c=LM.util.svg.getViewBoxFromString(b);return b=b.replace(/<\?xml\b[^>]*>/gi,""),b=b.replace(/<\!DOCTYPE\b[^>]*>/gi,""),b=b.replace(/<!--[\s\S]*?-->/g,""),b=b.replace(/<svg\b[^>]*>/gi,""),b=b.replace(/<\/svg\>/gi,""),b=b.replace(/[\t\r\n]/gi,""),b=b.trim(),b=b.replace(/<metadata\b[^>]*>(.*?)<\/metadata\b[^>]*>/gi,""),b=b.replace(/<inkscape\b[^>]*>(.*?)<\/inkscape\b[^>]*>/gi,""),b=b.replace(/<sodipodi\b[^>]*>(.*?)<\/sodipodi\b[^>]*>/gi,""),b=b.replace(/inkscape:(.*?)=\"(.*?)\"/gi,""),b=b.replace(/sodipodi:(.*?)=\"(.*?)\"/gi,""),b=b.replace(/sketch:(.*?)=\"(.*?)\"/gi,""),a.type="noun",a.svg=b,a.w=100,a.h=100,c&&(a.viewBox=c),a})},postProcess:function(a){var b=document.createElement("div");document.body.appendChild(b);var c={too_long:0,too_many_children:0,invisible:0,nested_paths:0,out_of_bounds:0,out_of_viewbox:0};a.forEach(function(a){var d=LM.util.svg.createDocument({width:LM.config.SYMBOL_SIZE,height:LM.config.SYMBOL_SIZE}),e=LM.util.svg.create("g").appendTo(d);e.innerSVG=a.svg,e.setAttribute("data-noun-id",a.id||""),e.setAttribute("data-attribution",a.attribution||""),b.appendChild(d),[].slice.call(e.querySelectorAll("#Captions, metadata, switch, * defs")).forEach(function(a){a.parentNode.removeChild(a)}),LM.util.svg.normalize(e);var f=e.getBoundingClientRect(),g=Math.min(LM.config.SYMBOL_SIZE/f.width,LM.config.SYMBOL_SIZE/f.height);isFinite(g)===!1&&(g=1),e.setAttribute("transform","scale("+g+")"),a.svg=d.innerHTML;var h=e.getBoundingClientRect();a.w=h.width,a.h=h.height,LM.util.dom.transform(e,"translate("+LM.config.SYMBOL_THUMB_PADDING+"px, "+LM.config.SYMBOL_THUMB_PADDING+"px) scale("+g+")"),a.svg_preview=d.innerHTML;var i=e.getBBox();(i.x+i.width<0||i.y+i.height<0||i.x>LM.config.SYMBOL_SIZE||i.y>LM.config.SYMBOL_SIZE)&&(a.invalid=!0,c.out_of_bounds++),a.viewBox&&(f.width>a.viewBox.width+10||f.height>a.viewBox.height+10)&&(a.invalid=!0,c.out_of_viewbox++),e.querySelector("path, polygon, polyline, line, ellipse, circle, rect")||(a.invalid=!0,c.invisible++),e.querySelector("path path")&&(a.invalid=!0,c.nested_paths++),e.querySelectorAll("*").length>70&&(a.invalid=!0,c.too_many_children++),a.svg.length>3e4&&(a.invalid=!0,c.too_long++)}.bind(this));for(var d=0;d<a.length;d++)a[d]&&a[d].invalid&&(a.splice(d,1),d--);return console.log("Symbol cleanup",c),document.body.removeChild(b),a}},LM.namespace("components").ColorPicker=Klass.extend({init:function(a){this.config=a,this.render()},render:function(){this.domElement=document.createElement("div"),this.domElement.className="color",this.config.container.appendChild(this.domElement),this.picker=new ColorPicker(this.domElement,this.config.onChange)},show:function(){this.domElement.classList.add("visible"),this.deferredColor&&(this.picker.setHex(this.deferredColor),this.deferredColor=null)},hide:function(){this.domElement.classList.remove("visible")},toggle:function(){this.isVisible()?this.hide():this.show()},isVisible:function(){return this.domElement.classList.contains("visible")},setValue:function(a){this.picker.setHex(a),this.isVisible()||(this.deferredColor=a)}}),LM.namespace("components").FontList=Klass.extend({init:function(a){this.config=a,this.selected=LM.config.getDefaultFont(),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.render(),this.sync()},render:function(){this.domElement=document.createElement("ul"),this.domElement.className="fontlist",this.config.container.appendChild(this.domElement),LM.config.FONTS.forEach(function(a){var b=document.createElement("li");b.setAttribute("data-value",a.value),b.innerHTML=a.title,b.style.fontFamily=a.value,b.addEventListener("mousedown",function(a){return this.setValue(a.value),!1}.bind(this,a),!1),this.domElement.appendChild(b)}.bind(this))},sync:function(){var a=LM.util.toArray(this.domElement.querySelectorAll("li"));a.forEach(function(a){a.getAttribute("data-value")===this.selected.value?a.classList.add("selected"):a.classList.remove("selected")}.bind(this))},scroll:function(){var a=this.domElement.querySelector('[data-value="'+this.selected.value+'"]');a&&"function"==typeof a.scrollIntoViewIfNeeded&&a.scrollIntoViewIfNeeded(!0)},show:function(){this.domElement.classList.add("visible"),document.addEventListener("keydown",this.onDocumentKeyDown,!1),this.scroll(),this.config.onShow&&this.config.onShow.call(null)},hide:function(){this.domElement.classList.remove("visible"),document.removeEventListener("keydown",this.onDocumentKeyDown,!1),this.config.onHide&&this.config.onHide.call(null)},toggle:function(){this.isVisible()?this.hide():this.show()},isVisible:function(){return this.domElement.classList.contains("visible")},setValue:function(a,b){LM.config.FONTS.forEach(function(c){c.value===a&&(this.selected=c,this.sync(),b||"function"!=typeof this.config.onChange||(this.config.onChange.call(null,c),LM.util.io.trackEngagement("change_font",{font_family:c.value})))}.bind(this))},onDocumentKeyDown:function(a){var b,c=this.domElement.querySelector('[data-value="'+this.selected.value+'"]');c&&(38===a.keyCode?b=c.previousSibling:40===a.keyCode?b=c.nextSibling:13===a.keyCode&&(this.setValue(c.getAttribute("data-value")),this.hide()),b&&b.hasAttribute("data-value")&&(this.setValue(b.getAttribute("data-value")),this.scroll()))}}),LM.namespace("components").LoadingOverlay=Klass.extend({init:function(){this.render(),this.showTimeout=setTimeout(function(){this.domElement.classList.add("visible")
}.bind(this),1)},render:function(){this.domElement=document.createElement("div"),this.domElement.className="loading-overlay",LM.getElement().appendChild(this.domElement),this.spinnerElement=document.createElement("div"),this.spinnerElement.className="spinner-wrapper",this.domElement.appendChild(this.spinnerElement),this.spinner=new Spinner({color:"#ddd",lines:16,radius:16,length:7,width:2.5,zIndex:"auto",top:"auto",left:"auto",className:"spinner"}),this.spinner.spin(this.spinnerElement)},destroy:function(){clearTimeout(this.showTimeout),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement)}}),LM.namespace("components").Promoter=Klass.extend({init:function(){this.logoFileName=LM.Export.getFileName(".png"),this.logoFile=LM.Export.getLogoAsBitmap({watermark:!0,maxWidth:LM.config.BITMAP_OUTPUT_SD_SIZE,maxHeight:LM.config.BITMAP_OUTPUT_SD_SIZE}),this.render(),this.bind(),this.showTimeout=setTimeout(function(){this.domElement.classList.add("visible")}.bind(this),1)},render:function(){this.domElement=document.createElement("div"),this.domElement.className="promoter",this.innerElement=document.createElement("div"),this.innerElement.className="inner",this.domElement.appendChild(this.innerElement),this.descriptionElement=document.createElement("p"),this.descriptionElement.className="description",this.descriptionElement.textContent="Made with Squarespace Logo",this.innerElement.appendChild(this.descriptionElement),this.resetButton=document.createElement("button"),this.resetButton.className="create",this.resetButton.textContent="Create your own",this.innerElement.appendChild(this.resetButton),this.saveButton=document.createElement("a"),this.saveButton.className="save",this.saveButton.setAttribute("href",this.logoFile),this.saveButton.setAttribute("download",this.logoFileName),this.saveButton.textContent="Save image",this.innerElement.appendChild(this.saveButton)},bind:function(){this.resetButton.addEventListener("click",this.onResetButtonClicked.bind(this),!1),this.saveButton.addEventListener("click",this.onSaveButtonClicked.bind(this),!1)},appendTo:function(a){a.appendChild(this.domElement)},isVisible:function(){return this.domElement.classList.contains("visible")},destroy:function(){clearTimeout(this.showTimeout),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement)},onResetButtonClicked:function(){LM.reset()},onSaveButtonClicked:function(){}}),LM.namespace("components").Typer=Klass.extend({INTERVAL:150,INTERVAL_PAUSE:1e3,init:function(a,b){this.input=a,this.value=b,this.steps=[],this.step=0,this.model(),this.bind()},model:function(){var a=this.value.split(""),b="";this.steps.length=0,this.steps.push({value:"PAUSE"}),this.steps.push({value:"PAUSE"});for(var c=-1;++c<a.length;)b+=a[c],this.steps.push({value:b});for(this.steps.push({value:"PAUSE"}),this.steps.push({value:"PAUSE"});c&&c--;)b=b.slice(0,c),this.steps.push({value:b,factor:.5})},bind:function(){this.next=this.next.bind(this),this.stop=this.stop.bind(this),this.input.addEventListener("mousedown",this.stop),this.input.addEventListener("mouseover",this.stop),this.input.addEventListener("keydown",this.stop)},start:function(){this.next()},next:function(){clearInterval(this.thimeout),this.step+=1,this.step=this.step;var a=this.steps[this.step];a?"PAUSE"===a.value?this.thimeout=setTimeout(this.next,this.INTERVAL_PAUSE*(a.factor||1)):(this.input.value=a.value?a.value:"",this.thimeout=setTimeout(this.next,this.INTERVAL*(a.factor||1))):this.stop()},stop:function(){clearInterval(this.thimeout),this.input.value="",this.input.removeEventListener("mousedown",this.stop),this.input.removeEventListener("mouseover",this.stop),this.input.removeEventListener("keydown",this.stop)},onInputMouseDown:function(){this.stop()},onInputKeyDown:function(){this.stop()}}),LM.namespace("entity").Base=Klass.extend({init:function(a,b){this.type=a,this.name=b,this.dragging=!1,this.resizing=!1,this.focused=!1,this.empty=!1,this.uniform=!0,this.lastClickTime=-1,this.offsetOrigin={x:0,y:0},this.resizeOrigin={x:0,y:0,width:0,height:0},this.transform={x:0,y:0,scale:[1,1]},this.render(),this.bind(),this.show()},render:function(){this.domElement=LM.util.svg.create(this.type),this.domElement.attr({id:this.name,"class":"logo-entity"}),this.innerElement=LM.util.svg.create("g"),this.innerElement.attr({"class":"logo-entity-inner"}),this.innerElement.appendTo(this.domElement)},bind:function(){this.blur=this.blur.bind(this),this.focus=this.focus.bind(this),this.onDoubleClick=this.onDoubleClick.bind(this),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.onResizerMouseDown=this.onResizerMouseDown.bind(this),this.onResizeMouseMove=this.onResizeMouseMove.bind(this),this.onResizeMouseUp=this.onResizeMouseUp.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.domElement.addEventListener("mousedown",this.onElementMouseDown,!1)},show:function(){this.isEmpty()||this.domElement.appendTo(LM.getCanvasElement())},hide:function(){this.isVisible()&&LM.getCanvasElement().removeChild(this.domElement)},isVisible:function(){return!!this.domElement.parentNode},isEmpty:function(){return this.empty},isFocused:function(){return this.focused},measure:function(a){if(a=a||{},this.isVisible()){var b=this.domElement.getBoundingClientRect(),c=0,d={x:b.left-c,y:b.top-c,width:b.width+2*c,height:b.height+2*c};if(!a.global){var e=LM.getCanvasWrapperElement().getBoundingClientRect();d.x-=e.left,d.y-=e.top}return d.bottom=d.y+d.height,d.right=d.x+d.width,d.area=d.width*d.height,d}return{x:0,y:0,width:0,height:0,bottom:0,right:0,area:0}},layout:function(){this.toolbar&&this.toolbar.layout()},move:function(a,b,c){if(c=c||{},"undefined"==typeof c.snap&&(c.snap=!0),"undefined"==typeof c.silent&&(c.silent=!1),"number"==typeof a&&(this.transform.x=a),"number"==typeof b&&(this.transform.y=b),c.snap&&LM.Options.get("grid_snap")){var d=LM.Options.get("grid_size");this.transform.x=d/2+Math.floor(this.transform.x/d)*d,this.transform.y=d/2+Math.floor(this.transform.y/d)*d}else"number"==typeof a&&(this.transform.x=a),"number"==typeof b&&(this.transform.y=b);this.applyTransform(),this.syncResizer(),LM&&!c.silent&&LM.sync()},offset:function(a,b,c){return this.move(this.offsetOrigin.x+a,this.offsetOrigin.y+b,c),{x:this.transform.x-this.offsetOrigin.x,y:this.transform.y-this.offsetOrigin.y}},memorize:function(){this.offsetOrigin.x=this.transform.x,this.offsetOrigin.y=this.transform.y},scale:function(a){"number"==typeof a&&(this.transform.scale[0]=a,this.transform.scale[1]=a),this.applyTransform(),this.syncResizer(),LM&&LM.sync()},applyTransform:function(){var a=Math.round(1e3*this.transform.scale[0])/1e3,b=Math.round(1e3*this.transform.scale[1])/1e3,c="translate("+this.transform.x+", "+this.transform.y+")",d="scale("+a+","+b+")";a===b&&(d="scale("+a+")"),this.domElement.attr("transform",c+" "+d)},syncResizer:function(){if(this.transformer){var a=this.measure();this.transformer.style.left=a.x+"px",this.transformer.style.top=a.y+"px",this.transformer.style.width=a.width+"px",this.transformer.style.height=a.height+"px"}},focus:function(){this.focused||(this.focused=!0,this.domElement.classList.add("focused"),document.addEventListener("keydown",this.onKeyPress,!1),this.toolbar.show(),this.transformer=document.createElement("div"),this.transformer.className="transformer",LM.getCanvasWrapperElement().appendChild(this.transformer),this.transformer.innerHTML=['<div class="anchor" data-direction="nw"></div>','<div class="anchor" data-direction="ne"></div>','<div class="anchor" data-direction="sw"></div>','<div class="anchor" data-direction="se"></div>'].join(""),this.transformer.addEventListener("mousedown",this.onResizerMouseDown,!1),this.syncResizer())},blur:function(){this.focused&&(this.focused=!1,this.domElement.classList.remove("focused"),document.removeEventListener("keypress",this.onKeyPress,!1),this.toolbar.hide(),this.transformer&&(this.transformer.removeEventListener("click",this.onResizerMouseDown,!1),LM.getCanvasWrapperElement().removeChild(this.transformer)))},getTransform:function(){return JSON.parse(JSON.stringify(this.transform))},getToolbar:function(){return this.toolbar},onElementMouseDown:function(a){return Date.now()-this.lastClickTime<200?(this.lastClickTime=-1,this.onDoubleClick(),!1):(0===LM.Focus.size()||!a.shiftKey&&1===LM.Focus.size()?LM.Focus.set(this.name):a.shiftKey&&this.focused?(LM.Focus.remove(this.name),this.focusCaptured=!0):a.shiftKey&&!this.focused&&(LM.Focus.append(this.name),this.focusCaptured=!0),this.lastClickTime=Date.now(),void this.domElement.addEventListener("mouseup",this.onElementMouseUp,!1))},onElementMouseUp:function(){return this.focusCaptured?(this.focusCaptured=!1,!1):(this.focused||LM.Focus.set(this.name),void this.domElement.removeEventListener("mouseup",this.onElementMouseUp,!1))},onResizerMouseDown:function(a){if(this.currentAnchor=a.target,this.currentAnchor.classList.contains("anchor")){this.currentAnchor.classList.add("dragging"),this.resizeDirection=this.currentAnchor.getAttribute("data-direction");var b=this.measure();this.resizeOrigin.mouseX=a.clientX,this.resizeOrigin.mouseY=a.clientY,this.resizeOrigin.width=b.width,this.resizeOrigin.height=b.height,this.resizeOrigin.x=this.transform.x,this.resizeOrigin.y=this.transform.y,this.resizeOrigin.scale=this.transform.scale.concat(),this.resizing=!0,window.addEventListener("mousemove",this.onResizeMouseMove,!1),window.addEventListener("mouseup",this.onResizeMouseUp,!1),a.preventDefault()}},onResizeMouseMove:function(a){if(this.resizing){var b="n"===this.resizeDirection.charAt(0),c="w"===this.resizeDirection.charAt(1),d=a.shiftKey&&a.altKey,e=a.clientX-this.resizeOrigin.mouseX,f=a.clientY-this.resizeOrigin.mouseY;c&&(e=-e),b&&(f=-f);var g=(e+f)/2;d&&(g=2*g);var h=g/this.resizeOrigin.width*this.resizeOrigin.scale[0];if(this.uniform||a.shiftKey)this.transform.scale[0]=this.resizeOrigin.scale[0]+h,this.transform.scale[1]=this.transform.scale[0];else{var i=e/this.resizeOrigin.width*this.resizeOrigin.scale[0],j=f/this.resizeOrigin.height*this.resizeOrigin.scale[1];this.transform.scale[0]=this.resizeOrigin.scale[0]+i,this.transform.scale[1]=this.resizeOrigin.scale[1]+j}this.transform.scale[0]=Math.max(this.transform.scale[0],.01),this.transform.scale[1]=Math.max(this.transform.scale[1],.01),c&&(this.transform.x=this.resizeOrigin.x+this.resizeOrigin.width-this.resizeOrigin.width/this.resizeOrigin.scale[0]*this.transform.scale[0]),b&&(this.transform.y=this.resizeOrigin.y+this.resizeOrigin.height-this.resizeOrigin.height/this.resizeOrigin.scale[1]*this.transform.scale[1]),d&&(this.transform.x=this.resizeOrigin.x+this.resizeOrigin.width/2-this.resizeOrigin.width/this.resizeOrigin.scale[0]*this.transform.scale[0]/2,this.transform.y=this.resizeOrigin.y+this.resizeOrigin.height/2-this.resizeOrigin.height/this.resizeOrigin.scale[1]*this.transform.scale[1]/2),this.applyTransform(),this.syncResizer(),LM&&LM.sync()}a.preventDefault()},onResizeMouseUp:function(a){window.removeEventListener("mousemove",this.onResizeMouseMove,!1),window.removeEventListener("mouseup",this.onResizeMouseUp,!1),this.currentAnchor&&this.currentAnchor.classList.remove("dragging"),this.resizing&&LM.History.push({skipTimeLimit:!0}),this.resizing=!1,a.preventDefault()},onKeyPress:function(a){if(!this.toolbar.isUsingKeyboard()&&(!document.activeElement||"INPUT"!==document.activeElement.nodeName)&&this.focused){var b=0,c=0,d=a.shiftKey?LM.Options.get("grid_size"):1;switch(a.keyCode){case 37:b=-d;break;case 39:b=d;break;case 38:c=-d;break;case 40:c=d}(0!==b||0!==c)&&(this.transform.x+=b,this.transform.y+=c,this.applyTransform(),this.syncResizer(),LM.sync(),LM.History.push({delay:1,skipTimeLimit:!0}))}},onDoubleClick:function(){"INPUT"===document.activeElement.nodeName&&document.activeElement.blur()},remove:function(){"title"===this.name?LM.setTitleValue(""):"subtitle"===this.name?LM.setSubtitleValue(""):"symbol"===this.name&&LM.getEntity("symbol").setValue(null),this.toolbar.hide()},toJSON:function(){return JSON.parse(JSON.stringify({transform:this.transform}))},fromJSON:function(a){this.setValue(a.value),this.transform=a.transform,this.applyTransform()},destroy:function(){window.removeEventListener("mousemove",this.onResizeMouseMove,!1),window.removeEventListener("mouseup",this.onResizeMouseUp,!1),document.removeEventListener("keydown",this.onKeyPress,!1),this.domElement.removeEventListener("mousedown",this.onElementMouseDown,!1),window.removeEventListener("mouseup",this.onElementMouseUp,!1),this.toolbar&&this.toolbar.destroy(),this.transformer&&(this.transformer.removeEventListener("mousedown",this.onResizerMouseDown,!1),this.transformer=null),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement)}}),LM.namespace("entity").Symbol=LM.entity.Base.extend({init:function(){this._super("g","symbol"),this.fillColor=LM.config.DEFAULT_SYMBOL_COLOR,this.borderColor=LM.config.DEFAULT_BORDER_COLOR,this.borderWidth=LM.config.DEFAULT_BORDER_WIDTH,this.borderRadius=LM.config.DEFAULT_BORDER_RADIUS,this.transform.scale[0]=1.6,this.transform.scale[1]=1.6,this.setValue(LM.config.getDefaultSymbol(),!0),this.setFillColor(this.fillColor,!0),this.setBorderColor(this.borderColor,!0)},render:function(){this._super(),this.defsElement=LM.getCanvasElement().querySelector("defs"),this.toolbar=new LM.toolbar.Symbol(this),this.toolbar.appendTo(LM.getElement())},paint:function(a){if(LM.util.svg.changeColor(this.innerElement,this.fillColor),this.isPrimitive()){var b=this.innerElement.querySelector("#primitive-symbol");b&&(b.setAttribute("stroke",this.borderColor),b.setAttribute("stroke-width",this.borderWidth)),this.isPrimitiveRectangle()&&(b.setAttribute("rx",this.borderRadius),b.setAttribute("ry",this.borderRadius))}this.syncResizer(),!a&&LM&&LM.sync()},setValue:function(a,b){LM.discardPurchase(function(){this.clipElement&&this.clipElement.remove(),this.value=a,this.empty=!this.value;var c=this.measure();if(this.empty?(this.symbolID=null,this.innerElement.innerHTML="",this.hide()):(this.symbolID=this.value.id,this.show(),this.innerElement.innerHTML=this.value.svg),LM.setAttribution(this.value&&this.value.uploader?this.value.uploader:null),LM.util.svg.normalize(this.innerElement),this.isPrimitive()&&LM.config.BORDERS_ENABLED===!0){var d=this.domElement.querySelector("#primitive-symbol");this.clipElement=LM.util.svg.create("clipPath"),this.clipElement.attr({id:"symbol-clip"}),this.clipElement.innerHTML=d.parentNode.innerHTML,this.clipElement.appendTo(this.defsElement),d.parentNode.setAttribute("clip-path","url(#symbol-clip)")}this.toolbar.setPrimitive(this.isPrimitive()),this.uniform=!this.isPrimitive(),this.uniform&&(this.transform.scale[0]=Math.min(this.transform.scale[0],this.transform.scale[1]),this.transform.scale[1]=this.transform.scale[0]),this.paint(b);var e=this.measure();if(c.area>10&&e.area>10){var f=(c.width-e.width)/2,g=(c.height-e.height)/2;this.memorize(),this.offset(f,g)}}.bind(this))},setFillColor:function(a,b){this.fillColor=a,this.paint(b)},setBorderColor:function(a,b){this.borderColor=a,this.paint(b)},setBorderWidth:function(a,b){this.borderWidth=a,this.paint(b)},setBorderRadius:function(a,b){this.borderRadius=a,this.paint(b)},getSymbolID:function(){return this.symbolID},isPrimitive:function(){return this.value&&"primitive"===this.value.type},isPrimitiveRectangle:function(){var a=this.domElement.querySelector("#primitive-symbol");return a?a.nodeName.match(/rect/gi):null},toJSON:function(){var a=this._super();return a.value=this.value,a.fillColor=this.fillColor,a.borderColor=this.borderColor,a.borderWidth=this.borderWidth,a.borderRadius=this.borderRadius,a},fromJSON:function(a){this._super(a),this.fillColor=a.fillColor||LM.config.DEFAULT_COLOR,this.borderColor=a.borderColor||LM.config.DEFAULT_COLOR,this.borderWidth="number"==typeof a.borderWidth?a.borderWidth:LM.config.DEFAULT_BORDER_WIDTH,this.borderRadius="number"==typeof a.borderRadius?a.borderRadius:LM.config.DEFAULT_BORDER_RADIUS,this.toolbar.fromJSON(a),this.paint()}}),LM.namespace("entity").Text=LM.entity.Base.extend({init:function(a){this.fontSize="title"===a?80:30,this.fillColor=LM.config.DEFAULT_FONT_COLOR,this.fontFamily=LM.config.getDefaultFont().value,this.letterSpacing=LM.config.DEFAULT_LETTER_SPACING,this._super("g",a),this.paint(!0)},render:function(){this._super(),this.textElement=LM.util.svg.create("text"),this.textElement.textContent="",this.textElement.attr({"font-size":this.fontSize+"px","dominant-baseline":"text-before-edge","alignment-baseline":"text-before-edge"}),this.textElement.appendTo(this.innerElement),this.toolbar=new LM.toolbar.Text(this,this.name),this.toolbar.appendTo(LM.getElement())},paint:function(a){this.textElement.attr({fill:this.fillColor,"font-family":this.fontFamily,"font-weight":"regular"===this.fontWeight?"":this.fontWeight,"font-style":"regular"===this.fontStyle?"":this.fontStyle}),this.syncResizer(),!a&&LM&&LM.sync()},getVerticalSpacing:function(){try{return(this.textElement.getBBox().height-this.fontSize)*this.transform.scale[1]}catch(a){}return 0},setValue:function(a,b){this.value=a,this.empty=!a,this.empty?this.hide():(this.show(),this.textElement.textContent=a),this.syncResizer(),!b&&LM&&LM.sync()},setLetterSpacing:function(a,b){this.letterSpacing=a,this.paint(b)},setFontFamily:function(a,b){this.fontFamily=a,this.paint(b)},setFontWeight:function(a,b){this.fontWeight=a,this.paint(b)},setFontStyle:function(a,b){this.fontStyle=a,this.paint(b)},setColor:function(a,b){this.fillColor=a,this.paint(b)},toJSON:function(){var a=this._super();return a.value=this.value,a.letterSpacing=this.letterSpacing,a.fontFamily=this.fontFamily,a.fontWeight=this.fontWeight,a.fontStyle=this.fontStyle,a.fillColor=this.fillColor,a},onDoubleClick:function(){LM.getView("settings").setFocus(this.name)},fromJSON:function(a){this._super(a),"undefined"!=typeof a.letterSpacing&&(this.letterSpacing=a.letterSpacing),"undefined"!=typeof a.fontFamily&&(this.fontFamily=a.fontFamily),"undefined"!=typeof a.fontWeight&&(this.fontWeight=a.fontWeight),"undefined"!=typeof a.fontStyle&&(this.fontStyle=a.fontStyle),"undefined"!=typeof a.fillColor&&(this.fillColor=a.fillColor),this.toolbar.fromJSON(a),this.paint()}}),LM.namespace("toolbar").Base=Klass.extend({init:function(a){this.name=a,this.visible=!1,this.layout=this.layout.bind(this),this.render(),this.bind()},render:function(){this.domElement=document.createElement("aside"),this.domElement.className="toolbar "+this.name,this.innerElement=document.createElement("div"),this.innerElement.className="inner",this.domElement.appendChild(this.innerElement)},bind:function(){},layout:function(){var a=LM.getEditorElement();this.domElement.style.left=a.offsetLeft+(a.offsetWidth-this.domElement.offsetWidth)/2+"px"},show:function(){this.visible||(this.visible=!0,this.domElement.classList.add("visible"),LM.getElement().classList.add("toolbar-visible"),this.layout(),window.addEventListener("resize",this.layout,!1))},hide:function(){this.visible&&(this.visible=!1,this.domElement.classList.remove("visible"),LM.getElement().classList.remove("toolbar-visible"),window.removeEventListener("resize",this.layout,!1))},isUsingKeyboard:function(){return!1},appendTo:function(a){a.appendChild(this.domElement)},destroy:function(){this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement)}}),LM.namespace("toolbar").Align=LM.toolbar.Base.extend({init:function(a){this.focusedEntities=a,this._super("align")},render:function(){this._super(),this.domElement.innerHML=this.name,this.innerElement.innerHTML=['<section class="align flex-width">',"<h3>"+LM.locale.TOOLBAR_ALIGNMENT+"</h3>",'<div class="button-group">','<button class="align-option" data-value="vt"></button>','<button class="align-option" data-value="vc"></button>','<button class="align-option" data-value="vb"></button>','<button class="align-option" data-value="hl"></button>','<button class="align-option" data-value="hc"></button>','<button class="align-option" data-value="hr"></button>',"</div>","</section>",'<section class="layout flex-width">',"<h3>"+LM.locale.TOOLBAR_LAYOUT+"</h3>",'<div class="button-group">','<button class="layout-option" data-value="stack"></button>','<button class="layout-option" data-value="symbol-left"></button>','<button class="layout-option" data-value="symbol-right"></button>','<button class="layout-option" data-value="symbol-top"></button>','<button class="layout-option" data-value="symbol-bottom"></button>',"</div>","</section>"].join("")},bind:function(){this._super();var a=this.innerElement.querySelector(".align .button-group"),b=this.innerElement.querySelector(".layout .button-group");a.addEventListener("click",function(a){var b=a.target.getAttribute("data-value");"string"==typeof b&&(LM.EntityLayout.align[b](LM.Focus.get()),LM.util.io.trackEngagement("toolbar_align",{value:b}))}),b.addEventListener("click",function(a){var b=a.target.getAttribute("data-value");"string"==typeof b&&(LM.EntityLayout.setLayout(b),LM.util.io.trackEngagement("toolbar_layout",{value:b}))})},show:function(){this._super()},hide:function(){this._super()}}),LM.namespace("toolbar").Symbol=LM.toolbar.Base.extend({init:function(a){this.entity=a,this._super("symbol")},render:function(){this._super(),this.domElement.innerHML=this.name,this.innerElement.innerHTML=['<section class="fill-color">',"<h3>"+LM.locale.TOOLBAR_FILL_COLOR+"</h3>",'<div class="value-wrapper">','<input type="text" class="value" value="'+LM.config.DEFAULT_SYMBOL_COLOR+'"></input>','<span class="value-box" style="background-color: '+LM.config.DEFAULT_SYMBOL_COLOR+';"></span>',"</div>","</section>",'<section class="border-color">',"<h3>"+LM.locale.TOOLBAR_BORDER_COLOR+"</h3>",'<div class="value-wrapper">','<input type="text" class="value" value="'+LM.config.DEFAULT_BORDER_COLOR+'"></input>','<span class="value-box" style="background-color: '+LM.config.DEFAULT_BORDER_COLOR+';"></span>',"</div>","</section>",'<section class="border-width">',"<h3>"+LM.locale.TOOLBAR_BORDER_WIDTH+"</h3>",'<div class="value-wrapper range">','<input type="range" name="letter-spacing" min="'+LM.config.MIN_BORDER_WIDTH+'" max="'+LM.config.MAX_BORDER_WIDTH+'" value="'+LM.config.DEFAULT_BORDER_WIDTH+'">',"</div>","</section>",'<section class="border-radius">',"<h3>"+LM.locale.TOOLBAR_BORDER_RADIUS+"</h3>",'<div class="value-wrapper range">','<input type="range" name="letter-spacing" min="'+LM.config.MIN_BORDER_RADIUS+'" max="'+LM.config.MAX_BORDER_RADIUS+'" value="'+LM.config.DEFAULT_BORDER_RADIUS+'">',"</div>","</section>"].join(""),this.fillColorSection=this.innerElement.querySelector(".fill-color"),this.fillColorValue=this.fillColorSection.querySelector(".value-wrapper .value"),this.fillColorValueBox=this.fillColorSection.querySelector(".value-wrapper .value-box"),this.fillColorpicker=new LM.components.ColorPicker({container:this.fillColorSection,onChange:function(a){this.fillColorValue.value!==a&&(this.fillColorValue.value=a),this.fillColorValueBox.style.backgroundColor=a,this.entity.setFillColor(a)}.bind(this)}),this.borderColorSection=this.innerElement.querySelector(".border-color"),this.borderColorValue=this.borderColorSection.querySelector(".value-wrapper .value"),this.borderColorValueBox=this.borderColorSection.querySelector(".value-wrapper .value-box"),this.borderColorpicker=new LM.components.ColorPicker({container:this.borderColorSection,onChange:function(a){this.borderColorValue.value!==a&&(this.borderColorValue.value=a),this.borderColorValueBox.style.backgroundColor=a,this.entity.setBorderColor(a)}.bind(this)}),this.borderWidthSection=this.innerElement.querySelector(".border-width"),this.borderWidthRange=this.innerElement.querySelector(".border-width input[type=range]"),this.borderRadiusSection=this.innerElement.querySelector(".border-radius"),this.borderRadiusRange=this.innerElement.querySelector(".border-radius input[type=range]"),LM.config.BORDERS_ENABLED===!1&&this.domElement.classList.add("hide-borders"),this.fillColorpicker.setValue(LM.config.DEFAULT_SYMBOL_COLOR),this.borderColorpicker.setValue(LM.config.DEFAULT_BORDER_COLOR)},bind:function(){this._super(),this.onBorderWidthChange=this.onBorderWidthChange.bind(this),this.onBorderRadiusChange=this.onBorderRadiusChange.bind(this),this.onFillColorSectionClick=this.onFillColorSectionClick.bind(this),this.onBorderColorSectionClick=this.onBorderColorSectionClick.bind(this),this.onFillColorValueChange=this.onFillColorValueChange.bind(this),this.onBorderColorValueChange=this.onBorderColorValueChange.bind(this),this.fillColorValue.addEventListener("change",this.onFillColorValueChange,!1),this.borderColorValue.addEventListener("change",this.onBorderColorValueChange,!1),this.fillColorValue.addEventListener("keyup",this.onFillColorValueChange,!1),this.borderColorValue.addEventListener("keyup",this.onBorderColorValueChange,!1),this.fillColorSection.addEventListener("click",this.onFillColorSectionClick,!1),this.borderColorSection.addEventListener("click",this.onBorderColorSectionClick,!1),this.borderWidthRange.addEventListener("change",this.onBorderWidthChange,!1),this.borderRadiusRange.addEventListener("change",this.onBorderRadiusChange,!1)},show:function(){this._super()},hide:function(){this._super(),this.fillColorpicker.hide(),this.borderColorpicker.hide()},fromJSON:function(a){"string"==typeof a.fillColor&&this.fillColorpicker.setValue(a.fillColor),"string"==typeof a.borderColor&&this.borderColorpicker.setValue(a.borderColor),"number"==typeof a.borderWidth&&(this.borderWidthRange.value=a.borderWidth),"number"==typeof a.borderRadius&&(this.borderRadiusRange.value=a.borderRadius)},setPrimitive:function(a){this.borderColorSection.style.display=a?"inline-block":"none",this.borderWidthSection.style.display=a?"inline-block":"none",this.borderRadiusSection.style.display=this.entity.isPrimitiveRectangle()?"inline-block":"none",this.layout()},onFillColorSectionClick:function(a){var b=!this.fillColorpicker.isVisible()||document.activeElement!==this.fillColorValue;!LM.util.dom.hasParent(a.target,this.fillColorpicker.domElement)&&b&&(this.borderColorpicker.hide(),this.fillColorpicker.toggle())},onBorderColorSectionClick:function(a){var b=!this.borderColorpicker.isVisible()||document.activeElement!==this.borderColorValue;!LM.util.dom.hasParent(a.target,this.borderColorpicker.domElement)&&b&&(this.fillColorpicker.hide(),this.borderColorpicker.toggle())},onFillColorValueChange:function(){this.fillColorpicker.setValue(this.fillColorValue.value)},onBorderColorValueChange:function(){this.borderColorpicker.setValue(this.borderColorValue.value)},onBorderWidthChange:function(){this.entity.setBorderWidth(parseInt(this.borderWidthRange.value,10))},onBorderRadiusChange:function(){this.entity.setBorderRadius(parseInt(this.borderRadiusRange.value,10))}}),LM.namespace("toolbar").Text=LM.toolbar.Base.extend({init:function(a,b){this.entity=a,this._super(b)},render:function(){this._super(),this.innerElement.innerHTML=['<section class="font-family">',"<h3>"+LM.locale.TOOLBAR_FONT_FAMILY+"</h3>",'<div class="value-wrapper">','<span class="value" style="font-family: \''+LM.config.getDefaultFont().value+"';\">"+LM.config.getDefaultFont().title+"</span>","</div>","</section>",'<section class="font-color">',"<h3>"+LM.locale.TOOLBAR_FONT_COLOR+"</h3>",'<div class="value-wrapper">','<input type="text" class="value" value="'+LM.config.DEFAULT_COLOR+'"></input>','<span class="value-box" style="background-color: '+LM.config.DEFAULT_COLOR+';"></span>',"</div>","</section>",'<section class="font-weight toggle">',"<h3>"+LM.locale.TOOLBAR_FONT_WEIGHT+"</h3>",'<div class="value-wrapper">','<span class="value" data-value="'+LM.config.DEFAULT_FONT_WEIGHT+'" style="font-family: \''+LM.config.getDefaultFont().value+"';\">","</span>","</div>","</section>",'<section class="font-style toggle">',"<h3>"+LM.locale.TOOLBAR_FONT_STYLE+"</h3>",'<div class="value-wrapper">','<span class="value" data-value="'+LM.config.DEFAULT_FONT_STYLE+'" style="font-family: \''+LM.config.getDefaultFont().value+"';\">","</span>","</div>","</section>",'<section class="letter-spacing range" style="display: none;">',"<h3>"+LM.locale.TOOLBAR_LETTERSPACING+"</h3>",'<div class="value-wrapper">','<input type="range" name="letter-spacing" min="-20" max="50" value="0">',"</div>","</section>"].join(""),this.colorSection=this.innerElement.querySelector(".font-color"),this.colorValue=this.innerElement.querySelector(".font-color .value-wrapper .value"),this.colorValueBox=this.innerElement.querySelector(".font-color .value-wrapper .value-box"),this.fontSection=this.innerElement.querySelector(".font-family"),this.fontValue=this.innerElement.querySelector(".font-family .value-wrapper .value"),this.weightSection=this.innerElement.querySelector(".font-weight"),this.weightValue=this.innerElement.querySelector(".font-weight .value"),this.styleSection=this.innerElement.querySelector(".font-style"),this.styleValue=this.innerElement.querySelector(".font-style .value"),this.letterSpacingInput=this.innerElement.querySelector(".letter-spacing input"),this.renderColorPicker(),this.renderFontWeights(),this.renderFontStyles(),this.renderFontList()},renderFontWeights:function(){var a="";LM.config.FONT_WEIGHTS.forEach(function(b){a+='<span class="'+b.value+'">'+b.title+"</span>"}),this.weightValue.innerHTML=a},renderFontStyles:function(){var a="";LM.config.FONT_STYLES.forEach(function(b){a+='<span class="'+b.value+'">'+b.title+"</span>"}),this.styleValue.innerHTML=a},renderColorPicker:function(){this.colorPicker=new LM.components.ColorPicker({container:this.colorSection,onChange:function(a){this.colorValue.value!==a&&(this.colorValue.value=a),this.colorValueBox.style.backgroundColor=a,this.entity.setColor(a)}.bind(this)}),this.colorPicker.setValue(LM.config.DEFAULT_FONT_COLOR)},renderFontList:function(){this.fontList=new LM.components.FontList({container:this.fontSection,onChange:function(a){this.weightValue.style.fontFamily=a.value,this.styleValue.style.fontFamily=a.value,this.fontValue.style.fontFamily=a.value,this.fontValue.innerHTML=a.title,this.entity.setFontFamily(a.value)}.bind(this)})},bind:function(){this._super(),this.onLetterSpacingChange=this.onLetterSpacingChange.bind(this),this.onFontSectionClick=this.onFontSectionClick.bind(this),this.onWeightSectionClick=this.onWeightSectionClick.bind(this),this.onStyleSectionClick=this.onStyleSectionClick.bind(this),this.onColorSectionClick=this.onColorSectionClick.bind(this),this.onColorValueChange=this.onColorValueChange.bind(this),this.letterSpacingInput.addEventListener("change",this.onLetterSpacingChange,!1),this.fontSection.addEventListener("click",this.onFontSectionClick,!1),this.weightSection.addEventListener("click",this.onWeightSectionClick,!1),this.styleSection.addEventListener("click",this.onStyleSectionClick,!1),this.colorSection.addEventListener("click",this.onColorSectionClick,!1),this.colorValue.addEventListener("change",this.onColorValueChange,!1),this.colorValue.addEventListener("keyup",this.onColorValueChange,!1)},show:function(){this._super(),LM.util.font.loadAll(null,!0)},hide:function(){this._super(),this.fontList.hide(),this.colorPicker.hide()},isUsingKeyboard:function(){return this.fontList.isVisible()},fromJSON:function(a){"string"==typeof a.fontFamily&&this.fontList.setValue(a.fontFamily,!0),"string"==typeof a.fontWeight&&this.weightValue.setAttribute("data-value",a.fontWeight),"string"==typeof a.fontStyle&&this.styleValue.setAttribute("data-value",a.fontStyle),"string"==typeof a.fillColor&&this.colorPicker.setValue(a.fillColor),"string"==typeof a.letterSpacing&&(this.letterSpacingInput.value=a.letterSpacing)},onLetterSpacingChange:function(){this.entity.setLetterSpacing(this.letterSpacingInput.value)},onFontSectionClick:function(){this.colorPicker.hide(),this.fontList.toggle()},onWeightSectionClick:function(){this.fontList.hide(),this.colorPicker.hide();var a=this.weightValue.getAttribute("data-value"),b=0;
LM.config.FONT_WEIGHTS.forEach(function(c,d){c.value===a&&(b=d)}),b=(b+1)%LM.config.FONT_WEIGHTS.length,a=LM.config.FONT_WEIGHTS[b].value,this.weightValue.setAttribute("data-value",a),this.entity.setFontWeight(a),LM.util.io.trackEngagement("change_font_weight",{value:a})},onStyleSectionClick:function(){this.fontList.hide(),this.colorPicker.hide();var a=this.styleValue.getAttribute("data-value"),b=0;LM.config.FONT_STYLES.forEach(function(c,d){c.value===a&&(b=d)}),b=(b+1)%LM.config.FONT_STYLES.length,a=LM.config.FONT_STYLES[b].value,this.styleValue.setAttribute("data-value",a),this.entity.setFontStyle(a),LM.util.io.trackEngagement("change_font_style",{value:a})},onColorSectionClick:function(a){var b=!this.colorPicker.isVisible()||document.activeElement!==this.colorValue;!LM.util.dom.hasParent(a.target,this.colorPicker.domElement)&&b&&(this.fontList.hide(),this.colorPicker.toggle())},onColorValueChange:function(){this.colorPicker.setValue(this.colorValue.value)}}),LM.namespace("views").Base=Klass.extend({init:function(a){this.id=a,this.layout=this.layout.bind(this),this.render(),this.bind(),this.layout()},render:function(){this.domElement=document.createElement("div"),this.domElement.className=this.id,this.innerElement=document.createElement("div"),this.innerElement.className="inner",this.domElement.appendChild(this.innerElement)},bind:function(){},layout:function(){},appendTo:function(a){a.appendChild(this.domElement)}}),LM.namespace("views").Download=LM.views.Base.extend({init:function(){this.generatorTimeout=-1,this.outputSize=LM.config.BITMAP_OUTPUT_HD_SIZE,this._super("download")},render:function(){this._super(),this.downloadsElement=document.createElement("div"),this.downloadsElement.className="downloads",this.innerElement.appendChild(this.downloadsElement),this.closeButton=document.createElement("button"),this.closeButton.className="light close-button",this.closeButton.innerHTML='<span class="label">'+LM.locale.DOWNLOAD_RESUME_EDITING+"</span>",this.domElement.appendChild(this.closeButton);var a=LM.config.BITMAP_OUTPUT_HD_SIZE_OPTIONS.map(function(a){return a===LM.config.BITMAP_OUTPUT_HD_SIZE?(this.outputSize=a,'<option value="'+a+'" selected>Up to '+a+"px</option>"):'<option value="'+a+'">Up to '+a+"px</option>"}.bind(this)).join("");this.sizeDropdown=document.createElement("select"),this.sizeDropdown.className="lm-select light size",this.sizeDropdown.innerHTML=a,this.domElement.appendChild(this.sizeDropdown),this.spinnerElement=document.createElement("div"),this.spinnerElement.className="spinner-wrapper",this.domElement.appendChild(this.spinnerElement),this.spinner=new Spinner({color:"#ddd",lines:16,radius:16,length:7,width:2.5,zIndex:"auto",top:"auto",left:"auto",className:"spinner"}),this.spinner.spin(this.spinnerElement)},bind:function(){this._super(),this.closeButton.addEventListener("click",this.onCloseClick.bind(this),!1),this.sizeDropdown.addEventListener("change",this.onSizeDropdownChange.bind(this),!1)},layout:function(){this._super()},show:function(){LM.Session.save({source:"purchase"}),this.domElement.setAttribute("data-state","loading"),this.downloadsElement.innerHTML="",this.startGeneratingLogos()},startGeneratingLogos:function(){var a=[function(){this.logoColorBitmap=LM.Export.getLogoAsBitmap({maxWidth:this.outputSize,maxHeight:this.outputSize})}.bind(this),function(){this.logoWhiteImage=LM.Export.getLogoAsBitmap({maxWidth:this.outputSize,maxHeight:this.outputSize,color:"white"})}.bind(this),function(){this.logoBlackImage=LM.Export.getLogoAsBitmap({maxWidth:this.outputSize,maxHeight:this.outputSize,color:"black"})}.bind(this),function(){this.logoColorSVG=LM.Export.getLogoAsSVG64({maxWidth:this.outputSize,maxHeight:this.outputSize})}.bind(this),function(){this.logoWhiteSVG=LM.Export.getLogoAsSVG64({maxWidth:this.outputSize,maxHeight:this.outputSize,color:"white"})}.bind(this),function(){this.logoBlackSVG=LM.Export.getLogoAsSVG64({maxWidth:this.outputSize,maxHeight:this.outputSize,color:"black"})}.bind(this),function(){var a=LM.Export.getLogoBitmapSize(this.outputSize,this.outputSize),b=a.width+"x"+a.height;this.downloadsElement.innerHTML=["<section>",'<div class="thumbnail" style="background-image: url('+this.logoColorBitmap+');"></div>','<a target="_blank" class="lm-button fill-black download" data-type="color" href="'+this.logoColorBitmap+'" download="'+LM.Export.getFileName(".png")+'">'+LM.locale.DOWNLOAD_CTA+"</a>",'<p class="meta">Color, PNG, '+b+"</p>","</section>","<section>",'<div class="thumbnail white" style="background-image: url('+this.logoWhiteImage+');"></div>','<a target="_blank" class="lm-button fill-black download" data-type="white" href="'+this.logoWhiteImage+'" download="'+LM.Export.getFileName("-white.png")+'">'+LM.locale.DOWNLOAD_CTA+"</a>",'<p class="meta">White, PNG, '+b+"</p>","</section>","<section>",'<div class="thumbnail" style="background-image: url('+this.logoBlackImage+');"></div>','<a target="_blank" class="lm-button fill-black download" data-type="black" href="'+this.logoBlackImage+'" download="'+LM.Export.getFileName("-black.png")+'">'+LM.locale.DOWNLOAD_CTA+"</a>",'<p class="meta">Black, PNG, '+b+"</p>","</section>"].join("")}.bind(this)],b=100,c=function(){a.length?(a.shift().call(),this.generatorTimeout=setTimeout(c,1===a.length?500:b)):this.finishGeneratingLogos()}.bind(this);this.generatorTimeout=setTimeout(c,b)},finishGeneratingLogos:function(){this.domElement.setAttribute("data-state","visible"),LM.util.toArray(this.downloadsElement.querySelectorAll("a")).forEach(function(a){a.addEventListener("click",this.onDownloadClicked.bind(this,a))}.bind(this)),this.layout()},hide:function(){clearInterval(this.generatorTimeout),this.domElement.setAttribute("data-state","hidden"),this.layout()},isVisible:function(){return"hidden"!==this.domElement.getAttribute("data-state")},onCloseClick:function(){this.hide()},onSizeDropdownChange:function(){this.outputSize=parseInt(this.sizeDropdown.value,10)||LM.config.BITMAP_OUTPUT_HD_SIZE,this.show()},onDownloadClicked:function(a){LM.util.io.trackEngagement("download_logo",{format:"png",type:a.getAttribute("data-type")})}}),LM.namespace("views").Help=LM.views.Base.extend({init:function(){this._super("help")},render:function(){this._super(),this.domElement.innerHTML=['<div class="inner">','<section class="usage">',"<h3>Help</h3>","<p>","Select objects in the canvas and reveal contextual options by clicking on them. ","You can also drag or SHIFT click to select multiple objects.","</p>","</section>",'<section class="keyboard">',"<h3>Keyboard shortcuts</h3>",'<table class="keyboard-shortcuts">',"<tr><th>Key</th><th>Action</th></tr>","</table>","</section>","</div>"].join(""),this.innerElement=this.domElement.querySelector(".inner"),this.keyboardTable=this.domElement.querySelector(".keyboard-shortcuts");var a="&#8679;",b=LM.util.ua.isOSX()?"&#8984;":"CTRL",c="&#183;",d=[{key:b+" "+c+" S",action:"Save"},{key:b+" "+c+" A",action:"Select all"},{key:b+" "+c+" Z",action:"Undo"},{key:b+" "+c+" "+a+" "+c+" Z",action:"Redo"},{key:b+" "+c+" Y",action:"Redo"},{key:b+" "+c+" F",action:"Search"},{key:b+" "+c+" .",action:"Randomize"},{key:"&larr; &uarr; &rarr; &darr;",action:"Move object by 1px"},{key:"&#9003;",action:"Remove focused object"},{key:"F",action:"Toggle fullscreen mode"}];d.forEach(function(a){this.keyboardTable.innerHTML+="<tr><td>"+a.key+"</td><td>"+a.action+"</td></tr>"}.bind(this))},bind:function(){this.domElement.addEventListener("click",this.onClicked.bind(this),!1)},layout:function(){this.innerElement.style.marginTop=Math.max((window.innerHeight-this.innerElement.offsetHeight-60)/2,0)+"px"},show:function(){this.domElement.classList.add("visible"),window.addEventListener("resize",this.layout,!1),this.layout()},hide:function(){this.domElement.classList.remove("visible"),window.removeEventListener("resize",this.layout,!1)},toggle:function(){this.isVisible()?this.hide():this.show()},isVisible:function(){return this.domElement.classList.contains("visible")},onClicked:function(a){this.isVisible()&&a.target===this.domElement&&this.hide()}}),LM.namespace("views").Preview=LM.views.Base.extend({init:function(){this.index=0,this.cache={},this._super("preview")},_getCTAElement:function(){var a=document.createElement("div");return a.className="cta",a.innerHTML='Need a website? <a href="http://www.squarespace.com/templates/" target="_blank" class="cta-button">Try Squarespace</a>',a},render:function(){this._super(),this.previewCard=document.createElement("section"),this.previewCard.className="card",this.innerElement.appendChild(this.previewCard),this.previewCardInner=document.createElement("div"),this.previewCardInner.className="wrapper",this.previewCard.appendChild(this.previewCardInner),this.previewScreen=document.createElement("section"),this.previewScreen.className="screen",this.innerElement.appendChild(this.previewScreen),this.previewScreenInner=document.createElement("div"),this.previewScreenInner.className="wrapper",this.previewScreen.appendChild(this.previewScreenInner),this.previewScreen.appendChild(this._getCTAElement()),this.previewShirt=document.createElement("section"),this.previewShirt.className="shirt",this.innerElement.appendChild(this.previewShirt),this.previewShirtInner=document.createElement("div"),this.previewShirtInner.className="wrapper",this.previewShirt.appendChild(this.previewShirtInner),this.previewControls=document.createElement("div"),this.previewControls.className="preview-controls",this.domElement.appendChild(this.previewControls),this.previewControls.innerHTML=['<button class="close"></button>','<button class="paginate-left"></button>','<button class="paginate-right"></button>'].join(""),this.previewControlsClose=this.previewControls.querySelector(".close"),this.previewControlsLeft=this.previewControls.querySelector(".paginate-left"),this.previewControlsRight=this.previewControls.querySelector(".paginate-right"),this.primaryCallToAction=document.createElement("section"),this.primaryCallToAction.className="cta-wrapper",this.primaryCallToAction.appendChild(this._getCTAElement()),this.innerElement.appendChild(this.primaryCallToAction)},bind:function(){this._super(),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.onPreviewCardClick=this.onPreviewCardClick.bind(this),this.onPreviewScreenClick=this.onPreviewScreenClick.bind(this),this.onPreviewShirtClick=this.onPreviewShirtClick.bind(this),this.onPreviewCloseClick=this.onPreviewCloseClick.bind(this),this.onPreviewLeftClick=this.onPreviewLeftClick.bind(this),this.onPreviewRightClick=this.onPreviewRightClick.bind(this),this.previewCard.addEventListener("click",this.onPreviewCardClick,!1),this.previewScreen.addEventListener("click",this.onPreviewScreenClick,!1),this.previewShirt.addEventListener("click",this.onPreviewShirtClick,!1),this.previewControlsClose.addEventListener("click",this.onPreviewCloseClick,!1),this.previewControlsLeft.addEventListener("click",this.onPreviewLeftClick,!1),this.previewControlsRight.addEventListener("click",this.onPreviewRightClick,!1)},layout:function(){this._super();var a=(this.previewCardInner.getBoundingClientRect(),this.previewCardInner.offsetWidth),b=this.previewCardInner.offsetHeight,c=this.previewCardInner.querySelector("svg");if(c){var d=parseInt(c.getAttribute("width"),10),e=parseInt(c.getAttribute("height"),10),f=Math.min(Math.min(a/d,b/e),1),g=Math.round((a-d*f)/2),h=Math.round((b-e*f)/2),i="translate("+g+"px, "+h+"px) scale("+f+")";LM.util.dom.transform(this.previewCardInner.querySelector("svg"),i),LM.util.dom.transform(this.previewScreenInner.querySelector("svg"),i),LM.util.dom.transform(this.previewShirtInner.querySelector("svg"),i)}},sync:function(){var a=LM.Export.getLogoAsSVG(),b=LM.Export.getLogoAsSVG({color:"white"});(a!==this.cache.svg||b!==this.cache.svgWhite)&&(this.cache.svg=a,this.cache.svgWhite=b,this.previewCardInner.innerHTML=a,this.previewScreenInner.innerHTML=b,this.previewShirtInner.innerHTML=a,this.layout())},expand:function(){this.domElement.classList.add("expanded"),window.addEventListener("resize",this.onWindowResize,!1),document.addEventListener("keydown",this.onDocumentKeyDown,!1),this.layout(),setTimeout(function(){LM.util.dom.transition(this.innerElement,"0.6s all cubic-bezier(0.860, 0.000, 0.070, 1.000)"),this.innerElement.style.display="none",this.innerElement.offsetHeight,this.innerElement.style.display="block",LM.util.io.trackEngagement("preview_expanded",{type:this.getNameOfCurrentSlide()})}.bind(this),1)},collapse:function(){this.domElement.classList.remove("expanded"),window.removeEventListener("resize",this.onWindowResize,!1),document.removeEventListener("keydown",this.onDocumentKeyDown,!1),LM.util.dom.transition(this.innerElement,"none"),LM.util.dom.transform(this.innerElement,"none"),this.layout(),LM.util.io.trackEngagement("preview_collapsed")},isExpanded:function(){return this.domElement.classList.contains("expanded")},slide:function(a){var b=this.index;"number"==typeof a&&(this.index+=a,this.index=Math.max(this.index,0),this.index=Math.min(this.index,this.getNumberOfPreviews()-1)),LM.util.dom.transform(this.innerElement,"translateX(-"+100*this.index+"%)"),this.index>0?this.previewControls.classList.add("can-paginate-left"):this.previewControls.classList.remove("can-paginate-left"),this.index<this.getNumberOfPreviews()-1?this.previewControls.classList.add("can-paginate-right"):this.previewControls.classList.remove("can-paginate-right"),this.index!==b&&(1===a?LM.util.io.trackEngagement("preview_paginate_next"):-1===a&&LM.util.io.trackEngagement("preview_paginate_previous"))},getNumberOfPreviews:function(){return this.domElement.querySelectorAll(".inner>section").length-1},getNameOfCurrentSlide:function(){switch(this.index){case 0:return"businesscard";case 1:return"screen";case 2:return"tshirt"}},onPreviewCardClick:function(){this.expand(),this.index=0,this.slide()},onPreviewScreenClick:function(){this.expand(),this.index=1,this.slide()},onPreviewShirtClick:function(){this.expand(),this.index=2,this.slide()},onPreviewCloseClick:function(){this.collapse()},onPreviewLeftClick:function(){this.slide(-1)},onPreviewRightClick:function(){this.slide(1)},onDocumentKeyDown:function(a){if(this.isExpanded())switch(a.keyCode){case 37:this.slide(-1);break;case 39:this.slide(1);break;case 27:this.collapse()}},onWindowResize:function(){this.layout()}}),LM.namespace("views").SaveHD=Klass.extend({FORM_STATE_PURCHASE:"purchase",FORM_STATE_AUTHENTICATE:"authenticate",init:function(){this.render(),this.bind(),this.busy=!1},render:function(){this.domElement=document.createElement("div"),this.domElement.className="save-form save-hd",this.formElement=document.createElement("div"),this.formElement.className="lm-form",this.domElement.appendChild(this.formElement),this.formElement.innerHTML=['<div class="field-wrapper name half">','<input class="firstname-input" type="text" placeholder="'+LM.locale.SAVE_FIRSTNAME_PLACEHOLDER+'">','<input class="lastname-input" type="text" placeholder="'+LM.locale.SAVE_LASTNAME_PLACEHOLDER+'">',"</div>",'<div class="field-wrapper email">','<input class="email-input" type="text" placeholder="'+LM.locale.SAVE_EMAIL_PLACEHOLDER+'">',"</div>",'<div class="field-wrapper password">','<input class="password-input" type="password" placeholder="'+LM.locale.SAVE_PASSWORD_PLACEHOLDER+'">',"</div>",'<div class="field-wrapper cc-card">','<input class="cc-card-input numbers-only" type="text" placeholder="'+LM.locale.SAVE_CC_CARD_PLACEHOLDER+'" maxlength="16" data-stripe="number">',"</div>",'<div class="field-wrapper cc-other third-1-1-2">','<input class="cc-month-input numbers-only" type="text" placeholder="'+LM.locale.SAVE_CC_MONTH_PLACEHOLDER+'" maxlength="2" data-stripe="exp-month">','<input class="cc-year-input numbers-only" type="text" placeholder="'+LM.locale.SAVE_CC_YEAR_PLACEHOLDER+'" maxlength="2" data-stripe="exp-year">','<input class="cc-cvc-input numbers-only" type="text" placeholder="'+LM.locale.SAVE_CC_CVC_PLACEHOLDER+'" data-stripe="cvc">',"</div>",'<div class="field-wrapper footer">','<input id="existing-customer-checkbox" class="checkbox existing-customer-checkbox" type="checkbox">','<label for="existing-customer-checkbox" class="checkbox-label">I\'m an existing Squarespace customer.</label>','<button type="submit" class="lm-button light submit"></button>',"</div>"].join(""),this.firstNameInput=this.formElement.querySelector(".firstname-input"),this.lastNameInput=this.formElement.querySelector(".lastname-input"),this.passwordInput=this.formElement.querySelector(".password-input"),this.emailInput=this.formElement.querySelector(".email-input"),this.existingCustomerCheckbox=this.formElement.querySelector(".existing-customer-checkbox"),this.ccCardInput=this.formElement.querySelector(".cc-card-input"),this.ccMonthInput=this.formElement.querySelector(".cc-month-input"),this.ccYearInput=this.formElement.querySelector(".cc-year-input"),this.ccCVCInput=this.formElement.querySelector(".cc-cvc-input"),this.submitButton=this.formElement.querySelector(".submit"),this.setFormState(this.FORM_STATE_PURCHASE)},bind:function(){this.formElement.addEventListener("keydown",this.onFormKeyDown.bind(this),!1),this.submitButton.addEventListener("click",this.onFormSubmitClick.bind(this),!1),this.existingCustomerCheckbox.addEventListener("change",this.onExistingCustomerCheckboxChange.bind(this),!1),this.ccCardInput.addEventListener("keypress",this.onNumberInputKeyPress.bind(this),!1),this.ccMonthInput.addEventListener("keypress",this.onNumberInputKeyPress.bind(this),!1),this.ccYearInput.addEventListener("keypress",this.onNumberInputKeyPress.bind(this),!1),this.ccCVCInput.addEventListener("keypress",this.onNumberInputKeyPress.bind(this),!1)},show:function(){setTimeout(function(){this.firstNameInput.focus()}.bind(this),250)},appendTo:function(a){a.appendChild(this.domElement)},validate:function(){var a=this.getFormData(),b=this.getFormState();if(b===this.FORM_STATE_PURCHASE)if(a.firstName)if(a.lastName)if(LM.util.validateEmail(a.email))if(LM.util.validateCreditCard(a.card))if(LM.util.validateCreditCardMonth(a.month))if(LM.util.validateCreditCardYear(a.year)){if(LM.util.validateCreditCardCVC(a.cvc))return!0;LM.notify(LM.locale.SAVE_CC_CVC_INVALID,"negative")}else LM.notify(LM.locale.SAVE_CC_YEAR_INVALID,"negative");else LM.notify(LM.locale.SAVE_CC_MONTH_INVALID,"negative");else LM.notify(LM.locale.SAVE_CC_CARD_INVALID,"negative");else LM.notify(LM.locale.SAVE_EMAIL_INVALID,"negative");else LM.notify(LM.locale.SAVE_LASTNAME_INVALID,"negative");else LM.notify(LM.locale.SAVE_FIRSTNAME_INVALID,"negative");else if(b===this.FORM_STATE_AUTHENTICATE)if(LM.util.validateEmail(a.email)){if(a.password)return!0;LM.notify(LM.locale.SAVE_PASSWORD_INVALID,"negative")}else LM.notify(LM.locale.SAVE_EMAIL_INVALID,"negative");return!1},submit:function(){if(this.busy===!1&&this.validate()){this.busy=!0,this.loadingOverlay=new LM.components.LoadingOverlay;var a=this.getFormData();a.url=LM.getLogoURL({source:"purchase"}),a.title=LM.toJSON().title.value||"",a.tagline=LM.toJSON().subtitle.value||"";var b=this.getFormState(),c="";b===this.FORM_STATE_PURCHASE?(c=LM.config.SERVER_PURCHASE_LOGO,LM.util.io.trackEngagement("purchase_logo")):b===this.FORM_STATE_AUTHENTICATE&&(c=LM.config.SERVER_AUTHENTICATED_PURCHASE_LOGO,LM.util.io.trackEngagement("purchase_complementary_logo")),reqwest({url:c,type:"json",method:"post",data:a,success:function(a){a&&a.error?a.errors&&a.errors.card?LM.notify(a.errors.card,"negative"):LM.notify(a.error,"negative"):(LM.notify(LM.locale.SAVE_PURCHASE_SUCCESS),LM.setPurchased(!0),LM.getView("download").show(),LM.getView("save").hide()),this.busy=!1,this.loadingOverlay.destroy()}.bind(this),error:function(){LM.notify(LM.locale.SAVE_PURCHASE_ERROR,"negative"),this.busy=!1,this.loadingOverlay.destroy()}.bind(this)})}},updateTabIndices:function(){var a=this.getFormState()===this.FORM_STATE_PURCHASE,b=1;this.firstNameInput.setAttribute("tabIndex",a?b++:-1),this.lastNameInput.setAttribute("tabIndex",a?b++:-1),this.passwordInput.setAttribute("tabIndex",a?-1:b++),this.emailInput.setAttribute("tabIndex",a?b++:1),this.ccCardInput.setAttribute("tabIndex",a?b++:-1),this.ccMonthInput.setAttribute("tabIndex",a?b++:-1),this.ccYearInput.setAttribute("tabIndex",a?b++:-1),this.ccCVCInput.setAttribute("tabIndex",a?b++:-1),this.existingCustomerCheckbox.setAttribute("tabIndex",b++),this.submitButton.setAttribute("tabIndex",b++)},setFormState:function(a){this.formElement.setAttribute("data-state",a),a===this.FORM_STATE_PURCHASE?(this.submitButton.textContent="Buy for $10",this.firstNameInput.focus()):a===this.FORM_STATE_AUTHENTICATE&&(this.submitButton.textContent="Download for Free",this.emailInput.focus()),this.updateTabIndices()},getFormState:function(){return this.formElement.getAttribute("data-state")},getFormData:function(){var a=this.getFormState();return a===this.FORM_STATE_PURCHASE?this.getPurchaseData():a===this.FORM_STATE_AUTHENTICATE?this.getAuthenticationData():void 0},getPurchaseData:function(){return{firstName:this.firstNameInput.value,lastName:this.lastNameInput.value,email:this.emailInput.value,card:this.ccCardInput.value,month:this.ccMonthInput.value,year:this.ccYearInput.value,cvc:this.ccCVCInput.value,symbol:LM.getEntity("symbol").getSymbolID()}},getAuthenticationData:function(){return{email:this.emailInput.value,password:this.passwordInput.value,symbol:LM.getEntity("symbol").getSymbolID()}},onNumberInputKeyPress:function(a){var b=new RegExp(/[0-9]|\./).test(String.fromCharCode(a.charCode));return b===!1&&13!==a.keyCode?(a.preventDefault(),!1):void 0},onFormSubmitClick:function(){this.submit()},onFormKeyDown:function(a){13===a.keyCode&&this.submit()},onExistingCustomerCheckboxChange:function(){this.setFormState(this.existingCustomerCheckbox.checked?this.FORM_STATE_AUTHENTICATE:this.FORM_STATE_PURCHASE)}}),LM.namespace("views").SaveSD=Klass.extend({init:function(){this.render(),this.bind(),this.busy=!1},render:function(){this.domElement=document.createElement("div"),this.domElement.className="save-form save-sd",this.formElement=document.createElement("div"),this.formElement.className="lm-form",this.domElement.appendChild(this.formElement),this.formElement.innerHTML=['<p class="form-description">Email yourself a link so you can come back and edit at any time.</p>','<div class="field-wrapper name half">','<input class="firstname-input" type="text" placeholder="'+LM.locale.SAVE_FIRSTNAME_PLACEHOLDER+'">','<input class="lastname-input" type="text" placeholder="'+LM.locale.SAVE_LASTNAME_PLACEHOLDER+'">',"</div>",'<div class="field-wrapper email">','<input class="email-input" type="text" placeholder="'+LM.locale.SAVE_EMAIL_PLACEHOLDER+'">',"</div>",'<div class="field-wrapper footer">','<input id="newsletter-checkbox" class="checkbox newsletter-checkbox" type="checkbox" checked>','<label for="newsletter-checkbox" class="checkbox-label">Send infrequent updates about Squarespace and Logo.</label>','<button type="submit" class="lm-button light submit">Send</button>',"</div>"].join(""),this.firstNameInput=this.formElement.querySelector(".firstname-input"),this.lastNameInput=this.formElement.querySelector(".lastname-input"),this.emailInput=this.formElement.querySelector(".email-input"),this.newsletterCheckbox=this.formElement.querySelector(".newsletter-checkbox"),this.submitButton=this.formElement.querySelector(".submit")},bind:function(){this.formElement.addEventListener("keydown",this.onFormKeyDown.bind(this),!1),this.submitButton.addEventListener("click",this.onFormSubmitClick.bind(this),!1)},show:function(){setTimeout(function(){this.firstNameInput.focus()}.bind(this),250)},appendTo:function(a){a.appendChild(this.domElement)},validate:function(){var a=this.getFormData();if(a.firstName)if(a.lastName){if(LM.util.validateEmail(a.email))return!0;LM.notify(LM.locale.SAVE_EMAIL_INVALID,"negative")}else LM.notify(LM.locale.SAVE_LASTNAME_INVALID,"negative");else LM.notify(LM.locale.SAVE_FIRSTNAME_INVALID,"negative");return!1},submit:function(){if(this.busy===!1&&this.validate()){this.busy=!0,this.loadingOverlay=new LM.components.LoadingOverlay,LM.util.io.trackEngagement("purchase_logo");var a=this.getFormData();a.url=LM.getLogoURL({source:"email"}),a.title=LM.toJSON().title.value||"",a.tagline=LM.toJSON().subtitle.value||"",reqwest({url:LM.config.SERVER_SAVE_LOGO,type:"json",method:"post",data:a,success:function(a){a&&a.error?LM.notify(a.error,"negative"):(LM.notify(LM.locale.SAVE_SEND_SUCCESS),LM.getView("save").setView()),this.busy=!1,this.loadingOverlay.destroy()}.bind(this),error:function(){LM.notify(LM.locale.SAVE_SEND_ERROR,"negative"),this.busy=!1,this.loadingOverlay.destroy()}.bind(this)})}},updateTabIndices:function(){var a=1;this.firstNameInput.setAttribute("tabIndex",a++),this.lastNameInput.setAttribute("tabIndex",a++),this.emailInput.setAttribute("tabIndex",a++),this.newsletterCheckbox.setAttribute("tabIndex",a++),this.submitButton.setAttribute("tabIndex",a++)},getFormData:function(){return{firstName:this.firstNameInput.value,lastName:this.lastNameInput.value,email:this.emailInput.value,newsletter:this.newsletterCheckbox.checked,symbol:LM.getEntity("symbol").getSymbolID()}},onFormSubmitClick:function(){this.submit()},onFormKeyDown:function(a){13===a.keyCode&&this.submit()}}),LM.namespace("views").Save=LM.views.Base.extend({FORM_STATE_PURCHASE:"purchase",FORM_STATE_AUTHENTICATE:"authenticate",init:function(){this._super("save")},render:function(){this._super(),this.closeButton=document.createElement("button"),this.closeButton.className="light close-button",this.closeButton.innerHTML='<span class="label">'+LM.locale.SAVE_RESUME_EDITING+"</span>",this.domElement.appendChild(this.closeButton),this.renderSharing(),this.renderIntro(),this.formWrapper=document.createElement("div"),this.formWrapper.className="forms",this.innerElement.appendChild(this.formWrapper),this.formHD=new LM.views.SaveHD,this.formHD.appendTo(this.formWrapper),this.formSD=new LM.views.SaveSD,this.formSD.appendTo(this.formWrapper)},renderSharing:function(){this.shareElement=document.createElement("div"),this.shareElement.className="share-options",this.domElement.appendChild(this.shareElement),this.shareElement.innerHTML=['<button class="lm-button light twitter-button">','<span class="label"></span>',"</button>",'<button class="lm-button light facebook-button">','<span class="label"></span>',"</button>"].join(""),this.twitterButton=this.shareElement.querySelector(".twitter-button"),this.facebookButton=this.shareElement.querySelector(".facebook-button")},renderIntro:function(){this.introSection=document.createElement("div"),this.introSection.className="intro",this.innerElement.appendChild(this.introSection);var a=LM.Export.getLogoBitmapSize(LM.config.BITMAP_OUTPUT_SD_SIZE,LM.config.BITMAP_OUTPUT_SD_SIZE),b=(LM.Export.getLogoBitmapSize(LM.config.BITMAP_OUTPUT_HD_SIZE,LM.config.BITMAP_OUTPUT_HD_SIZE),LM.config.BITMAP_OUTPUT_HD_SIZE_OPTIONS[LM.config.BITMAP_OUTPUT_HD_SIZE_OPTIONS.length-1]);this.introSection.innerHTML=['<p class="description">'+LM.locale.PURCHASE_DESCRIPTION+"</p>",'<div class="sd">','<a class="lm-button light" href="#" target="_blank">','<span class="tier-title"></span>','<span class="tier-description">'+a.width+"x"+a.height+" - PNG</span>","</a>",'<p class="subtext">Free. Watermarked.</p>',"</div>",'<div class="hd">','<a class="lm-button light" href="#">','<span class="tier-title"></span>','<span class="tier-description">Up to '+b+"x"+b+" - PNG</span>","</a>",'<p class="subtext">Free for Squarespace customers.<br>Otherwise buy for $10.</p>','</div><p class="tos">By proceeding, you are agreeing to Squarespace\'s <a href="http://www.squarespace.com/terms-of-service" target="_blank">Terms of Service</a>.<p>'].join(""),this.introButtonSD=this.introSection.querySelector(".sd a"),this.introButtonHD=this.introSection.querySelector(".hd a")},bind:function(){this._super(),this.closeButton.addEventListener("click",this.onCloseClick.bind(this),!1),this.twitterButton.addEventListener("click",LM.util.popupTwitter,!1),this.facebookButton.addEventListener("click",LM.util.popupFacebook,!1),this.introButtonSD.addEventListener("click",this.onIntroButtonSDClick.bind(this),!1),this.introButtonHD.addEventListener("click",this.onIntroButtonHDClick.bind(this),!1)},layout:function(){this._super()},regenerate:function(){this.logoFile=LM.Export.getLogoAsBitmap({watermark:!0,maxWidth:LM.config.BITMAP_OUTPUT_SD_SIZE,maxHeight:LM.config.BITMAP_OUTPUT_SD_SIZE}),this.introButtonSD.setAttribute("href",this.logoFile),this.introButtonSD.setAttribute("download",LM.Export.getFileName(".png"))},show:function(){LM.Session.save(),LM.util.io.trackEngagement("save"),this.skipTransition(),this.setView("intro"),this.domElement.setAttribute("data-visibility","visible"),this.regenerate(),this.layout()},hide:function(){this.setView("intro"),this.domElement.setAttribute("data-visibility","hidden"),this.layout()},isVisible:function(){return"visible"===this.domElement.getAttribute("data-visibility")},setView:function(a){this.domElement.setAttribute("data-view",a),this.introButtonSD.querySelector(".tier-title").textContent=LM.locale.SAVE_SAMPLE_CTA,this.introButtonHD.querySelector(".tier-title").textContent=LM.locale.SAVE_BUY_CTA,"sd"===a?(LM.pushLastSavedJSON(),this.introButtonSD.querySelector(".tier-title").textContent=LM.locale.SAVE_BUY_CTA_CLOSE,this.formSD.show()):"hd"===a&&(LM.pushLastSavedJSON(),this.introButtonHD.querySelector(".tier-title").textContent=LM.locale.SAVE_SAMPLE_CTA_CLOSE,this.formHD.show())},getView:function(){return this.domElement.getAttribute("data-view")},skipTransition:function(){this.innerElement.classList.add("no-transition"),setTimeout(function(){this.innerElement.classList.remove("no-transition")}.bind(this),1)},onCloseClick:function(){this.hide()},onNumberInputKeyPress:function(a){var b=new RegExp(/[0-9]|\./).test(String.fromCharCode(a.keyCode));return b===!1&&13!==a.keyCode?(a.preventDefault(),!1):void 0},onIntroButtonSDClick:function(a){"sd"===this.getView()?(this.setView("intro"),a.preventDefault()):setTimeout(function(){this.setView("sd")}.bind(this),300)},onIntroButtonHDClick:function(a){this.setView("hd"===this.getView()?"intro":"hd"),a.preventDefault()}}),LM.namespace("views").SettingsCanvas=LM.views.Base.extend({init:function(){this.render(),this.bind()},render:function(){this.domElement=document.createElement("div"),this.domElement.className="settings-canvas",this.domElement.innerHTML=['<div class="opener">','<span class="icon"></span>',"</div>",'<div class="inner">','<div class="option">','<input type="checkbox" id="grid-guides-input" checked>','<label for="grid-guides-input">'+LM.locale.GRID_TOGGLE_GUIDES+"</label>","</div>",'<div class="option snap">','<input type="checkbox" id="grid-snap-input" checked>','<label for="grid-snap-input">'+LM.locale.GRID_TOGGLE_SNAPPING+"</label>","</div>",'<div class="option size">',"<h3>",LM.locale.GRID_CHANGE_SIZE,'<span class="value">10</span>','<select id="grid-size-input">',"<option>1</option>","<option>2</option>","<option>5</option>","<option selected>10</option>","<option>20</option>","<option>50</option>","</select>","</h3>","</div>",'<div class="option style">',"<h3>",LM.locale.GRID_CHANGE_STYLE,'<span class="value">Light</span>','<select id="grid-style-input">','<option value="light" selected>Light</option>','<option value="grey">Grey</option>','<option value="dark">Dark</option>',"</select>","</h3>","</div>","</div>"].join(""),this.sizeValue=this.domElement.querySelector(".option.size .value"),this.styleValue=this.domElement.querySelector(".option.style .value"),this.guidesInput=this.domElement.querySelector("#grid-guides-input"),this.snapInput=this.domElement.querySelector("#grid-snap-input"),this.sizeInput=this.domElement.querySelector("#grid-size-input"),this.styleInput=this.domElement.querySelector("#grid-style-input")},bind:function(){this.onGridGuidesChange=this.onGridGuidesChange.bind(this),this.onGridSnapChange=this.onGridSnapChange.bind(this),this.onGridSizeChange=this.onGridSizeChange.bind(this),this.onGridStyleChange=this.onGridStyleChange.bind(this),this.syncWithSavedOptions=this.syncWithSavedOptions.bind(this),this.guidesInput.addEventListener("change",this.onGridGuidesChange,!1),this.snapInput.addEventListener("change",this.onGridSnapChange,!1),this.sizeInput.addEventListener("change",this.onGridSizeChange,!1),this.styleInput.addEventListener("change",this.onGridStyleChange,!1),LM.Options.on("grid_guides",this.syncWithSavedOptions),LM.Options.on("grid_snap",this.syncWithSavedOptions),LM.Options.on("grid_size",this.syncWithSavedOptions),LM.Options.on("grid_style",this.syncWithSavedOptions)
},syncWithSavedOptions:function(){this.guidesInput.checked=LM.Options.get("grid_guides"),this.snapInput.checked=LM.Options.get("grid_snap"),this.sizeInput.value=LM.Options.get("grid_size"),this.styleInput.value=LM.Options.get("grid_style"),this.sizeValue.innerHTML=LM.Options.get("grid_size"),this.styleValue.innerHTML=LM.Options.get("grid_style")},onGridGuidesChange:function(){var a=this.guidesInput.checked;LM.Options.set("grid_guides",a),LM.util.io.trackEngagement("grid_settings_guides",{value:a})},onGridSnapChange:function(){var a=this.snapInput.checked;LM.Options.set("grid_snap",a),LM.util.io.trackEngagement("grid_settings_snap",{value:a})},onGridSizeChange:function(){var a=parseInt(this.sizeInput.value,10);LM.Options.set("grid_size",a),LM.util.io.trackEngagement("grid_settings_size",{value:a})},onGridStyleChange:function(){var a=this.styleInput.value;LM.Options.set("grid_style",this.styleInput.value),LM.util.io.trackEngagement("grid_settings_style",{value:a})}}),LM.namespace("views").Settings=LM.views.Base.extend({init:function(){this._super("settings")},render:function(){this._super(),this.innerElement.innerHTML=['<div class="header-symbol logo" title="Start over"></div>','<div class="header-symbol help" title="Help"></div>','<section class="title">','<div class="value-wrapper">','<input type="text" name="title-input" placeholder="'+LM.locale.SETTINGS_TITLE_PLACEHOLDER+'">',"</div>","</section>",'<section class="subtitle">','<div class="value-wrapper">','<input type="text" name="subtitle-input" placeholder="'+LM.locale.SETTINGS_SUBTITLE_PLACEHOLDER+'">',"</div>","</section>",'<section class="symbol">','<div class="search">','<a class="search-button" href="#">Search</a>','<a class="clear-button" href="#"></a>',"</div>",'<div class="value-wrapper">',"<ul></ul>",'<div class="search-spinner-wrapper"></div>',"</div>","</section>",'<button class="save-button ladda-button" data-style="zoom-out" data-spinner-size="38"><span class="label">'+LM.locale.SETTINGS_SAVE_LOGO+"</span></button>"].join(""),this.searchOverlay=document.createElement("div"),this.searchOverlay.className="search-overlay",this.searchOverlay.innerHTML='<div class="search-input-wrapper"><input class="search-input" type="text" id="search-input" placeholder="'+LM.locale.SEARCH_PLACEHOLDER+'"><a class="search-submit"></a></div>',LM.getElement().appendChild(this.searchOverlay),this.logoElement=this.innerElement.querySelector(".logo"),this.helpElement=this.innerElement.querySelector(".help"),this.searchInputWrapper=this.searchOverlay.querySelector(".search-input-wrapper"),this.searchInput=this.searchOverlay.querySelector(".search-input"),this.searchSubmit=this.searchOverlay.querySelector(".search-submit"),this.titleSection=this.innerElement.querySelector("section.title"),this.subtitleSection=this.innerElement.querySelector("section.subtitle"),this.symbolSection=this.innerElement.querySelector("section.symbol"),this.titleInput=this.innerElement.querySelector(".title input"),this.subtitleInput=this.innerElement.querySelector(".subtitle input"),this.symbolList=this.innerElement.querySelector(".symbol ul"),this.saveButton=this.innerElement.querySelector(".save-button"),this.saveButtonLoader=Ladda.create(this.saveButton),this.symbolSearchButton=this.symbolSection.querySelector(".search .search-button"),this.symbolClearButton=this.symbolSection.querySelector(".search .clear-button"),this.searchSpinnerWrapper=this.symbolSection.querySelector(".symbol .search-spinner-wrapper"),this.searchSpinner=new Spinner({color:"#777",lines:16,radius:16,length:7,width:2.5,zIndex:"auto",top:"auto",left:"auto",className:"spinner"}),this.searchSpinner.spin(this.searchSpinnerWrapper),this.renderSymbols(LM.config.SYMBOLS)},renderSymbols:function(a){a=a||LM.config.SYMBOLS,this.symbolList.innerHTML="",this.symbolList.scrollTop=0;var b=document.createElement("li");b.className="clear",b.innerHTML=LM.locale.SETTINGS_NO_SYMBOL,b.addEventListener("click",function(){LM.getEntity("symbol").setValue(null),LM.util.io.trackEngagement("change_symbol",{symbol_type:"none"})}.bind(this),!1),this.symbolList.appendChild(b),a.forEach(function(a){var b=document.createElement("li");b.addEventListener("click",function(){LM.getEntity("symbol").setValue(a),LM.getEntity("subtitle").show(),LM.getEntity("title").show(),LM.sync(),LM.util.io.trackEngagement("change_symbol",{symbol_type:a.type})}.bind(this,a),!1);var c=a.w+2*LM.config.SYMBOL_THUMB_PADDING,d=a.h+2*LM.config.SYMBOL_THUMB_PADDING,e=LM.util.svg.createDocument({width:c,height:d});e.innerHTML=a.svg_preview,b.appendChild(e),this.symbolList.appendChild(b);var f=Math.min(Math.min(LM.config.SYMBOL_THUMB_SIZE/c,LM.config.SYMBOL_THUMB_SIZE/d),1);LM.util.dom.transform(e,"scale("+f+") translate( -50%, -50% )"),LM.util.svg.changeColor(e,"#000000")}.bind(this))},bind:function(){this._super(),this.onLogoClicked=this.onLogoClicked.bind(this),this.onHelpClicked=this.onHelpClicked.bind(this),this.onTitleKeyDown=this.onTitleKeyDown.bind(this),this.onTitleKeyUp=this.onTitleKeyUp.bind(this),this.onSubtitleKeyUp=this.onSubtitleKeyUp.bind(this),this.onSaveClicked=this.onSaveClicked.bind(this),this.onSymbolSearchClicked=this.onSymbolSearchClicked.bind(this),this.onSymbolClearClicked=this.onSymbolClearClicked.bind(this),this.onSearchKeyDown=this.onSearchKeyDown.bind(this),this.onSearchOverlayClick=this.onSearchOverlayClick.bind(this),this.onSearchSubmit=this.onSearchSubmit.bind(this),this.logoElement.addEventListener("click",this.onLogoClicked,!1),this.helpElement.addEventListener("click",this.onHelpClicked,!1),this.titleInput.addEventListener("keydown",this.onTitleKeyDown,!1),this.titleInput.addEventListener("keyup",this.onTitleKeyUp,!1),this.subtitleInput.addEventListener("keyup",this.onSubtitleKeyUp,!1),this.saveButton.addEventListener("click",this.onSaveClicked,!1),this.symbolSearchButton.addEventListener("click",this.onSymbolSearchClicked,!1),this.symbolClearButton.addEventListener("click",this.onSymbolClearClicked,!1),this.searchSubmit.addEventListener("click",this.onSearchSubmit,!1)},layout:function(){this._super();var a=window.innerHeight;a-=this.symbolList.getBoundingClientRect().top,a-=this.saveButton.offsetHeight,a-=65,a+=parseInt(window.getComputedStyle(this.innerElement)["margin-top"]||0,10),this.symbolList.style.height=a+"px";var b=this.symbolSearchButton.getBoundingClientRect();this.searchInputWrapper.style.left=b.left+b.width+15+"px",this.searchInputWrapper.style.top=b.top+b.height/2+"px"},search:function(a){this.hideSearchOverlay(),a&&(LM.util.io.trackEngagement("search",{query:a}),this.setSearchState("searching"),this.lastSearchedTerm=a,LM.util.symbols.search(a,this.onSearchSuccess.bind(this),this.onSearchError.bind(this)))},showSaveSpinner:function(){this.saveButtonLoader.start()},hideSaveSpinner:function(){this.saveButtonLoader.stop()},onSearchSuccess:function(a){a?(this.renderSymbols(a),this.hasSearchResults=!0,this.finishSearch(),LM.util.io.trackEngagement("search_success",{query:this.lastSearchedTerm,results:a.length})):(LM.notify(LM.locale.SEARCH_ERROR,"negative"),this.hasSearchResults=!1,this.finishSearch())},onSearchError:function(a){404===a?(LM.notify('No results for "'+this.lastSearchedTerm+'"'),LM.util.io.trackEngagement("search_no_results",{query:this.lastSearchedTerm})):(LM.notify(LM.locale.SEARCH_ERROR,"negative"),LM.util.io.trackEngagement("search_error",{query:this.lastSearchedTerm})),this.finishSearch()},finishSearch:function(){this.setSearchState(this.hasSearchResults?"has-results":"idle")},setFocus:function(a){"title"===a?(this.titleInput.focus(),this.titleInput.select()):"subtitle"===a&&(this.subtitleInput.focus(),this.subtitleInput.select())},setSearchState:function(a){this.symbolSection.setAttribute("data-search-state",a)},getSearchState:function(){return this.symbolSection.getAttribute("data-search-state")},setTitleValue:function(a){this.titleInput.value=a},setSubtitleValue:function(a){this.subtitleInput.value=a},showSearchOverlay:function(){this.searchOverlay.classList.add("visible"),setTimeout(function(){this.searchInput.focus(),this.searchInput.select()}.bind(this),100),document.addEventListener("keydown",this.onSearchKeyDown,!1),this.searchOverlay.addEventListener("click",this.onSearchOverlayClick,!1),LM.util.io.trackEngagement("show_search_field")},hideSearchOverlay:function(){this.searchOverlay.classList.remove("visible"),document.removeEventListener("keydown",this.onSearchKeyDown,!1),this.searchOverlay.removeEventListener("click",this.onSearchOverlayClick,!1)},onSearchKeyDown:function(a){switch(a.keyCode){case 27:this.hideSearchOverlay();break;case 13:this.search(this.searchInput.value)}},onSearchOverlayClick:function(a){a.target===this.searchOverlay&&this.hideSearchOverlay()},onSearchSubmit:function(){this.search(this.searchInput.value)},onTitleKeyDown:function(a){LM.isPurchased()&&(LM.discardPurchase(),a.preventDefault())},onTitleKeyUp:function(){LM.setTitleValue(this.titleInput.value,!0)},onSubtitleKeyUp:function(){LM.setSubtitleValue(this.subtitleInput.value,!0)},onSaveClicked:function(){LM.isPurchased()?LM.getView("download").show():LM.getView("save").show()},onSymbolSearchClicked:function(a){this.showSearchOverlay(),a.preventDefault()},onSymbolClearClicked:function(a){this.renderSymbols(LM.config.SYMBOLS),this.setSearchState("idle"),LM.util.io.trackEngagement("search_reset"),a.preventDefault()},onLogoClicked:function(a){LM.reset(),a.preventDefault()},onHelpClicked:function(a){LM.getView("help").show(),a.preventDefault()}}),LM.namespace("views").Splash=LM.views.Base.extend({init:function(){this._super("splash"),this.completed=new signals.Signal,setTimeout(function(){LM.getElement().classList.add("splash-view")},100)},render:function(){this._super(),this.domElement.innerHTML=['<div class="background"></div>','<div class="banner"><h1>Logos made simple.</h1><p>Enter your name below to get started.</p></div>','<div class="squarespace-logo"></div>','<div class="title">','<input autofocus type="text" name="title-input" placeholder="LOGO NAME">','<div class="submit"><span class="icon"></div>',"</div>",'<div class="cta">Need a website? <a href="http://www.squarespace.com/templates" class="cta-button">Try Squarespace</a></div>'].join(""),this.logoElement=this.domElement.querySelector(".squarespace-logo"),this.titleInput=this.domElement.querySelector(".title input"),this.submitButton=this.domElement.querySelector(".title .submit");var a=new LM.components.Typer(this.titleInput,"LOGO");a.start(),this.titleInput.style.backgroundColor=LM.config.DEFAULT_SYMBOL_COLOR},renderTerms:function(a){this.domElement.innerHTML+=['<div class="terms">',"<p>"+a+"</p>","</div>"].join("")},bind:function(){this._super(),this.onTitleChange=this.onTitleChange.bind(this),this.onSubmitClick=this.onSubmitClick.bind(this),this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this),this.titleInput.addEventListener("change",this.onTitleChange,!1),this.titleInput.addEventListener("keyup",this.onTitleChange,!1),this.submitButton.addEventListener("click",this.onSubmitClick,!1),document.addEventListener("keydown",this.onDocumentKeyDown,!1)},submit:function(){document.removeEventListener("keydown",this.onDocumentKeyDown,!1),this.completed.dispatch(this.titleInput.value),setTimeout(function(){LM.getElement().classList.add("app-view"),setTimeout(function(){LM.getView("settings").showSearchOverlay(),this.domElement.parentNode.removeChild(this.domElement)}.bind(this),1e3)}.bind(this),300)},onTitleChange:function(){this.titleInput.value.length?this.submitButton.classList.add("enabled"):this.submitButton.classList.remove("enabled")},onSubmitClick:function(){this.titleInput.value.length&&this.submit()},onDocumentKeyDown:function(a){13===a.keyCode&&this.titleInput.value.length&&this.submit()}});